(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji=Symbol.for("react.element"),fp=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),vp=Symbol.for("react.provider"),gp=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),Sp=Symbol.for("react.memo"),_p=Symbol.for("react.lazy"),th=Symbol.iterator;function kp(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mc=Object.assign,vc={};function jn(e,t,n){this.props=e,this.context=t,this.refs=vc,this.updater=n||pc}jn.prototype.isReactComponent={};jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gc(){}gc.prototype=jn.prototype;function $l(e,t,n){this.props=e,this.context=t,this.refs=vc,this.updater=n||pc}var Vl=$l.prototype=new gc;Vl.constructor=$l;mc(Vl,jn.prototype);Vl.isPureReactComponent=!0;var eh=Array.isArray,yc=Object.prototype.hasOwnProperty,Ul={current:null},wc={key:!0,ref:!0,__self:!0,__source:!0};function Sc(e,t,n){var i,s={},r=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)yc.call(t,i)&&!wc.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:ji,type:e,key:r,ref:o,props:s,_owner:Ul.current}}function Ep(e,t){return{$$typeof:ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ji}function bp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nh=/\/+/g;function Vr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bp(""+e.key):t.toString(36)}function Ns(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ji:case fp:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+Vr(o,0):i,eh(s)?(n="",e!=null&&(n=e.replace(nh,"$&/")+"/"),Ns(s,t,n,"",function(h){return h})):s!=null&&(jl(s)&&(s=Ep(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",eh(e))for(var l=0;l<e.length;l++){r=e[l];var u=i+Vr(r,l);o+=Ns(r,t,n,u,s)}else if(u=kp(e),typeof u=="function")for(e=u.call(e),l=0;!(r=e.next()).done;)r=r.value,u=i+Vr(r,l++),o+=Ns(r,t,n,u,s);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ts(e,t,n){if(e==null)return e;var i=[],s=0;return Ns(e,i,"","",function(r){return t.call(n,r,s++)}),i}function xp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Os={transition:null},Cp={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Os,ReactCurrentOwner:Ul};z.Children={map:ts,forEach:function(e,t,n){ts(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ts(e,function(){t++}),t},toArray:function(e){return ts(e,function(t){return t})||[]},only:function(e){if(!jl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=jn;z.Fragment=dp;z.Profiler=mp;z.PureComponent=$l;z.StrictMode=pp;z.Suspense=wp;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cp;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=mc({},e.props),s=e.key,r=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=Ul.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)yc.call(t,u)&&!wc.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:ji,type:e.type,key:s,ref:r,props:i,_owner:o}};z.createContext=function(e){return e={$$typeof:gp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vp,_context:e},e.Consumer=e};z.createElement=Sc;z.createFactory=function(e){var t=Sc.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:yp,render:e}};z.isValidElement=jl;z.lazy=function(e){return{$$typeof:_p,_payload:{_status:-1,_result:e},_init:xp}};z.memo=function(e,t){return{$$typeof:Sp,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Os.transition;Os.transition={};try{e()}finally{Os.transition=t}};z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};z.useCallback=function(e,t){return mt.current.useCallback(e,t)};z.useContext=function(e){return mt.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};z.useEffect=function(e,t){return mt.current.useEffect(e,t)};z.useId=function(){return mt.current.useId()};z.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return mt.current.useMemo(e,t)};z.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};z.useRef=function(e){return mt.current.useRef(e)};z.useState=function(e){return mt.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return mt.current.useTransition()};z.version="18.2.0";dc.exports=z;var J=dc.exports;const P=cp(J);var _c={exports:{}},Mt={},kc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,T){var O=L.length;L.push(T);t:for(;0<O;){var W=O-1>>>1,et=L[W];if(0<s(et,T))L[W]=T,L[O]=et,O=W;else break t}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var T=L[0],O=L.pop();if(O!==T){L[0]=O;t:for(var W=0,et=L.length,Gi=et>>>1;W<Gi;){var Ie=2*(W+1)-1,$r=L[Ie],$e=Ie+1,Zi=L[$e];if(0>s($r,O))$e<et&&0>s(Zi,$r)?(L[W]=Zi,L[$e]=O,W=$e):(L[W]=$r,L[Ie]=O,W=Ie);else if($e<et&&0>s(Zi,O))L[W]=Zi,L[$e]=O,W=$e;else break t}}return T}function s(L,T){var O=L.sortIndex-T.sortIndex;return O!==0?O:L.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],h=[],a=1,c=null,f=3,v=!1,m=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var T=n(h);T!==null;){if(T.callback===null)i(h);else if(T.startTime<=L)i(h),T.sortIndex=T.expirationTime,t(u,T);else break;T=n(h)}}function w(L){if(g=!1,y(L),!m)if(n(u)!==null)m=!0,ve(E);else{var T=n(h);T!==null&&an(w,T.startTime-L)}}function E(L,T){m=!1,g&&(g=!1,p(C),C=-1),v=!0;var O=f;try{for(y(T),c=n(u);c!==null&&(!(c.expirationTime>T)||L&&!gt());){var W=c.callback;if(typeof W=="function"){c.callback=null,f=c.priorityLevel;var et=W(c.expirationTime<=T);T=e.unstable_now(),typeof et=="function"?c.callback=et:c===n(u)&&i(u),y(T)}else i(u);c=n(u)}if(c!==null)var Gi=!0;else{var Ie=n(h);Ie!==null&&an(w,Ie.startTime-T),Gi=!1}return Gi}finally{c=null,f=O,v=!1}}var x=!1,b=null,C=-1,B=5,N=-1;function gt(){return!(e.unstable_now()-N<B)}function We(){if(b!==null){var L=e.unstable_now();N=L;var T=!0;try{T=b(!0,L)}finally{T?me():(x=!1,b=null)}}else x=!1}var me;if(typeof d=="function")me=function(){d(We)};else if(typeof MessageChannel<"u"){var hn=new MessageChannel,Yi=hn.port2;hn.port1.onmessage=We,me=function(){Yi.postMessage(null)}}else me=function(){k(We,0)};function ve(L){b=L,x||(x=!0,me())}function an(L,T){C=k(function(){L(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||v||(m=!0,ve(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var O=f;f=T;try{return L()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,T){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=f;f=L;try{return T()}finally{f=O}},e.unstable_scheduleCallback=function(L,T,O){var W=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,L){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=O+et,L={id:a++,callback:T,priorityLevel:L,startTime:O,expirationTime:et,sortIndex:-1},O>W?(L.sortIndex=O,t(h,L),n(u)===null&&L===n(h)&&(g?(p(C),C=-1):g=!0,an(w,O-W))):(L.sortIndex=et,t(u,L),m||v||(m=!0,ve(E))),L},e.unstable_shouldYield=gt,e.unstable_wrapCallback=function(L){var T=f;return function(){var O=f;f=T;try{return L.apply(this,arguments)}finally{f=O}}}})(Ec);kc.exports=Ec;var Lp=kc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=J,Lt=Lp;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xc=new Set,Ei={};function ln(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(Ei[e]=t,e=0;e<t.length;e++)xc.add(t[e])}var he=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ih={},sh={};function Tp(e){return Fo.call(sh,e)?!0:Fo.call(ih,e)?!1:Mp.test(e)?sh[e]=!0:(ih[e]=!0,!1)}function Pp(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Np(e,t,n,i){if(t===null||typeof t>"u"||Pp(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,n,i,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hl=/[\-:]([a-z])/g;function ql(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hl,ql);lt[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hl,ql);lt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hl,ql);lt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kl(e,t,n,i){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Np(t,n,s,i)&&(n=null),i||s===null?Tp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var de=bc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),pn=Symbol.for("react.portal"),mn=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),Ao=Symbol.for("react.profiler"),Cc=Symbol.for("react.provider"),Lc=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),Wo=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),Jl=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Mc=Symbol.for("react.offscreen"),rh=Symbol.iterator;function Qn(e){return e===null||typeof e!="object"?null:(e=rh&&e[rh]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Ur;function si(e){if(Ur===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ur=t&&t[1]||""}return`
`+Ur+e}var jr=!1;function Hr(e,t){if(!e||jr)return"";jr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var i=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){i=h}e.call(t.prototype)}else{try{throw Error()}catch(h){i=h}e()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{jr=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?si(e):""}function Op(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=Hr(e.type,!1),e;case 11:return e=Hr(e.type.render,!1),e;case 1:return e=Hr(e.type,!0),e;default:return""}}function $o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mn:return"Fragment";case pn:return"Portal";case Ao:return"Profiler";case Ql:return"StrictMode";case Wo:return"Suspense";case Io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lc:return(e.displayName||"Context")+".Consumer";case Cc:return(e._context.displayName||"Context")+".Provider";case Xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jl:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}function zp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(t);case 8:return t===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ze(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rp(e){var t=Tc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){e._valueTracker||(e._valueTracker=Rp(e))}function Pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Tc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vo(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oh(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ze(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nc(e,t){t=t.checked,t!=null&&Kl(e,"checked",t,!1)}function Uo(e,t){Nc(e,t);var n=ze(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jo(e,t.type,n):t.hasOwnProperty("defaultValue")&&jo(e,t.type,ze(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jo(e,t,n){(t!=="number"||qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ri=Array.isArray;function Mn(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ze(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(ri(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ze(n)}}function Oc(e,t){var n=ze(t.value),i=ze(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function hh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,Rc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dp=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){Dp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function Dc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function Bc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Dc(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var Bp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(e,t){if(t){if(Bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Qo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,Tn=null,Pn=null;function ah(e){if(e=Ki(e)){if(typeof Jo!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Er(t),Jo(e.stateNode,e.type,t))}}function Fc(e){Tn?Pn?Pn.push(e):Pn=[e]:Tn=e}function Ac(){if(Tn){var e=Tn,t=Pn;if(Pn=Tn=null,ah(e),t)for(e=0;e<t.length;e++)ah(t[e])}}function Wc(e,t){return e(t)}function Ic(){}var qr=!1;function $c(e,t,n){if(qr)return e(t,n);qr=!0;try{return Wc(e,t,n)}finally{qr=!1,(Tn!==null||Pn!==null)&&(Ic(),Ac())}}function xi(e,t){var n=e.stateNode;if(n===null)return null;var i=Er(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Yo=!1;if(he)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Yo=!1}function Fp(e,t,n,i,s,r,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(a){this.onError(a)}}var ai=!1,Ks=null,Qs=!1,Go=null,Ap={onError:function(e){ai=!0,Ks=e}};function Wp(e,t,n,i,s,r,o,l,u){ai=!1,Ks=null,Fp.apply(Ap,arguments)}function Ip(e,t,n,i,s,r,o,l,u){if(Wp.apply(this,arguments),ai){if(ai){var h=Ks;ai=!1,Ks=null}else throw Error(_(198));Qs||(Qs=!0,Go=h)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ch(e){if(un(e)!==e)throw Error(_(188))}function $p(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return ch(s),e;if(r===i)return ch(s),t;r=r.sibling}throw Error(_(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==i)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function Uc(e){return e=$p(e),e!==null?jc(e):null}function jc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jc(e);if(t!==null)return t;e=e.sibling}return null}var Hc=Lt.unstable_scheduleCallback,fh=Lt.unstable_cancelCallback,Vp=Lt.unstable_shouldYield,Up=Lt.unstable_requestPaint,Q=Lt.unstable_now,jp=Lt.unstable_getCurrentPriorityLevel,Gl=Lt.unstable_ImmediatePriority,qc=Lt.unstable_UserBlockingPriority,Xs=Lt.unstable_NormalPriority,Hp=Lt.unstable_LowPriority,Kc=Lt.unstable_IdlePriority,wr=null,Gt=null;function qp(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(wr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Xp,Kp=Math.log,Qp=Math.LN2;function Xp(e){return e>>>=0,e===0?32:31-(Kp(e)/Qp|0)|0}var ss=64,rs=4194304;function oi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=oi(l):(r&=o,r!==0&&(i=oi(r)))}else o=n&~s,o!==0?i=oi(o):r!==0&&(i=oi(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ut(t),s=1<<n,i|=e[n],t&=~s;return i}function Jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yp(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-Ut(r),l=1<<o,u=s[o];u===-1?(!(l&n)||l&i)&&(s[o]=Jp(l,t)):u<=t&&(e.expiredLanes|=l),r&=~l}}function Zo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qc(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Kr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Gp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}function Zl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ut(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var F=0;function Xc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jc,tu,Yc,Gc,Zc,tl=!1,os=[],xe=null,Ce=null,Le=null,Ci=new Map,Li=new Map,_e=[],Zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dh(e,t){switch(e){case"focusin":case"focusout":xe=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":Le=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Jn(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Ki(t),t!==null&&tu(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tm(e,t,n,i,s){switch(t){case"focusin":return xe=Jn(xe,e,t,n,i,s),!0;case"dragenter":return Ce=Jn(Ce,e,t,n,i,s),!0;case"mouseover":return Le=Jn(Le,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ci.set(r,Jn(Ci.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Li.set(r,Jn(Li.get(r)||null,e,t,n,i,s)),!0}return!1}function tf(e){var t=qe(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=Vc(n),t!==null){e.blockedOn=t,Zc(e.priority,function(){Yc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Xo=i,n.target.dispatchEvent(i),Xo=null}else return t=Ki(n),t!==null&&tu(t),e.blockedOn=n,!1;t.shift()}return!0}function ph(e,t,n){zs(e)&&n.delete(t)}function em(){tl=!1,xe!==null&&zs(xe)&&(xe=null),Ce!==null&&zs(Ce)&&(Ce=null),Le!==null&&zs(Le)&&(Le=null),Ci.forEach(ph),Li.forEach(ph)}function Yn(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,em)))}function Mi(e){function t(s){return Yn(s,e)}if(0<os.length){Yn(os[0],e);for(var n=1;n<os.length;n++){var i=os[n];i.blockedOn===e&&(i.blockedOn=null)}}for(xe!==null&&Yn(xe,e),Ce!==null&&Yn(Ce,e),Le!==null&&Yn(Le,e),Ci.forEach(t),Li.forEach(t),n=0;n<_e.length;n++)i=_e[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<_e.length&&(n=_e[0],n.blockedOn===null);)tf(n),n.blockedOn===null&&_e.shift()}var Nn=de.ReactCurrentBatchConfig,Ys=!0;function nm(e,t,n,i){var s=F,r=Nn.transition;Nn.transition=null;try{F=1,eu(e,t,n,i)}finally{F=s,Nn.transition=r}}function im(e,t,n,i){var s=F,r=Nn.transition;Nn.transition=null;try{F=4,eu(e,t,n,i)}finally{F=s,Nn.transition=r}}function eu(e,t,n,i){if(Ys){var s=el(e,t,n,i);if(s===null)io(e,t,i,Gs,n),dh(e,i);else if(tm(s,e,t,n,i))i.stopPropagation();else if(dh(e,i),t&4&&-1<Zp.indexOf(e)){for(;s!==null;){var r=Ki(s);if(r!==null&&Jc(r),r=el(e,t,n,i),r===null&&io(e,t,i,Gs,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else io(e,t,i,null,n)}}var Gs=null;function el(e,t,n,i){if(Gs=null,e=Yl(i),e=qe(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gs=e,null}function ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jp()){case Gl:return 1;case qc:return 4;case Xs:case Hp:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Ee=null,nu=null,Rs=null;function nf(){if(Rs)return Rs;var e,t=nu,n=t.length,i,s="value"in Ee?Ee.value:Ee.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[r-i];i++);return Rs=s.slice(e,1<i?1-i:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function mh(){return!1}function Tt(e){function t(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ls:mh,this.isPropagationStopped=mh,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Tt(Hn),qi=q({},Hn,{view:0,detail:0}),sm=Tt(qi),Qr,Xr,Gn,Sr=q({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(Qr=e.screenX-Gn.screenX,Xr=e.screenY-Gn.screenY):Xr=Qr=0,Gn=e),Qr)},movementY:function(e){return"movementY"in e?e.movementY:Xr}}),vh=Tt(Sr),rm=q({},Sr,{dataTransfer:0}),om=Tt(rm),lm=q({},qi,{relatedTarget:0}),Jr=Tt(lm),um=q({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=Tt(um),am=q({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cm=Tt(am),fm=q({},Hn,{data:0}),gh=Tt(fm),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mm[e])?!!t[e]:!1}function su(){return vm}var gm=q({},qi,{key:function(e){if(e.key){var t=dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ym=Tt(gm),wm=q({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=Tt(wm),Sm=q({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),_m=Tt(Sm),km=q({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Em=Tt(km),bm=q({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xm=Tt(bm),Cm=[9,13,27,32],ru=he&&"CompositionEvent"in window,ci=null;he&&"documentMode"in document&&(ci=document.documentMode);var Lm=he&&"TextEvent"in window&&!ci,sf=he&&(!ru||ci&&8<ci&&11>=ci),wh=String.fromCharCode(32),Sh=!1;function rf(e,t){switch(e){case"keyup":return Cm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Mm(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(Sh=!0,wh);case"textInput":return e=t.data,e===wh&&Sh?null:e;default:return null}}function Tm(e,t){if(vn)return e==="compositionend"||!ru&&rf(e,t)?(e=nf(),Rs=nu=Ee=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sf&&t.locale!=="ko"?null:t.data;default:return null}}var Pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pm[e.type]:t==="textarea"}function lf(e,t,n,i){Fc(i),t=Zs(t,"onChange"),0<t.length&&(n=new iu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var fi=null,Ti=null;function Nm(e){yf(e,0)}function _r(e){var t=wn(e);if(Pc(t))return e}function Om(e,t){if(e==="change")return t}var uf=!1;if(he){var Yr;if(he){var Gr="oninput"in document;if(!Gr){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),Gr=typeof kh.oninput=="function"}Yr=Gr}else Yr=!1;uf=Yr&&(!document.documentMode||9<document.documentMode)}function Eh(){fi&&(fi.detachEvent("onpropertychange",hf),Ti=fi=null)}function hf(e){if(e.propertyName==="value"&&_r(Ti)){var t=[];lf(t,Ti,e,Yl(e)),$c(Nm,t)}}function zm(e,t,n){e==="focusin"?(Eh(),fi=t,Ti=n,fi.attachEvent("onpropertychange",hf)):e==="focusout"&&Eh()}function Rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _r(Ti)}function Dm(e,t){if(e==="click")return _r(t)}function Bm(e,t){if(e==="input"||e==="change")return _r(t)}function Fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Fm;function Pi(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Fo.call(t,s)||!Ht(e[s],t[s]))return!1}return!0}function bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xh(e,t){var n=bh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=bh(n)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cf(){for(var e=window,t=qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qs(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Am(e){var t=cf(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&af(n.ownerDocument.documentElement,n)){if(i!==null&&ou(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=xh(n,r);var o=xh(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wm=he&&"documentMode"in document&&11>=document.documentMode,gn=null,nl=null,di=null,il=!1;function Ch(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;il||gn==null||gn!==qs(i)||(i=gn,"selectionStart"in i&&ou(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),di&&Pi(di,i)||(di=i,i=Zs(nl,"onSelect"),0<i.length&&(t=new iu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gn)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Zr={},ff={};he&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function kr(e){if(Zr[e])return Zr[e];if(!yn[e])return e;var t=yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ff)return Zr[e]=t[n];return e}var df=kr("animationend"),pf=kr("animationiteration"),mf=kr("animationstart"),vf=kr("transitionend"),gf=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Be(e,t){gf.set(e,t),ln(t,[e])}for(var to=0;to<Lh.length;to++){var eo=Lh[to],Im=eo.toLowerCase(),$m=eo[0].toUpperCase()+eo.slice(1);Be(Im,"on"+$m)}Be(df,"onAnimationEnd");Be(pf,"onAnimationIteration");Be(mf,"onAnimationStart");Be("dblclick","onDoubleClick");Be("focusin","onFocus");Be("focusout","onBlur");Be(vf,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Mh(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Ip(i,t,void 0,e),e.currentTarget=null}function yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break t;Mh(s,l,h),r=u}else for(o=0;o<i.length;o++){if(l=i[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break t;Mh(s,l,h),r=u}}}if(Qs)throw e=Go,Qs=!1,Go=null,e}function I(e,t){var n=t[ul];n===void 0&&(n=t[ul]=new Set);var i=e+"__bubble";n.has(i)||(wf(t,e,2,!1),n.add(i))}function no(e,t,n){var i=0;t&&(i|=4),wf(n,e,i,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Ni(e){if(!e[hs]){e[hs]=!0,xc.forEach(function(n){n!=="selectionchange"&&(Vm.has(n)||no(n,!1,e),no(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,no("selectionchange",!1,t))}}function wf(e,t,n,i){switch(ef(t)){case 1:var s=nm;break;case 4:s=im;break;default:s=eu}n=s.bind(null,t,n,e),s=void 0,!Yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function io(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qe(l),o===null)return;if(u=o.tag,u===5||u===6){i=r=o;continue t}l=l.parentNode}}i=i.return}$c(function(){var h=r,a=Yl(n),c=[];t:{var f=gf.get(e);if(f!==void 0){var v=iu,m=e;switch(e){case"keypress":if(Ds(n)===0)break t;case"keydown":case"keyup":v=ym;break;case"focusin":m="focus",v=Jr;break;case"focusout":m="blur",v=Jr;break;case"beforeblur":case"afterblur":v=Jr;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_m;break;case df:case pf:case mf:v=hm;break;case vf:v=Em;break;case"scroll":v=sm;break;case"wheel":v=xm;break;case"copy":case"cut":case"paste":v=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=yh}var g=(t&4)!==0,k=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var d=h,y;d!==null;){y=d;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=xi(d,p),w!=null&&g.push(Oi(d,w,y)))),k)break;d=d.return}0<g.length&&(f=new v(f,m,null,n,a),c.push({event:f,listeners:g}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Xo&&(m=n.relatedTarget||n.fromElement)&&(qe(m)||m[ae]))break t;if((v||f)&&(f=a.window===a?a:(f=a.ownerDocument)?f.defaultView||f.parentWindow:window,v?(m=n.relatedTarget||n.toElement,v=h,m=m?qe(m):null,m!==null&&(k=un(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=h),v!==m)){if(g=vh,w="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(g=yh,w="onPointerLeave",p="onPointerEnter",d="pointer"),k=v==null?f:wn(v),y=m==null?f:wn(m),f=new g(w,d+"leave",v,n,a),f.target=k,f.relatedTarget=y,w=null,qe(a)===h&&(g=new g(p,d+"enter",m,n,a),g.target=y,g.relatedTarget=k,w=g),k=w,v&&m)e:{for(g=v,p=m,d=0,y=g;y;y=cn(y))d++;for(y=0,w=p;w;w=cn(w))y++;for(;0<d-y;)g=cn(g),d--;for(;0<y-d;)p=cn(p),y--;for(;d--;){if(g===p||p!==null&&g===p.alternate)break e;g=cn(g),p=cn(p)}g=null}else g=null;v!==null&&Th(c,f,v,g,!1),m!==null&&k!==null&&Th(c,k,m,g,!0)}}t:{if(f=h?wn(h):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=Om;else if(_h(f))if(uf)E=Bm;else{E=Rm;var x=zm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Dm);if(E&&(E=E(e,h))){lf(c,E,n,a);break t}x&&x(e,f,h),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&jo(f,"number",f.value)}switch(x=h?wn(h):window,e){case"focusin":(_h(x)||x.contentEditable==="true")&&(gn=x,nl=h,di=null);break;case"focusout":di=nl=gn=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,Ch(c,n,a);break;case"selectionchange":if(Wm)break;case"keydown":case"keyup":Ch(c,n,a)}var b;if(ru)t:{switch(e){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else vn?rf(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(sf&&n.locale!=="ko"&&(vn||C!=="onCompositionStart"?C==="onCompositionEnd"&&vn&&(b=nf()):(Ee=a,nu="value"in Ee?Ee.value:Ee.textContent,vn=!0)),x=Zs(h,C),0<x.length&&(C=new gh(C,e,null,n,a),c.push({event:C,listeners:x}),b?C.data=b:(b=of(n),b!==null&&(C.data=b)))),(b=Lm?Mm(e,n):Tm(e,n))&&(h=Zs(h,"onBeforeInput"),0<h.length&&(a=new gh("onBeforeInput","beforeinput",null,n,a),c.push({event:a,listeners:h}),a.data=b))}yf(c,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=xi(e,n),r!=null&&i.unshift(Oi(e,r,s)),r=xi(e,t),r!=null&&i.push(Oi(e,r,s))),e=e.return}return i}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Th(e,t,n,i,s){for(var r=t._reactName,o=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&h!==null&&(l=h,s?(u=xi(n,r),u!=null&&o.unshift(Oi(n,u,l))):s||(u=xi(n,r),u!=null&&o.push(Oi(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Um=/\r\n?/g,jm=/\u0000|\uFFFD/g;function Ph(e){return(typeof e=="string"?e:""+e).replace(Um,`
`).replace(jm,"")}function as(e,t,n){if(t=Ph(t),Ph(e)!==t&&n)throw Error(_(425))}function tr(){}var sl=null,rl=null;function ol(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,Hm=typeof clearTimeout=="function"?clearTimeout:void 0,Nh=typeof Promise=="function"?Promise:void 0,qm=typeof queueMicrotask=="function"?queueMicrotask:typeof Nh<"u"?function(e){return Nh.resolve(null).then(e).catch(Km)}:ll;function Km(e){setTimeout(function(){throw e})}function so(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Mi(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Mi(t)}function Me(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+qn,zi="__reactProps$"+qn,ae="__reactContainer$"+qn,ul="__reactEvents$"+qn,Qm="__reactListeners$"+qn,Xm="__reactHandles$"+qn;function qe(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ae]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oh(e);e!==null;){if(n=e[Jt])return n;e=Oh(e)}return t}e=n,n=e.parentNode}return null}function Ki(e){return e=e[Jt]||e[ae],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Er(e){return e[zi]||null}var hl=[],Sn=-1;function Fe(e){return{current:e}}function V(e){0>Sn||(e.current=hl[Sn],hl[Sn]=null,Sn--)}function A(e,t){Sn++,hl[Sn]=e.current,e.current=t}var Re={},ct=Fe(Re),St=Fe(!1),Ge=Re;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Re;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=t[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function er(){V(St),V(ct)}function zh(e,t,n){if(ct.current!==Re)throw Error(_(168));A(ct,t),A(St,n)}function Sf(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(_(108,zp(e)||"Unknown",s));return q({},n,i)}function nr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Re,Ge=ct.current,A(ct,e),A(St,St.current),!0}function Rh(e,t,n){var i=e.stateNode;if(!i)throw Error(_(169));n?(e=Sf(e,t,Ge),i.__reactInternalMemoizedMergedChildContext=e,V(St),V(ct),A(ct,e)):V(St),A(St,n)}var ie=null,br=!1,ro=!1;function _f(e){ie===null?ie=[e]:ie.push(e)}function Jm(e){br=!0,_f(e)}function Ae(){if(!ro&&ie!==null){ro=!0;var e=0,t=F;try{var n=ie;for(F=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ie=null,br=!1}catch(s){throw ie!==null&&(ie=ie.slice(e+1)),Hc(Gl,Ae),s}finally{F=t,ro=!1}}return null}var _n=[],kn=0,ir=null,sr=0,Nt=[],Ot=0,Ze=null,se=1,re="";function je(e,t){_n[kn++]=sr,_n[kn++]=ir,ir=e,sr=t}function kf(e,t,n){Nt[Ot++]=se,Nt[Ot++]=re,Nt[Ot++]=Ze,Ze=e;var i=se;e=re;var s=32-Ut(i)-1;i&=~(1<<s),n+=1;var r=32-Ut(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,se=1<<32-Ut(t)+s|n<<s|i,re=r+e}else se=1<<r|n<<s|i,re=e}function lu(e){e.return!==null&&(je(e,1),kf(e,1,0))}function uu(e){for(;e===ir;)ir=_n[--kn],_n[kn]=null,sr=_n[--kn],_n[kn]=null;for(;e===Ze;)Ze=Nt[--Ot],Nt[Ot]=null,re=Nt[--Ot],Nt[Ot]=null,se=Nt[--Ot],Nt[Ot]=null}var Ct=null,xt=null,U=!1,Vt=null;function Ef(e,t){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,xt=Me(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ze!==null?{id:se,overflow:re}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,xt=null,!0):!1;default:return!1}}function al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(U){var t=xt;if(t){var n=t;if(!Dh(e,t)){if(al(e))throw Error(_(418));t=Me(n.nextSibling);var i=Ct;t&&Dh(e,t)?Ef(i,n):(e.flags=e.flags&-4097|2,U=!1,Ct=e)}}else{if(al(e))throw Error(_(418));e.flags=e.flags&-4097|2,U=!1,Ct=e}}}function Bh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function cs(e){if(e!==Ct)return!1;if(!U)return Bh(e),U=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ol(e.type,e.memoizedProps)),t&&(t=xt)){if(al(e))throw bf(),Error(_(418));for(;t;)Ef(e,t),t=Me(t.nextSibling)}if(Bh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Me(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=Ct?Me(e.stateNode.nextSibling):null;return!0}function bf(){for(var e=xt;e;)e=Me(e.nextSibling)}function Fn(){xt=Ct=null,U=!1}function hu(e){Vt===null?Vt=[e]:Vt.push(e)}var Ym=de.ReactCurrentBatchConfig;function Wt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var rr=Fe(null),or=null,En=null,au=null;function cu(){au=En=or=null}function fu(e){var t=rr.current;V(rr),e._currentValue=t}function fl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function On(e,t){or=e,au=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(au!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(or===null)throw Error(_(308));En=e,or.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Ke=null;function du(e){Ke===null?Ke=[e]:Ke.push(e)}function xf(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,du(t)):(n.next=s.next,s.next=n),t.interleaved=n,ce(e,i)}function ce(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Se=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ue(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Te(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,D&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,ce(e,n)}return s=i.interleaved,s===null?(t.next=t,du(i)):(t.next=s.next,s.next=t),i.interleaved=t,ce(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Zl(e,n)}}function Fh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lr(e,t,n,i){var s=e.updateQueue;Se=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?r=h:o.next=h,o=u;var a=e.alternate;a!==null&&(a=a.updateQueue,l=a.lastBaseUpdate,l!==o&&(l===null?a.firstBaseUpdate=h:l.next=h,a.lastBaseUpdate=u))}if(r!==null){var c=s.baseState;o=0,a=h=u=null,l=r;do{var f=l.lane,v=l.eventTime;if((i&f)===f){a!==null&&(a=a.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var m=e,g=l;switch(f=t,v=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){c=m.call(v,c,f);break t}c=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(v,c,f):m,f==null)break t;c=q({},c,f);break t;case 2:Se=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},a===null?(h=a=v,u=c):a=a.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(a===null&&(u=c),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=a,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);en|=o,e.lanes=o,e.memoizedState=c}}function Ah(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(_(191,s));s.call(i)}}}var Lf=new bc.Component().refs;function dl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xr={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=dt(),s=Ne(e),r=ue(i,s);r.payload=t,n!=null&&(r.callback=n),t=Te(e,r,s),t!==null&&(jt(t,e,s,i),Bs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=dt(),s=Ne(e),r=ue(i,s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Te(e,r,s),t!==null&&(jt(t,e,s,i),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),i=Ne(e),s=ue(n,i);s.tag=2,t!=null&&(s.callback=t),t=Te(e,s,i),t!==null&&(jt(t,e,i,n),Bs(t,e,i))}};function Wh(e,t,n,i,s,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!Pi(n,i)||!Pi(s,r):!0}function Mf(e,t,n){var i=!1,s=Re,r=t.contextType;return typeof r=="object"&&r!==null?r=Bt(r):(s=_t(t)?Ge:ct.current,i=t.contextTypes,r=(i=i!=null)?Bn(e,s):Re),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xr,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function Ih(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xr.enqueueReplaceState(t,t.state,null)}function pl(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=Lf,pu(e);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Bt(r):(r=_t(t)?Ge:ct.current,s.context=Bn(e,r)),s.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(dl(e,t,r,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xr.enqueueReplaceState(s,s.state,null),lr(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var i=n.stateNode}if(!i)throw Error(_(147,e));var s=i,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var l=s.refs;l===Lf&&(l=s.refs={}),o===null?delete l[r]:l[r]=o},t._stringRef=r,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $h(e){var t=e._init;return t(e._payload)}function Tf(e){function t(p,d){if(e){var y=p.deletions;y===null?(p.deletions=[d],p.flags|=16):y.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function i(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function s(p,d){return p=Oe(p,d),p.index=0,p.sibling=null,p}function r(p,d,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<d?(p.flags|=2,d):y):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,d,y,w){return d===null||d.tag!==6?(d=fo(y,p.mode,w),d.return=p,d):(d=s(d,y),d.return=p,d)}function u(p,d,y,w){var E=y.type;return E===mn?a(p,d,y.props.children,w,y.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===we&&$h(E)===d.type)?(w=s(d,y.props),w.ref=Zn(p,d,y),w.return=p,w):(w=Vs(y.type,y.key,y.props,null,p.mode,w),w.ref=Zn(p,d,y),w.return=p,w)}function h(p,d,y,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=po(y,p.mode,w),d.return=p,d):(d=s(d,y.children||[]),d.return=p,d)}function a(p,d,y,w,E){return d===null||d.tag!==7?(d=Je(y,p.mode,w,E),d.return=p,d):(d=s(d,y),d.return=p,d)}function c(p,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=fo(""+d,p.mode,y),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case es:return y=Vs(d.type,d.key,d.props,null,p.mode,y),y.ref=Zn(p,null,d),y.return=p,y;case pn:return d=po(d,p.mode,y),d.return=p,d;case we:var w=d._init;return c(p,w(d._payload),y)}if(ri(d)||Qn(d))return d=Je(d,p.mode,y,null),d.return=p,d;fs(p,d)}return null}function f(p,d,y,w){var E=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(p,d,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return y.key===E?u(p,d,y,w):null;case pn:return y.key===E?h(p,d,y,w):null;case we:return E=y._init,f(p,d,E(y._payload),w)}if(ri(y)||Qn(y))return E!==null?null:a(p,d,y,w,null);fs(p,y)}return null}function v(p,d,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,l(d,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case es:return p=p.get(w.key===null?y:w.key)||null,u(d,p,w,E);case pn:return p=p.get(w.key===null?y:w.key)||null,h(d,p,w,E);case we:var x=w._init;return v(p,d,y,x(w._payload),E)}if(ri(w)||Qn(w))return p=p.get(y)||null,a(d,p,w,E,null);fs(d,w)}return null}function m(p,d,y,w){for(var E=null,x=null,b=d,C=d=0,B=null;b!==null&&C<y.length;C++){b.index>C?(B=b,b=null):B=b.sibling;var N=f(p,b,y[C],w);if(N===null){b===null&&(b=B);break}e&&b&&N.alternate===null&&t(p,b),d=r(N,d,C),x===null?E=N:x.sibling=N,x=N,b=B}if(C===y.length)return n(p,b),U&&je(p,C),E;if(b===null){for(;C<y.length;C++)b=c(p,y[C],w),b!==null&&(d=r(b,d,C),x===null?E=b:x.sibling=b,x=b);return U&&je(p,C),E}for(b=i(p,b);C<y.length;C++)B=v(b,p,C,y[C],w),B!==null&&(e&&B.alternate!==null&&b.delete(B.key===null?C:B.key),d=r(B,d,C),x===null?E=B:x.sibling=B,x=B);return e&&b.forEach(function(gt){return t(p,gt)}),U&&je(p,C),E}function g(p,d,y,w){var E=Qn(y);if(typeof E!="function")throw Error(_(150));if(y=E.call(y),y==null)throw Error(_(151));for(var x=E=null,b=d,C=d=0,B=null,N=y.next();b!==null&&!N.done;C++,N=y.next()){b.index>C?(B=b,b=null):B=b.sibling;var gt=f(p,b,N.value,w);if(gt===null){b===null&&(b=B);break}e&&b&&gt.alternate===null&&t(p,b),d=r(gt,d,C),x===null?E=gt:x.sibling=gt,x=gt,b=B}if(N.done)return n(p,b),U&&je(p,C),E;if(b===null){for(;!N.done;C++,N=y.next())N=c(p,N.value,w),N!==null&&(d=r(N,d,C),x===null?E=N:x.sibling=N,x=N);return U&&je(p,C),E}for(b=i(p,b);!N.done;C++,N=y.next())N=v(b,p,C,N.value,w),N!==null&&(e&&N.alternate!==null&&b.delete(N.key===null?C:N.key),d=r(N,d,C),x===null?E=N:x.sibling=N,x=N);return e&&b.forEach(function(We){return t(p,We)}),U&&je(p,C),E}function k(p,d,y,w){if(typeof y=="object"&&y!==null&&y.type===mn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case es:t:{for(var E=y.key,x=d;x!==null;){if(x.key===E){if(E=y.type,E===mn){if(x.tag===7){n(p,x.sibling),d=s(x,y.props.children),d.return=p,p=d;break t}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===we&&$h(E)===x.type){n(p,x.sibling),d=s(x,y.props),d.ref=Zn(p,x,y),d.return=p,p=d;break t}n(p,x);break}else t(p,x);x=x.sibling}y.type===mn?(d=Je(y.props.children,p.mode,w,y.key),d.return=p,p=d):(w=Vs(y.type,y.key,y.props,null,p.mode,w),w.ref=Zn(p,d,y),w.return=p,p=w)}return o(p);case pn:t:{for(x=y.key;d!==null;){if(d.key===x)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(p,d.sibling),d=s(d,y.children||[]),d.return=p,p=d;break t}else{n(p,d);break}else t(p,d);d=d.sibling}d=po(y,p.mode,w),d.return=p,p=d}return o(p);case we:return x=y._init,k(p,d,x(y._payload),w)}if(ri(y))return m(p,d,y,w);if(Qn(y))return g(p,d,y,w);fs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(p,d.sibling),d=s(d,y),d.return=p,p=d):(n(p,d),d=fo(y,p.mode,w),d.return=p,p=d),o(p)):n(p,d)}return k}var An=Tf(!0),Pf=Tf(!1),Qi={},Zt=Fe(Qi),Ri=Fe(Qi),Di=Fe(Qi);function Qe(e){if(e===Qi)throw Error(_(174));return e}function mu(e,t){switch(A(Di,t),A(Ri,e),A(Zt,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qo(t,e)}V(Zt),A(Zt,t)}function Wn(){V(Zt),V(Ri),V(Di)}function Nf(e){Qe(Di.current);var t=Qe(Zt.current),n=qo(t,e.type);t!==n&&(A(Ri,e),A(Zt,n))}function vu(e){Ri.current===e&&(V(Zt),V(Ri))}var j=Fe(0);function ur(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function gu(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var Fs=de.ReactCurrentDispatcher,lo=de.ReactCurrentBatchConfig,tn=0,H=null,Z=null,nt=null,hr=!1,pi=!1,Bi=0,Gm=0;function ut(){throw Error(_(321))}function yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function wu(e,t,n,i,s,r){if(tn=r,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?nv:iv,e=n(i,s),pi){r=0;do{if(pi=!1,Bi=0,25<=r)throw Error(_(301));r+=1,nt=Z=null,t.updateQueue=null,Fs.current=sv,e=n(i,s)}while(pi)}if(Fs.current=ar,t=Z!==null&&Z.next!==null,tn=0,nt=Z=H=null,hr=!1,t)throw Error(_(300));return e}function Su(){var e=Bi!==0;return Bi=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?H.memoizedState=nt=e:nt=nt.next=e,nt}function Ft(){if(Z===null){var e=H.alternate;e=e!==null?e.memoizedState:null}else e=Z.next;var t=nt===null?H.memoizedState:nt.next;if(t!==null)nt=t,Z=e;else{if(e===null)throw Error(_(310));Z=e,e={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},nt===null?H.memoizedState=nt=e:nt=nt.next=e}return nt}function Fi(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=Ft(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var i=Z,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,u=null,h=r;do{var a=h.lane;if((tn&a)===a)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var c={lane:a,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=c,o=i):u=u.next=c,H.lanes|=a,en|=a}h=h.next}while(h!==null&&h!==r);u===null?o=i:u.next=l,Ht(i,t.memoizedState)||(wt=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=u,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do r=s.lane,H.lanes|=r,en|=r,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ho(e){var t=Ft(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=e(r,o.action),o=o.next;while(o!==s);Ht(r,t.memoizedState)||(wt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Of(){}function zf(e,t){var n=H,i=Ft(),s=t(),r=!Ht(i.memoizedState,s);if(r&&(i.memoizedState=s,wt=!0),i=i.queue,_u(Bf.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ai(9,Df.bind(null,n,i,s,t),void 0,null),it===null)throw Error(_(349));tn&30||Rf(n,t,s)}return s}function Rf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t={lastEffect:null,stores:null},H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Df(e,t,n,i){t.value=n,t.getSnapshot=i,Ff(t)&&Af(e)}function Bf(e,t,n){return n(function(){Ff(t)&&Af(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function Af(e){var t=ce(e,1);t!==null&&jt(t,e,1,-1)}function Vh(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},t.queue=e,e=e.dispatch=ev.bind(null,H,e),[t.memoizedState,e]}function Ai(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=H.updateQueue,t===null?(t={lastEffect:null,stores:null},H.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Wf(){return Ft().memoizedState}function As(e,t,n,i){var s=Xt();H.flags|=e,s.memoizedState=Ai(1|t,n,void 0,i===void 0?null:i)}function Cr(e,t,n,i){var s=Ft();i=i===void 0?null:i;var r=void 0;if(Z!==null){var o=Z.memoizedState;if(r=o.destroy,i!==null&&yu(i,o.deps)){s.memoizedState=Ai(t,n,r,i);return}}H.flags|=e,s.memoizedState=Ai(1|t,n,r,i)}function Uh(e,t){return As(8390656,8,e,t)}function _u(e,t){return Cr(2048,8,e,t)}function If(e,t){return Cr(4,2,e,t)}function $f(e,t){return Cr(4,4,e,t)}function Vf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uf(e,t,n){return n=n!=null?n.concat([e]):null,Cr(4,4,Vf.bind(null,t,e),n)}function ku(){}function jf(e,t){var n=Ft();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&yu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Hf(e,t){var n=Ft();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&yu(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function qf(e,t,n){return tn&21?(Ht(n,t)||(n=Qc(),H.lanes|=n,en|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=n)}function Zm(e,t){var n=F;F=n!==0&&4>n?n:4,e(!0);var i=lo.transition;lo.transition={};try{e(!1),t()}finally{F=n,lo.transition=i}}function Kf(){return Ft().memoizedState}function tv(e,t,n){var i=Ne(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Qf(e))Xf(t,n);else if(n=xf(e,t,n,i),n!==null){var s=dt();jt(n,e,i,s),Jf(n,t,i)}}function ev(e,t,n){var i=Ne(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))Xf(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ht(l,o)){var u=t.interleaved;u===null?(s.next=s,du(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=xf(e,t,s,i),n!==null&&(s=dt(),jt(n,e,i,s),Jf(n,t,i))}}function Qf(e){var t=e.alternate;return e===H||t!==null&&t===H}function Xf(e,t){pi=hr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jf(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Zl(e,n)}}var ar={readContext:Bt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},nv={readContext:Bt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Uh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,As(4194308,4,Vf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Xt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=tv.bind(null,H,e),[i.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Vh,useDebugValue:ku,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Vh(!1),t=e[0];return e=Zm.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=H,s=Xt();if(U){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),it===null)throw Error(_(349));tn&30||Rf(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Uh(Bf.bind(null,i,r,e),[e]),i.flags|=2048,Ai(9,Df.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=Xt(),t=it.identifierPrefix;if(U){var n=re,i=se;n=(i&~(1<<32-Ut(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iv={readContext:Bt,useCallback:jf,useContext:Bt,useEffect:_u,useImperativeHandle:Uf,useInsertionEffect:If,useLayoutEffect:$f,useMemo:Hf,useReducer:uo,useRef:Wf,useState:function(){return uo(Fi)},useDebugValue:ku,useDeferredValue:function(e){var t=Ft();return qf(t,Z.memoizedState,e)},useTransition:function(){var e=uo(Fi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Of,useSyncExternalStore:zf,useId:Kf,unstable_isNewReconciler:!1},sv={readContext:Bt,useCallback:jf,useContext:Bt,useEffect:_u,useImperativeHandle:Uf,useInsertionEffect:If,useLayoutEffect:$f,useMemo:Hf,useReducer:ho,useRef:Wf,useState:function(){return ho(Fi)},useDebugValue:ku,useDeferredValue:function(e){var t=Ft();return Z===null?t.memoizedState=e:qf(t,Z.memoizedState,e)},useTransition:function(){var e=ho(Fi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Of,useSyncExternalStore:zf,useId:Kf,unstable_isNewReconciler:!1};function In(e,t){try{var n="",i=t;do n+=Op(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:s,digest:null}}function ao(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ml(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rv=typeof WeakMap=="function"?WeakMap:Map;function Yf(e,t,n){n=ue(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){fr||(fr=!0,xl=i),ml(e,t)},n}function Gf(e,t,n){n=ue(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){ml(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){ml(e,t),typeof i!="function"&&(Pe===null?Pe=new Set([this]):Pe.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new rv;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=wv.bind(null,e,t,n),t.then(e,e))}function Hh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qh(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ue(-1,1),t.tag=2,Te(n,t,1))),n.lanes|=1),e)}var ov=de.ReactCurrentOwner,wt=!1;function ft(e,t,n,i){t.child=e===null?Pf(t,null,n,i):An(t,e.child,n,i)}function Kh(e,t,n,i,s){n=n.render;var r=t.ref;return On(t,s),i=wu(e,t,n,i,r,s),n=Su(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fe(e,t,s)):(U&&n&&lu(t),t.flags|=1,ft(e,t,i,s),t.child)}function Qh(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Pu(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,Zf(e,t,r,i,s)):(e=Vs(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Pi,n(o,i)&&e.ref===t.ref)return fe(e,t,s)}return t.flags|=1,e=Oe(r,i),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Pi(r,i)&&e.ref===t.ref)if(wt=!1,t.pendingProps=i=r,(e.lanes&s)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,fe(e,t,s)}return vl(e,t,n,i,s)}function td(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},A(xn,bt),bt|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,A(xn,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,A(xn,bt),bt|=i}else r!==null?(i=r.baseLanes|n,t.memoizedState=null):i=n,A(xn,bt),bt|=i;return ft(e,t,s,n),t.child}function ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,n,i,s){var r=_t(n)?Ge:ct.current;return r=Bn(t,r),On(t,s),n=wu(e,t,n,i,r,s),i=Su(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fe(e,t,s)):(U&&i&&lu(t),t.flags|=1,ft(e,t,n,s),t.child)}function Xh(e,t,n,i,s){if(_t(n)){var r=!0;nr(t)}else r=!1;if(On(t,s),t.stateNode===null)Ws(e,t),Mf(t,n,i),pl(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Bt(h):(h=_t(n)?Ge:ct.current,h=Bn(t,h));var a=n.getDerivedStateFromProps,c=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||u!==h)&&Ih(t,o,i,h),Se=!1;var f=t.memoizedState;o.state=f,lr(t,i,o,s),u=t.memoizedState,l!==i||f!==u||St.current||Se?(typeof a=="function"&&(dl(t,n,a,i),u=t.memoizedState),(l=Se||Wh(t,n,l,i,f,u,h))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),o.props=i,o.state=u,o.context=h,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Cf(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Wt(t.type,l),o.props=h,c=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bt(u):(u=_t(n)?Ge:ct.current,u=Bn(t,u));var v=n.getDerivedStateFromProps;(a=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==u)&&Ih(t,o,i,u),Se=!1,f=t.memoizedState,o.state=f,lr(t,i,o,s);var m=t.memoizedState;l!==c||f!==m||St.current||Se?(typeof v=="function"&&(dl(t,n,v,i),m=t.memoizedState),(h=Se||Wh(t,n,h,i,f,m,u)||!1)?(a||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=u,i=h):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return gl(e,t,n,i,r,s)}function gl(e,t,n,i,s,r){ed(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&Rh(t,n,!1),fe(e,t,r);i=t.stateNode,ov.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=An(t,e.child,null,r),t.child=An(t,null,l,r)):ft(e,t,l,r),t.memoizedState=i.state,s&&Rh(t,n,!0),t.child}function nd(e){var t=e.stateNode;t.pendingContext?zh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zh(e,t.context,!1),mu(e,t.containerInfo)}function Jh(e,t,n,i,s){return Fn(),hu(s),t.flags|=256,ft(e,t,n,i),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function id(e,t,n){var i=t.pendingProps,s=j.current,r=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),A(j,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,r?(i=t.mode,r=t.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Tr(o,i,0,null),e=Je(e,i,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=wl(n),t.memoizedState=yl,e):Eu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lv(e,t,o,i,l,s,n);if(r){r=i.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=Oe(s,u),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Oe(l,r):(r=Je(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o=o===null?wl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=e.childLanes&~n,t.memoizedState=yl,i}return r=e.child,e=r.sibling,i=Oe(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Eu(e,t){return t=Tr({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,i){return i!==null&&hu(i),An(t,e.child,null,n),e=Eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lv(e,t,n,i,s,r,o){if(n)return t.flags&256?(t.flags&=-257,i=ao(Error(_(422))),ds(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Tr({mode:"visible",children:i.children},s,0,null),r=Je(r,s,o,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&An(t,e.child,null,o),t.child.memoizedState=wl(o),t.memoizedState=yl,r);if(!(t.mode&1))return ds(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(_(419)),i=ao(r,i,void 0),ds(e,t,o,i)}if(l=(o&e.childLanes)!==0,wt||l){if(i=it,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,ce(e,s),jt(i,e,s,-1))}return Tu(),i=ao(Error(_(421))),ds(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sv.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,xt=Me(s.nextSibling),Ct=t,U=!0,Vt=null,e!==null&&(Nt[Ot++]=se,Nt[Ot++]=re,Nt[Ot++]=Ze,se=e.id,re=e.overflow,Ze=t),t=Eu(t,i.children),t.flags|=4096,t)}function Yh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),fl(e.return,t,n)}function co(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function sd(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(ft(e,t,i.children,n),i=j.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,n,t);else if(e.tag===19)Yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(A(j,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ur(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),co(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ur(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}co(t,!0,n,null,r);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fe(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Oe(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oe(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uv(e,t,n){switch(t.tag){case 3:nd(t),Fn();break;case 5:Nf(t);break;case 1:_t(t.type)&&nr(t);break;case 4:mu(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;A(rr,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(A(j,j.current&1),t.flags|=128,null):n&t.child.childLanes?id(e,t,n):(A(j,j.current&1),e=fe(e,t,n),e!==null?e.sibling:null);A(j,j.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return sd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),A(j,j.current),i)break;return null;case 22:case 23:return t.lanes=0,td(e,t,n)}return fe(e,t,n)}var rd,Sl,od,ld;rd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sl=function(){};od=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Qe(Zt.current);var r=null;switch(n){case"input":s=Vo(e,s),i=Vo(e,i),r=[];break;case"select":s=q({},s,{value:void 0}),i=q({},i,{value:void 0}),r=[];break;case"textarea":s=Ho(e,s),i=Ho(e,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=tr)}Ko(n,i);var o;n=null;for(h in s)if(!i.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ei.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in i){var u=i[h];if(l=s!=null?s[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(r||(r=[]),r.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(r=r||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ei.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&I("scroll",e),r||l===u||(r=[])):(r=r||[]).push(h,u))}n&&(r=r||[]).push("style",n);var h=r;(t.updateQueue=h)&&(t.flags|=4)}};ld=function(e,t,n,i){n!==i&&(t.flags|=4)};function ti(e,t){if(!U)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function hv(e,t,n){var i=t.pendingProps;switch(uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return _t(t.type)&&er(),ht(t),null;case 3:return i=t.stateNode,Wn(),V(St),V(ct),gu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Ml(Vt),Vt=null))),Sl(e,t),ht(t),null;case 5:vu(t);var s=Qe(Di.current);if(n=t.type,e!==null&&t.stateNode!=null)od(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(_(166));return ht(t),null}if(e=Qe(Zt.current),cs(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[Jt]=t,i[zi]=r,e=(t.mode&1)!==0,n){case"dialog":I("cancel",i),I("close",i);break;case"iframe":case"object":case"embed":I("load",i);break;case"video":case"audio":for(s=0;s<li.length;s++)I(li[s],i);break;case"source":I("error",i);break;case"img":case"image":case"link":I("error",i),I("load",i);break;case"details":I("toggle",i);break;case"input":oh(i,r),I("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},I("invalid",i);break;case"textarea":uh(i,r),I("invalid",i)}Ko(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&as(i.textContent,l,e),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&as(i.textContent,l,e),s=["children",""+l]):Ei.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&I("scroll",i)}switch(n){case"input":ns(i),lh(i,r,!0);break;case"textarea":ns(i),hh(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=tr)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Jt]=t,e[zi]=i,rd(e,t,!1,!1),t.stateNode=e;t:{switch(o=Qo(n,i),n){case"dialog":I("cancel",e),I("close",e),s=i;break;case"iframe":case"object":case"embed":I("load",e),s=i;break;case"video":case"audio":for(s=0;s<li.length;s++)I(li[s],e);s=i;break;case"source":I("error",e),s=i;break;case"img":case"image":case"link":I("error",e),I("load",e),s=i;break;case"details":I("toggle",e),s=i;break;case"input":oh(e,i),s=Vo(e,i),I("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=q({},i,{value:void 0}),I("invalid",e);break;case"textarea":uh(e,i),s=Ho(e,i),I("invalid",e);break;default:s=i}Ko(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var u=l[r];r==="style"?Bc(e,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Rc(e,u)):r==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bi(e,u):typeof u=="number"&&bi(e,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ei.hasOwnProperty(r)?u!=null&&r==="onScroll"&&I("scroll",e):u!=null&&Kl(e,r,u,o))}switch(n){case"input":ns(e),lh(e,i,!1);break;case"textarea":ns(e),hh(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ze(i.value));break;case"select":e.multiple=!!i.multiple,r=i.value,r!=null?Mn(e,!!i.multiple,r,!1):i.defaultValue!=null&&Mn(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=tr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(_(166));if(n=Qe(Di.current),Qe(Zt.current),cs(t)){if(i=t.stateNode,n=t.memoizedProps,i[Jt]=t,(r=i.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:as(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(i.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Jt]=t,t.stateNode=i}return ht(t),null;case 13:if(V(j),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(U&&xt!==null&&t.mode&1&&!(t.flags&128))bf(),Fn(),t.flags|=98560,r=!1;else if(r=cs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(_(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(_(317));r[Jt]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),r=!1}else Vt!==null&&(Ml(Vt),Vt=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||j.current&1?tt===0&&(tt=3):Tu())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Wn(),Sl(e,t),e===null&&Ni(t.stateNode.containerInfo),ht(t),null;case 10:return fu(t.type._context),ht(t),null;case 17:return _t(t.type)&&er(),ht(t),null;case 19:if(V(j),r=t.memoizedState,r===null)return ht(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)ti(r,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ur(e),o!==null){for(t.flags|=128,ti(r,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)r=n,e=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return A(j,j.current&1|2),t.child}e=e.sibling}r.tail!==null&&Q()>$n&&(t.flags|=128,i=!0,ti(r,!1),t.lanes=4194304)}else{if(!i)if(e=ur(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ti(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!U)return ht(t),null}else 2*Q()-r.renderingStartTime>$n&&n!==1073741824&&(t.flags|=128,i=!0,ti(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(n=r.last,n!==null?n.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Q(),t.sibling=null,n=j.current,A(j,i?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return Mu(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?bt&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function av(e,t){switch(uu(t),t.tag){case 1:return _t(t.type)&&er(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),V(St),V(ct),gu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vu(t),null;case 13:if(V(j),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(j),null;case 4:return Wn(),null;case 10:return fu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var ps=!1,at=!1,cv=typeof WeakSet=="function"?WeakSet:Set,M=null;function bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){K(e,t,i)}else n.current=null}function _l(e,t,n){try{n()}catch(i){K(e,t,i)}}var Gh=!1;function fv(e,t){if(sl=Ys,e=cf(),ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var o=0,l=-1,u=-1,h=0,a=0,c=e,f=null;e:for(;;){for(var v;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==r||i!==0&&c.nodeType!==3||(u=o+i),c.nodeType===3&&(o+=c.nodeValue.length),(v=c.firstChild)!==null;)f=c,c=v;for(;;){if(c===e)break e;if(f===n&&++h===s&&(l=o),f===r&&++a===i&&(u=o),(v=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rl={focusedElem:e,selectionRange:n},Ys=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,k=m.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Wt(t.type,g),k);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){K(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return m=Gh,Gh=!1,m}function mi(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,r!==void 0&&_l(t,n,r)}s=s.next}while(s!==i)}}function Lr(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function kl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ud(e){var t=e.alternate;t!==null&&(e.alternate=null,ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[zi],delete t[ul],delete t[Qm],delete t[Xm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hd(e){return e.tag===5||e.tag===3||e.tag===4}function Zh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function El(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tr));else if(i!==4&&(e=e.child,e!==null))for(El(e,t,n),e=e.sibling;e!==null;)El(e,t,n),e=e.sibling}function bl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}var st=null,It=!1;function ge(e,t,n){for(n=n.child;n!==null;)ad(e,t,n),n=n.sibling}function ad(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(wr,n)}catch{}switch(n.tag){case 5:at||bn(n,t);case 6:var i=st,s=It;st=null,ge(e,t,n),st=i,It=s,st!==null&&(It?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(It?(e=st,n=n.stateNode,e.nodeType===8?so(e.parentNode,n):e.nodeType===1&&so(e,n),Mi(e)):so(st,n.stateNode));break;case 4:i=st,s=It,st=n.stateNode.containerInfo,It=!0,ge(e,t,n),st=i,It=s;break;case 0:case 11:case 14:case 15:if(!at&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&_l(n,t,o),s=s.next}while(s!==i)}ge(e,t,n);break;case 1:if(!at&&(bn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){K(n,t,l)}ge(e,t,n);break;case 21:ge(e,t,n);break;case 22:n.mode&1?(at=(i=at)||n.memoizedState!==null,ge(e,t,n),at=i):ge(e,t,n);break;default:ge(e,t,n)}}function ta(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cv),t.forEach(function(i){var s=_v.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=e,o=t,l=o;t:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,It=!1;break t;case 3:st=l.stateNode.containerInfo,It=!0;break t;case 4:st=l.stateNode.containerInfo,It=!0;break t}l=l.return}if(st===null)throw Error(_(160));ad(r,o,s),st=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){K(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Kt(e),i&4){try{mi(3,e,e.return),Lr(3,e)}catch(g){K(e,e.return,g)}try{mi(5,e,e.return)}catch(g){K(e,e.return,g)}}break;case 1:At(t,e),Kt(e),i&512&&n!==null&&bn(n,n.return);break;case 5:if(At(t,e),Kt(e),i&512&&n!==null&&bn(n,n.return),e.flags&32){var s=e.stateNode;try{bi(s,"")}catch(g){K(e,e.return,g)}}if(i&4&&(s=e.stateNode,s!=null)){var r=e.memoizedProps,o=n!==null?n.memoizedProps:r,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&Nc(s,r),Qo(l,o);var h=Qo(l,r);for(o=0;o<u.length;o+=2){var a=u[o],c=u[o+1];a==="style"?Bc(s,c):a==="dangerouslySetInnerHTML"?Rc(s,c):a==="children"?bi(s,c):Kl(s,a,c,h)}switch(l){case"input":Uo(s,r);break;case"textarea":Oc(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?Mn(s,!!r.multiple,v,!1):f!==!!r.multiple&&(r.defaultValue!=null?Mn(s,!!r.multiple,r.defaultValue,!0):Mn(s,!!r.multiple,r.multiple?[]:"",!1))}s[zi]=r}catch(g){K(e,e.return,g)}}break;case 6:if(At(t,e),Kt(e),i&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(g){K(e,e.return,g)}}break;case 3:if(At(t,e),Kt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(g){K(e,e.return,g)}break;case 4:At(t,e),Kt(e);break;case 13:At(t,e),Kt(e),s=e.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Cu=Q())),i&4&&ta(e);break;case 22:if(a=n!==null&&n.memoizedState!==null,e.mode&1?(at=(h=at)||a,At(t,e),at=h):At(t,e),Kt(e),i&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!a&&e.mode&1)for(M=e,a=e.child;a!==null;){for(c=M=a;M!==null;){switch(f=M,v=f.child,f.tag){case 0:case 11:case 14:case 15:mi(4,f,f.return);break;case 1:bn(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){K(i,n,g)}}break;case 5:bn(f,f.return);break;case 22:if(f.memoizedState!==null){na(c);continue}}v!==null?(v.return=f,M=v):na(c)}a=a.sibling}t:for(a=null,c=e;;){if(c.tag===5){if(a===null){a=c;try{s=c.stateNode,h?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Dc("display",o))}catch(g){K(e,e.return,g)}}}else if(c.tag===6){if(a===null)try{c.stateNode.nodeValue=h?"":c.memoizedProps}catch(g){K(e,e.return,g)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;a===c&&(a=null),c=c.return}a===c&&(a=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:At(t,e),Kt(e),i&4&&ta(e);break;case 21:break;default:At(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(hd(n)){var i=n;break t}n=n.return}throw Error(_(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(bi(s,""),i.flags&=-33);var r=Zh(e);bl(e,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Zh(e);El(e,l,o);break;default:throw Error(_(161))}}catch(u){K(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dv(e,t,n){M=e,fd(e)}function fd(e,t,n){for(var i=(e.mode&1)!==0;M!==null;){var s=M,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||ps;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||at;l=ps;var h=at;if(ps=o,(at=u)&&!h)for(M=s;M!==null;)o=M,u=o.child,o.tag===22&&o.memoizedState!==null?ia(s):u!==null?(u.return=o,M=u):ia(s);for(;r!==null;)M=r,fd(r),r=r.sibling;M=s,ps=l,at=h}ea(e)}else s.subtreeFlags&8772&&r!==null?(r.return=s,M=r):ea(e)}}function ea(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Lr(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!at)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Ah(t,r,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ah(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var a=h.memoizedState;if(a!==null){var c=a.dehydrated;c!==null&&Mi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}at||t.flags&512&&kl(t)}catch(f){K(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function na(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function ia(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lr(4,t)}catch(u){K(t,n,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){K(t,s,u)}}var r=t.return;try{kl(t)}catch(u){K(t,r,u)}break;case 5:var o=t.return;try{kl(t)}catch(u){K(t,o,u)}}}catch(u){K(t,t.return,u)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var pv=Math.ceil,cr=de.ReactCurrentDispatcher,bu=de.ReactCurrentOwner,Dt=de.ReactCurrentBatchConfig,D=0,it=null,Y=null,ot=0,bt=0,xn=Fe(0),tt=0,Wi=null,en=0,Mr=0,xu=0,vi=null,yt=null,Cu=0,$n=1/0,ne=null,fr=!1,xl=null,Pe=null,ms=!1,be=null,dr=0,gi=0,Cl=null,Is=-1,$s=0;function dt(){return D&6?Q():Is!==-1?Is:Is=Q()}function Ne(e){return e.mode&1?D&2&&ot!==0?ot&-ot:Ym.transition!==null?($s===0&&($s=Qc()),$s):(e=F,e!==0||(e=window.event,e=e===void 0?16:ef(e.type)),e):1}function jt(e,t,n,i){if(50<gi)throw gi=0,Cl=null,Error(_(185));Hi(e,n,i),(!(D&2)||e!==it)&&(e===it&&(!(D&2)&&(Mr|=n),tt===4&&ke(e,ot)),kt(e,i),n===1&&D===0&&!(t.mode&1)&&($n=Q()+500,br&&Ae()))}function kt(e,t){var n=e.callbackNode;Yp(e,t);var i=Js(e,e===it?ot:0);if(i===0)n!==null&&fh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&fh(n),t===1)e.tag===0?Jm(sa.bind(null,e)):_f(sa.bind(null,e)),qm(function(){!(D&6)&&Ae()}),n=null;else{switch(Xc(i)){case 1:n=Gl;break;case 4:n=qc;break;case 16:n=Xs;break;case 536870912:n=Kc;break;default:n=Xs}n=Sd(n,dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dd(e,t){if(Is=-1,$s=0,D&6)throw Error(_(327));var n=e.callbackNode;if(zn()&&e.callbackNode!==n)return null;var i=Js(e,e===it?ot:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=pr(e,i);else{t=i;var s=D;D|=2;var r=md();(it!==e||ot!==t)&&(ne=null,$n=Q()+500,Xe(e,t));do try{gv();break}catch(l){pd(e,l)}while(1);cu(),cr.current=r,D=s,Y!==null?t=0:(it=null,ot=0,t=tt)}if(t!==0){if(t===2&&(s=Zo(e),s!==0&&(i=s,t=Ll(e,s))),t===1)throw n=Wi,Xe(e,0),ke(e,i),kt(e,Q()),n;if(t===6)ke(e,i);else{if(s=e.current.alternate,!(i&30)&&!mv(s)&&(t=pr(e,i),t===2&&(r=Zo(e),r!==0&&(i=r,t=Ll(e,r))),t===1))throw n=Wi,Xe(e,0),ke(e,i),kt(e,Q()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(_(345));case 2:He(e,yt,ne);break;case 3:if(ke(e,i),(i&130023424)===i&&(t=Cu+500-Q(),10<t)){if(Js(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ll(He.bind(null,e,yt,ne),t);break}He(e,yt,ne);break;case 4:if(ke(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Ut(i);r=1<<o,o=t[o],o>s&&(s=o),i&=~r}if(i=s,i=Q()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*pv(i/1960))-i,10<i){e.timeoutHandle=ll(He.bind(null,e,yt,ne),i);break}He(e,yt,ne);break;case 5:He(e,yt,ne);break;default:throw Error(_(329))}}}return kt(e,Q()),e.callbackNode===n?dd.bind(null,e):null}function Ll(e,t){var n=vi;return e.current.memoizedState.isDehydrated&&(Xe(e,t).flags|=256),e=pr(e,t),e!==2&&(t=yt,yt=n,t!==null&&Ml(t)),e}function Ml(e){yt===null?yt=e:yt.push.apply(yt,e)}function mv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Ht(r(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ke(e,t){for(t&=~xu,t&=~Mr,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),i=1<<n;e[n]=-1,t&=~i}}function sa(e){if(D&6)throw Error(_(327));zn();var t=Js(e,0);if(!(t&1))return kt(e,Q()),null;var n=pr(e,t);if(e.tag!==0&&n===2){var i=Zo(e);i!==0&&(t=i,n=Ll(e,i))}if(n===1)throw n=Wi,Xe(e,0),ke(e,t),kt(e,Q()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,He(e,yt,ne),kt(e,Q()),null}function Lu(e,t){var n=D;D|=1;try{return e(t)}finally{D=n,D===0&&($n=Q()+500,br&&Ae())}}function nn(e){be!==null&&be.tag===0&&!(D&6)&&zn();var t=D;D|=1;var n=Dt.transition,i=F;try{if(Dt.transition=null,F=1,e)return e()}finally{F=i,Dt.transition=n,D=t,!(D&6)&&Ae()}}function Mu(){bt=xn.current,V(xn)}function Xe(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hm(n)),Y!==null)for(n=Y.return;n!==null;){var i=n;switch(uu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&er();break;case 3:Wn(),V(St),V(ct),gu();break;case 5:vu(i);break;case 4:Wn();break;case 13:V(j);break;case 19:V(j);break;case 10:fu(i.type._context);break;case 22:case 23:Mu()}n=n.return}if(it=e,Y=e=Oe(e.current,null),ot=bt=t,tt=0,Wi=null,xu=Mr=en=0,yt=vi=null,Ke!==null){for(t=0;t<Ke.length;t++)if(n=Ke[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Ke=null}return e}function pd(e,t){do{var n=Y;try{if(cu(),Fs.current=ar,hr){for(var i=H.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}hr=!1}if(tn=0,nt=Z=H=null,pi=!1,Bi=0,bu.current=null,n===null||n.return===null){tt=1,Wi=t,Y=null;break}t:{var r=e,o=n.return,l=n,u=t;if(t=ot,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,a=l,c=a.tag;if(!(a.mode&1)&&(c===0||c===11||c===15)){var f=a.alternate;f?(a.updateQueue=f.updateQueue,a.memoizedState=f.memoizedState,a.lanes=f.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=Hh(o);if(v!==null){v.flags&=-257,qh(v,o,l,r,t),v.mode&1&&jh(r,h,t),t=v,u=h;var m=t.updateQueue;if(m===null){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break t}else{if(!(t&1)){jh(r,h,t),Tu();break t}u=Error(_(426))}}else if(U&&l.mode&1){var k=Hh(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),qh(k,o,l,r,t),hu(In(u,l));break t}}r=u=In(u,l),tt!==4&&(tt=2),vi===null?vi=[r]:vi.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var p=Yf(r,u,t);Fh(r,p);break t;case 1:l=u;var d=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pe===null||!Pe.has(y)))){r.flags|=65536,t&=-t,r.lanes|=t;var w=Gf(r,l,t);Fh(r,w);break t}}r=r.return}while(r!==null)}gd(n)}catch(E){t=E,Y===n&&n!==null&&(Y=n=n.return);continue}break}while(1)}function md(){var e=cr.current;return cr.current=ar,e===null?ar:e}function Tu(){(tt===0||tt===3||tt===2)&&(tt=4),it===null||!(en&268435455)&&!(Mr&268435455)||ke(it,ot)}function pr(e,t){var n=D;D|=2;var i=md();(it!==e||ot!==t)&&(ne=null,Xe(e,t));do try{vv();break}catch(s){pd(e,s)}while(1);if(cu(),D=n,cr.current=i,Y!==null)throw Error(_(261));return it=null,ot=0,tt}function vv(){for(;Y!==null;)vd(Y)}function gv(){for(;Y!==null&&!Vp();)vd(Y)}function vd(e){var t=wd(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?gd(e):Y=t,bu.current=null}function gd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=av(n,t),n!==null){n.flags&=32767,Y=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Y=null;return}}else if(n=hv(n,t,bt),n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);tt===0&&(tt=5)}function He(e,t,n){var i=F,s=Dt.transition;try{Dt.transition=null,F=1,yv(e,t,n,i)}finally{Dt.transition=s,F=i}return null}function yv(e,t,n,i){do zn();while(be!==null);if(D&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(Gp(e,r),e===it&&(Y=it=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ms||(ms=!0,Sd(Xs,function(){return zn(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Dt.transition,Dt.transition=null;var o=F;F=1;var l=D;D|=4,bu.current=null,fv(e,n),cd(n,e),Am(rl),Ys=!!sl,rl=sl=null,e.current=n,dv(n),Up(),D=l,F=o,Dt.transition=r}else e.current=n;if(ms&&(ms=!1,be=e,dr=s),r=e.pendingLanes,r===0&&(Pe=null),qp(n.stateNode),kt(e,Q()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(fr)throw fr=!1,e=xl,xl=null,e;return dr&1&&e.tag!==0&&zn(),r=e.pendingLanes,r&1?e===Cl?gi++:(gi=0,Cl=e):gi=0,Ae(),null}function zn(){if(be!==null){var e=Xc(dr),t=Dt.transition,n=F;try{if(Dt.transition=null,F=16>e?16:e,be===null)var i=!1;else{if(e=be,be=null,dr=0,D&6)throw Error(_(331));var s=D;for(D|=4,M=e.current;M!==null;){var r=M,o=r.child;if(M.flags&16){var l=r.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(M=h;M!==null;){var a=M;switch(a.tag){case 0:case 11:case 15:mi(8,a,r)}var c=a.child;if(c!==null)c.return=a,M=c;else for(;M!==null;){a=M;var f=a.sibling,v=a.return;if(ud(a),a===h){M=null;break}if(f!==null){f.return=v,M=f;break}M=v}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}M=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,M=o;else t:for(;M!==null;){if(r=M,r.flags&2048)switch(r.tag){case 0:case 11:case 15:mi(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,M=p;break t}M=r.return}}var d=e.current;for(M=d;M!==null;){o=M;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,M=y;else t:for(o=d;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lr(9,l)}}catch(E){K(l,l.return,E)}if(l===o){M=null;break t}var w=l.sibling;if(w!==null){w.return=l.return,M=w;break t}M=l.return}}if(D=s,Ae(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(wr,e)}catch{}i=!0}return i}finally{F=n,Dt.transition=t}}return!1}function ra(e,t,n){t=In(n,t),t=Yf(e,t,1),e=Te(e,t,1),t=dt(),e!==null&&(Hi(e,1,t),kt(e,t))}function K(e,t,n){if(e.tag===3)ra(e,e,n);else for(;t!==null;){if(t.tag===3){ra(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pe===null||!Pe.has(i))){e=In(n,e),e=Gf(t,e,1),t=Te(t,e,1),e=dt(),t!==null&&(Hi(t,1,e),kt(t,e));break}}t=t.return}}function wv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(ot&n)===n&&(tt===4||tt===3&&(ot&130023424)===ot&&500>Q()-Cu?Xe(e,0):xu|=n),kt(e,t)}function yd(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=dt();e=ce(e,t),e!==null&&(Hi(e,t,n),kt(e,n))}function Sv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yd(e,n)}function _v(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(_(314))}i!==null&&i.delete(t),yd(e,n)}var wd;wd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wt=!1,uv(e,t,n);wt=!!(e.flags&131072)}else wt=!1,U&&t.flags&1048576&&kf(t,sr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ws(e,t),e=t.pendingProps;var s=Bn(t,ct.current);On(t,n),s=wu(null,t,i,e,s,n);var r=Su();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(i)?(r=!0,nr(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pu(t),s.updater=xr,t.stateNode=s,s._reactInternals=t,pl(t,i,e,n),t=gl(null,t,i,!0,r,n)):(t.tag=0,U&&r&&lu(t),ft(null,t,s,n),t=t.child),t;case 16:i=t.elementType;t:{switch(Ws(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Ev(i),e=Wt(i,e),s){case 0:t=vl(null,t,i,e,n);break t;case 1:t=Xh(null,t,i,e,n);break t;case 11:t=Kh(null,t,i,e,n);break t;case 14:t=Qh(null,t,i,Wt(i.type,e),n);break t}throw Error(_(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Wt(i,s),vl(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Wt(i,s),Xh(e,t,i,s,n);case 3:t:{if(nd(t),e===null)throw Error(_(387));i=t.pendingProps,r=t.memoizedState,s=r.element,Cf(e,t),lr(t,i,null,n);var o=t.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=In(Error(_(423)),t),t=Jh(e,t,i,n,s);break t}else if(i!==s){s=In(Error(_(424)),t),t=Jh(e,t,i,n,s);break t}else for(xt=Me(t.stateNode.containerInfo.firstChild),Ct=t,U=!0,Vt=null,n=Pf(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),i===s){t=fe(e,t,n);break t}ft(e,t,i,n)}t=t.child}return t;case 5:return Nf(t),e===null&&cl(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,o=s.children,ol(i,s)?o=null:r!==null&&ol(i,r)&&(t.flags|=32),ed(e,t),ft(e,t,o,n),t.child;case 6:return e===null&&cl(t),null;case 13:return id(e,t,n);case 4:return mu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=An(t,null,i,n):ft(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Wt(i,s),Kh(e,t,i,s,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,A(rr,i._currentValue),i._currentValue=o,r!==null)if(Ht(r.value,o)){if(r.children===s.children&&!St.current){t=fe(e,t,n);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(r.tag===1){u=ue(-1,n&-n),u.tag=2;var h=r.updateQueue;if(h!==null){h=h.shared;var a=h.pending;a===null?u.next=u:(u.next=a.next,a.next=u),h.pending=u}}r.lanes|=n,u=r.alternate,u!==null&&(u.lanes|=n),fl(r.return,n,t),l.lanes|=n;break}u=u.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(_(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fl(o,n,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}ft(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,On(t,n),s=Bt(s),i=i(s),t.flags|=1,ft(e,t,i,n),t.child;case 14:return i=t.type,s=Wt(i,t.pendingProps),s=Wt(i.type,s),Qh(e,t,i,s,n);case 15:return Zf(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Wt(i,s),Ws(e,t),t.tag=1,_t(i)?(e=!0,nr(t)):e=!1,On(t,n),Mf(t,i,s),pl(t,i,s,n),gl(null,t,i,!0,e,n);case 19:return sd(e,t,n);case 22:return td(e,t,n)}throw Error(_(156,t.tag))};function Sd(e,t){return Hc(e,t)}function kv(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,i){return new kv(e,t,n,i)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ev(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xl)return 11;if(e===Jl)return 14}return 2}function Oe(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vs(e,t,n,i,s,r){var o=2;if(i=e,typeof e=="function")Pu(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case mn:return Je(n.children,s,r,t);case Ql:o=8,s|=8;break;case Ao:return e=Rt(12,n,t,s|2),e.elementType=Ao,e.lanes=r,e;case Wo:return e=Rt(13,n,t,s),e.elementType=Wo,e.lanes=r,e;case Io:return e=Rt(19,n,t,s),e.elementType=Io,e.lanes=r,e;case Mc:return Tr(n,s,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cc:o=10;break t;case Lc:o=9;break t;case Xl:o=11;break t;case Jl:o=14;break t;case we:o=16,i=null;break t}throw Error(_(130,e==null?e:typeof e,""))}return t=Rt(o,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Je(e,t,n,i){return e=Rt(7,e,i,t),e.lanes=n,e}function Tr(e,t,n,i){return e=Rt(22,e,i,t),e.elementType=Mc,e.lanes=n,e.stateNode={isHidden:!1},e}function fo(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function po(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bv(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nu(e,t,n,i,s,r,o,l,u){return e=new bv(e,t,n,l,u),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Rt(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(r),e}function xv(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function _d(e){if(!e)return Re;e=e._reactInternals;t:{if(un(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(_t(n))return Sf(e,n,t)}return t}function kd(e,t,n,i,s,r,o,l,u){return e=Nu(n,i,!0,e,s,r,o,l,u),e.context=_d(null),n=e.current,i=dt(),s=Ne(n),r=ue(i,s),r.callback=t??null,Te(n,r,s),e.current.lanes=s,Hi(e,s,i),kt(e,i),e}function Pr(e,t,n,i){var s=t.current,r=dt(),o=Ne(s);return n=_d(n),t.context===null?t.context=n:t.pendingContext=n,t=ue(r,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Te(s,t,o),e!==null&&(jt(e,s,o,r),Bs(e,s,o)),o}function mr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oa(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ou(e,t){oa(e,t),(e=e.alternate)&&oa(e,t)}function Cv(){return null}var Ed=typeof reportError=="function"?reportError:function(e){console.error(e)};function zu(e){this._internalRoot=e}Nr.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Pr(e,t,null,null)};Nr.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nn(function(){Pr(null,e,null,null)}),t[ae]=null}};function Nr(e){this._internalRoot=e}Nr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_e.length&&t!==0&&t<_e[n].priority;n++);_e.splice(n,0,e),n===0&&tf(e)}};function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Or(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function la(){}function Lv(e,t,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var h=mr(o);r.call(h)}}var o=kd(t,i,e,0,null,!1,!1,"",la);return e._reactRootContainer=o,e[ae]=o.current,Ni(e.nodeType===8?e.parentNode:e),nn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var h=mr(u);l.call(h)}}var u=Nu(e,0,!1,null,null,!1,!1,"",la);return e._reactRootContainer=u,e[ae]=u.current,Ni(e.nodeType===8?e.parentNode:e),nn(function(){Pr(t,u,n,i)}),u}function zr(e,t,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var u=mr(o);l.call(u)}}Pr(t,o,e,s)}else o=Lv(n,t,e,s,i);return mr(o)}Jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oi(t.pendingLanes);n!==0&&(Zl(t,n|1),kt(t,Q()),!(D&6)&&($n=Q()+500,Ae()))}break;case 13:nn(function(){var i=ce(e,1);if(i!==null){var s=dt();jt(i,e,1,s)}}),Ou(e,1)}};tu=function(e){if(e.tag===13){var t=ce(e,134217728);if(t!==null){var n=dt();jt(t,e,134217728,n)}Ou(e,134217728)}};Yc=function(e){if(e.tag===13){var t=Ne(e),n=ce(e,t);if(n!==null){var i=dt();jt(n,e,t,i)}Ou(e,t)}};Gc=function(){return F};Zc=function(e,t){var n=F;try{return F=e,t()}finally{F=n}};Jo=function(e,t,n){switch(t){case"input":if(Uo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Er(i);if(!s)throw Error(_(90));Pc(i),Uo(i,s)}}}break;case"textarea":Oc(e,n);break;case"select":t=n.value,t!=null&&Mn(e,!!n.multiple,t,!1)}};Wc=Lu;Ic=nn;var Mv={usingClientEntryPoint:!1,Events:[Ki,wn,Er,Fc,Ac,Lu]},ei={findFiberByHostInstance:qe,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Tv={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uc(e),e===null?null:e.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||Cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{wr=vs.inject(Tv),Gt=vs}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(t))throw Error(_(200));return xv(e,t,null,n)};Mt.createRoot=function(e,t){if(!Ru(e))throw Error(_(299));var n=!1,i="",s=Ed;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nu(e,1,!1,null,null,n,!1,i,s),e[ae]=t.current,Ni(e.nodeType===8?e.parentNode:e),new zu(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Uc(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return nn(e)};Mt.hydrate=function(e,t,n){if(!Or(t))throw Error(_(200));return zr(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!Ru(e))throw Error(_(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Ed;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kd(t,null,e,1,n??null,s,!1,r,o),e[ae]=t.current,Ni(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Nr(t)};Mt.render=function(e,t,n){if(!Or(t))throw Error(_(200));return zr(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Or(e))throw Error(_(40));return e._reactRootContainer?(nn(function(){zr(null,null,e,!1,function(){e._reactRootContainer=null,e[ae]=null})}),!0):!1};Mt.unstable_batchedUpdates=Lu;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Or(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return zr(e,t,n,!1,i)};Mt.version="18.2.0-next-9e3b772b8-20220608";function bd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bd)}catch(e){console.error(e)}}bd(),_c.exports=Mt;var Pv=_c.exports,xd,ua=Pv;xd=ua.createRoot,ua.hydrateRoot;const ee=Object.create(null);ee.open="0";ee.close="1";ee.ping="2";ee.pong="3";ee.message="4";ee.upgrade="5";ee.noop="6";const Us=Object.create(null);Object.keys(ee).forEach(e=>{Us[ee[e]]=e});const Tl={type:"error",data:"parser error"},Cd=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ld=typeof ArrayBuffer=="function",Md=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Du=({type:e,data:t},n,i)=>Cd&&t instanceof Blob?n?i(t):ha(t,i):Ld&&(t instanceof ArrayBuffer||Md(t))?n?i(t):ha(new Blob([t]),i):i(ee[e]+(t||"")),ha=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function aa(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let mo;function Nv(e,t){if(Cd&&e.data instanceof Blob)return e.data.arrayBuffer().then(aa).then(t);if(Ld&&(e.data instanceof ArrayBuffer||Md(e.data)))return t(aa(e.data));Du(e,!1,n=>{mo||(mo=new TextEncoder),t(mo.encode(n))})}const ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ui=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ca.length;e++)ui[ca.charCodeAt(e)]=e;const Ov=e=>{let t=e.length*.75,n=e.length,i,s=0,r,o,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),a=new Uint8Array(h);for(i=0;i<n;i+=4)r=ui[e.charCodeAt(i)],o=ui[e.charCodeAt(i+1)],l=ui[e.charCodeAt(i+2)],u=ui[e.charCodeAt(i+3)],a[s++]=r<<2|o>>4,a[s++]=(o&15)<<4|l>>2,a[s++]=(l&3)<<6|u&63;return h},zv=typeof ArrayBuffer=="function",Bu=(e,t)=>{if(typeof e!="string")return{type:"message",data:Td(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Rv(e.substring(1),t)}:Us[n]?e.length>1?{type:Us[n],data:e.substring(1)}:{type:Us[n]}:Tl},Rv=(e,t)=>{if(zv){const n=Ov(e);return Td(n,t)}else return{base64:!0,data:e}},Td=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Pd=String.fromCharCode(30),Dv=(e,t)=>{const n=e.length,i=new Array(n);let s=0;e.forEach((r,o)=>{Du(r,!1,l=>{i[o]=l,++s===n&&t(i.join(Pd))})})},Bv=(e,t)=>{const n=e.split(Pd),i=[];for(let s=0;s<n.length;s++){const r=Bu(n[s],t);if(i.push(r),r.type==="error")break}return i};function Fv(){return new TransformStream({transform(e,t){Nv(e,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let vo;function gs(e){return e.reduce((t,n)=>t+n.length,0)}function ys(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let s=0;s<t;s++)n[s]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function Av(e,t){vo||(vo=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(i===0){if(gs(n)<1)break;const u=ys(n,1);r=(u[0]&128)===128,s=u[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(gs(n)<2)break;const u=ys(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),i=3}else if(i===2){if(gs(n)<8)break;const u=ys(n,8),h=new DataView(u.buffer,u.byteOffset,u.length),a=h.getUint32(0);if(a>Math.pow(2,53-32)-1){l.enqueue(Tl);break}s=a*Math.pow(2,32)+h.getUint32(4),i=3}else{if(gs(n)<s)break;const u=ys(n,s);l.enqueue(Bu(r?u:vo.decode(u),t)),i=0}if(s===0||s>e){l.enqueue(Tl);break}}}})}const Nd=4;function G(e){if(e)return Wv(e)}function Wv(e){for(var t in G.prototype)e[t]=G.prototype[t];return e}G.prototype.on=G.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};G.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};G.prototype.off=G.prototype.removeListener=G.prototype.removeAllListeners=G.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===t||i.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};G.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,t)}return this};G.prototype.emitReserved=G.prototype.emit;G.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};G.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zt=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Od(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const Iv=zt.setTimeout,$v=zt.clearTimeout;function Rr(e,t){t.useNativeTimers?(e.setTimeoutFn=Iv.bind(zt),e.clearTimeoutFn=$v.bind(zt)):(e.setTimeoutFn=zt.setTimeout.bind(zt),e.clearTimeoutFn=zt.clearTimeout.bind(zt))}const Vv=1.33;function Uv(e){return typeof e=="string"?jv(e):Math.ceil((e.byteLength||e.size)*Vv)}function jv(e){let t=0,n=0;for(let i=0,s=e.length;i<s;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function Hv(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function qv(e){let t={},n=e.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Kv extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class Fu extends G{constructor(t){super(),this.writable=!1,Rr(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,i){return super.emitReserved("error",new Kv(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Bu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Hv(t);return n.length?"?"+n:""}}const zd="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Pl=64,Qv={};let fa=0,ws=0,da;function pa(e){let t="";do t=zd[e%Pl]+t,e=Math.floor(e/Pl);while(e>0);return t}function Rd(){const e=pa(+new Date);return e!==da?(fa=0,da=e):e+"."+pa(fa++)}for(;ws<Pl;ws++)Qv[zd[ws]]=ws;let Dd=!1;try{Dd=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Xv=Dd;function Bd(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Xv))return new XMLHttpRequest}catch{}if(!t)try{return new zt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Jv(){}const Yv=function(){return new Bd({xdomain:!1}).responseType!=null}();class Gv extends Fu{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Yv&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Bv(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Dv(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Rd()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new te(this.uri(),t)}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}class te extends G{constructor(t,n){super(),Rr(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Od(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Bd(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=te.requestsCount++,te.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Jv,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete te.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}te.requestsCount=0;te.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ma);else if(typeof addEventListener=="function"){const e="onpagehide"in zt?"pagehide":"unload";addEventListener(e,ma,!1)}}function ma(){for(let e in te.requests)te.requests.hasOwnProperty(e)&&te.requests[e].abort()}const Au=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Ss=zt.WebSocket||zt.MozWebSocket,va=!0,Zv="arraybuffer",ga=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class t0 extends Fu{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,i=ga?{}:Od(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=va&&!ga?n?new Ss(t,n):new Ss(t):new Ss(t,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],s=n===t.length-1;Du(i,this.supportsBinary,r=>{const o={};try{va&&this.ws.send(r)}catch{}s&&Au(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Rd()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ss}}class e0 extends Fu{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Av(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),s=Fv();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:l,value:u})=>{l||(this.onPacket(u),r())}).catch(l=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],s=n===t.length-1;this.writer.write(i).then(()=>{s&&Au(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const n0={websocket:t0,webtransport:e0,polling:Gv},i0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nl(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let s=i0.exec(e||""),r={},o=14;for(;o--;)r[s0[o]]=s[o]||"";return n!=-1&&i!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=r0(r,r.path),r.queryKey=o0(r,r.query),r}function r0(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function o0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}let Fd=class dn extends G{constructor(t,n={}){super(),this.binaryType=Zv,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Nl(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Nl(n.host).host),Rr(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=qv(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Nd,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new n0[t](i)}open(){let t;if(this.opts.rememberUpgrade&&dn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),i=!1;dn.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",c=>{if(!i)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;dn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(a(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){i||(i=!0,a(),n.close(),n=null)}const o=c=>{const f=new Error("probe error: "+c);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function u(){o("socket closed")}function h(c){n&&c.name!==n.name&&r()}const a=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",u),this.off("upgrading",h)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",u),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",dn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=Uv(s)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(t,n,i){return this.sendPacket("message",t,n,i),this}send(t,n,i){return this.sendPacket("message",t,n,i),this}sendPacket(t,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:t,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){dn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let i=0;const s=t.length;for(;i<s;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}};Fd.protocol=Nd;function l0(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=Nl(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const u0=typeof ArrayBuffer=="function",h0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Ad=Object.prototype.toString,a0=typeof Blob=="function"||typeof Blob<"u"&&Ad.call(Blob)==="[object BlobConstructor]",c0=typeof File=="function"||typeof File<"u"&&Ad.call(File)==="[object FileConstructor]";function Wu(e){return u0&&(e instanceof ArrayBuffer||h0(e))||a0&&e instanceof Blob||c0&&e instanceof File}function js(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(js(e[n]))return!0;return!1}if(Wu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return js(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&js(e[n]))return!0;return!1}function f0(e){const t=[],n=e.data,i=e;return i.data=Ol(n,t),i.attachments=t.length,{packet:i,buffers:t}}function Ol(e,t){if(!e)return e;if(Wu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=Ol(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Ol(e[i],t));return n}return e}function d0(e,t){return e.data=zl(e.data,t),delete e.attachments,e}function zl(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=zl(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=zl(e[n],t));return e}const p0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],m0=5;var R;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(R||(R={}));class v0{constructor(t){this.replacer=t}encode(t){return(t.type===R.EVENT||t.type===R.ACK)&&js(t)?this.encodeAsBinary({type:t.type===R.EVENT?R.BINARY_EVENT:R.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===R.BINARY_EVENT||t.type===R.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=f0(t),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function ya(e){return Object.prototype.toString.call(e)==="[object Object]"}class Iu extends G{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===R.BINARY_EVENT;i||n.type===R.BINARY_ACK?(n.type=i?R.EVENT:R.ACK,this.reconstructor=new g0(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(R[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===R.BINARY_EVENT||i.type===R.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(r,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(r,n)}else i.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}i.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(Iu.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case R.CONNECT:return ya(n);case R.DISCONNECT:return n===void 0;case R.CONNECT_ERROR:return typeof n=="string"||ya(n);case R.EVENT:case R.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&p0.indexOf(n[0])===-1);case R.ACK:case R.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class g0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=d0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const y0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Iu,Encoder:v0,get PacketType(){return R},protocol:m0},Symbol.toStringTag,{value:"Module"}));function $t(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const w0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Wd extends G{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$t(t,"open",this.onopen.bind(this)),$t(t,"packet",this.onpacket.bind(this)),$t(t,"error",this.onerror.bind(this)),$t(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(w0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:R.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),i.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...o])}}emitWithAck(t,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{n.push((o,l)=>i?o?r(o):s(l):s(o)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:R.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case R.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case R.EVENT:case R.BINARY_EVENT:this.onevent(t);break;case R.ACK:case R.BINARY_ACK:this.onack(t);break;case R.DISCONNECT:this.ondisconnect();break;case R.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:R.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:R.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function Kn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Kn.prototype.reset=function(){this.attempts=0};Kn.prototype.setMin=function(e){this.ms=e};Kn.prototype.setMax=function(e){this.max=e};Kn.prototype.setJitter=function(e){this.jitter=e};class Rl extends G{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Rr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Kn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||y0;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Fd(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=$t(n,"open",function(){i.onopen(),t&&t()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=$t(n,"error",r);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($t(t,"ping",this.onping.bind(this)),$t(t,"data",this.ondata.bind(this)),$t(t,"error",this.onerror.bind(this)),$t(t,"close",this.onclose.bind(this)),$t(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Au(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Wd(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ni={};function yi(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=l0(e,t.path||"/socket.io"),i=n.source,s=n.id,r=n.path,o=ni[s]&&r in ni[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return l?u=new Rl(i,t):(ni[s]||(ni[s]=new Rl(i,t)),u=ni[s]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(yi,{Manager:Rl,Socket:Wd,io:yi,connect:yi});function $(e){var t=e.width,n=e.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:n}}function Ye(e,t){return e.width===t.width&&e.height===t.height}var S0=function(){function e(t){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return e.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(e.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t){var n=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){n._observers=n._observers.filter(function(s){return s!==i})}}},e.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(n){return n.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},e}();function _0(e){return new S0(e)}var k0=function(){function e(t,n,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=$({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(r){return r},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return e.prototype.dispose=function(){var t,n;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitmapSize",{get:function(){return $({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),e.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=$(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},e.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},e.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==t})},Object.defineProperty(e.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),e.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},e.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==t})},e.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},e.prototype._resizeBitmap=function(t){var n=this.bitmapSize;Ye(n,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(n,t))},e.prototype._emitBitmapSizeChanged=function(t,n){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,n)})},e.prototype._suggestNewBitmapSize=function(t){var n=this._suggestedBitmapSize,i=$(this._transformBitmapSize(t,this._canvasElementClientSize)),s=Ye(this.bitmapSize,i)?null:i;n===null&&s===null||n!==null&&s!==null&&Ye(n,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(n,s))},e.prototype._emitSuggestedBitmapSizeChanged=function(t,n){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,n)})},e.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}b0().then(function(n){return n?t._initResizeObserver():t._initDevicePixelRatioObservable()})},e.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var n=wa(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=_0(n),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},e.prototype._invalidateBitmapSize=function(){var t,n;if(this._canvasElement!==null){var i=wa(this._canvasElement);if(i!==null){var s=(n=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&n!==void 0?n:i.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?x0(r[0],s):$({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(o)}}},e.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var i=n.find(function(o){return o.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],r=$({width:s.inlineSize,height:s.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},e}();function E0(e,t){if(t.type==="device-pixel-content-box")return new k0(e,t.transform,t.options);throw new Error("Unsupported binding target")}function wa(e){return e.ownerDocument.defaultView}function b0(){return new Promise(function(e){var t=new ResizeObserver(function(n){e(n.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function x0(e,t){return $({width:Math.round(e.left*t+e.width*t)-Math.round(e.left*t),height:Math.round(e.top*t+e.height*t)-Math.round(e.top*t)})}var C0=function(){function e(t,n,i){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return e.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},e.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(e.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),e}();function sn(e,t){var n=e.canvasElementClientSize;if(n.width===0||n.height===0)return null;var i=e.bitmapSize;if(i.width===0||i.height===0)return null;var s=e.canvasElement.getContext("2d",t);return s===null?null:new C0(s,n,i)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.1.0
 * Copyright (c) 2023 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const L0={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},M0={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},T0={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},P0={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},N0={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},O0={color:"#26a69a",base:0},Id={color:"#2196f3"},$d={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Sa,_a;function rn(e,t){const n={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(n)}function Vd(e,t,n,i){e.beginPath();const s=e.lineWidth%2?.5:0;e.moveTo(n,t+s),e.lineTo(i,t+s),e.stroke()}function De(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function pt(e){if(e===void 0)throw new Error("Value is undefined");return e}function S(e){if(e===null)throw new Error("Value is null");return e}function Cn(e){return S(pt(e))}(function(e){e[e.Simple=0]="Simple",e[e.WithSteps=1]="WithSteps",e[e.Curved=2]="Curved"})(Sa||(Sa={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(_a||(_a={}));const ka={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Pt(e){return e<0?0:e>255?255:Math.round(e)||0}function Ud(e){return e<=0||e>0?e<0?0:e>1?1:Math.round(1e4*e)/1e4:0}const z0=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,R0=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,D0=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,B0=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function vr(e){(e=e.toLowerCase())in ka&&(e=ka[e]);{const t=B0.exec(e)||D0.exec(e);if(t)return[Pt(parseInt(t[1],10)),Pt(parseInt(t[2],10)),Pt(parseInt(t[3],10)),Ud(t.length<5?1:parseFloat(t[4]))]}{const t=R0.exec(e);if(t)return[Pt(parseInt(t[1],16)),Pt(parseInt(t[2],16)),Pt(parseInt(t[3],16)),1]}{const t=z0.exec(e);if(t)return[Pt(17*parseInt(t[1],16)),Pt(17*parseInt(t[2],16)),Pt(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${e}`)}function Dr(e){const t=vr(e);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(n=t,.199*n[0]+.687*n[1]+.114*n[2]>160?"black":"white")};var n}class X{constructor(){this.h=[]}l(t,n,i){const s={o:t,_:n,u:i===!0};this.h.push(s)}v(t){const n=this.h.findIndex(i=>t===i.o);n>-1&&this.h.splice(n,1)}p(t){this.h=this.h.filter(n=>n._!==t)}m(t,n,i){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(t,n,i))}M(){return this.h.length>0}S(){this.h=[]}}function qt(e,...t){for(const n of t)for(const i in n)n[i]!==void 0&&(typeof n[i]!="object"||e[i]===void 0||Array.isArray(n[i])?e[i]=n[i]:qt(e[i],n[i]));return e}function Yt(e){return typeof e=="number"&&isFinite(e)}function Ii(e){return typeof e=="number"&&e%1==0}function Xi(e){return typeof e=="string"}function _s(e){return typeof e=="boolean"}function oe(e){const t=e;if(!t||typeof t!="object")return t;let n,i,s;for(i in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(s=t[i],n[i]=s&&typeof s=="object"?oe(s):s);return n}function F0(e){return e!==null}function $i(e){return e===null?void 0:e}const $u="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Vn(e,t,n){return t===void 0&&(t=$u),`${n=n!==void 0?`${n} `:""}${e}px ${t}`}class A0{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,n=this.j(),i=this.H();return t.P===n&&t.D===i||(t.P=n,t.D=i,t.R=Vn(n,i),t.L=2.5/12*n,t.V=t.L,t.B=n/12*t.T,t.I=n/12*t.T,t.N=0),t.O=this.$(),t.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Vu{constructor(){this.Y=[]}X(t){this.Y=t}K(t,n,i){this.Y.forEach(s=>{s.K(t,n,i)})}}class Uu{K(t,n,i){t.useMediaCoordinateSpace(s=>this.Z(s,n,i))}G(t,n,i){t.useMediaCoordinateSpace(s=>this.J(s,n,i))}J(t,n,i){}}class W0 extends Uu{constructor(){super(...arguments),this.tt=null}it(t){this.tt=t}Z({context:t}){if(this.tt===null||this.tt.nt===null)return;const n=this.tt.nt,i=this.tt,s=r=>{t.beginPath();for(let o=n.to-1;o>=n.from;--o){const l=i.st[o];t.moveTo(l.et,l.rt),t.arc(l.et,l.rt,r,0,2*Math.PI)}t.fill()};i.ht>0&&(t.fillStyle=i.lt,s(i.ot+i.ht)),t.fillStyle=i._t,s(i.ot)}}function I0(){return{st:[{et:0,rt:0,ut:0,ct:0}],_t:"",lt:"",ot:0,ht:0,nt:null}}const $0={from:0,to:1};class V0{constructor(t,n){this.dt=new Vu,this.ft=[],this.vt=[],this.bt=!0,this.F=t,this.wt=n,this.dt.X(this.ft)}gt(t){const n=this.F.Mt();n.length!==this.ft.length&&(this.vt=n.map(I0),this.ft=this.vt.map(i=>{const s=new W0;return s.it(i),s}),this.dt.X(this.ft)),this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.dt}St(){const t=this.wt.W().mode===2,n=this.F.Mt(),i=this.wt.kt(),s=this.F.yt();n.forEach((r,o)=>{var l;const u=this.vt[o],h=r.Ct(i);if(t||h===null||!r.Tt())return void(u.nt=null);const a=S(r.Pt());u._t=h.Rt,u.ot=h.ot,u.ht=h.Dt,u.st[0].ct=h.ct,u.st[0].rt=r.At().Ot(h.ct,a.Vt),u.lt=(l=h.Bt)!==null&&l!==void 0?l:this.F.It(u.st[0].rt/r.At().zt()),u.st[0].ut=i,u.st[0].et=s.Et(i),u.nt=$0})}}class pe{K(t,n,i){t.useBitmapCoordinateSpace(s=>this.Z(s,n,i))}}class U0 extends pe{constructor(t){super(),this.Lt=t}Z({context:t,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Lt===null)return;const r=this.Lt.Nt.Tt,o=this.Lt.Ft.Tt;if(!r&&!o)return;const l=Math.round(this.Lt.et*i),u=Math.round(this.Lt.rt*s);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.Lt.Nt.ht*i),t.strokeStyle=this.Lt.Nt.O,t.fillStyle=this.Lt.Nt.O,rn(t,this.Lt.Nt.Wt),function(h,a,c,f){h.beginPath();const v=h.lineWidth%2?.5:0;h.moveTo(a+v,c),h.lineTo(a+v,f),h.stroke()}(t,l,0,n.height)),o&&u>=0&&(t.lineWidth=Math.floor(this.Lt.Ft.ht*s),t.strokeStyle=this.Lt.Ft.O,t.fillStyle=this.Lt.Ft.O,rn(t,this.Lt.Ft.Wt),Vd(t,u,0,n.width))}}class j0{constructor(t){this.bt=!0,this.jt={Nt:{ht:1,Wt:0,O:"",Tt:!1},Ft:{ht:1,Wt:0,O:"",Tt:!1},et:0,rt:0},this.Ht=new U0(this.jt),this.$t=t}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht}St(){const t=this.$t.Tt(),n=S(this.$t.Ut()),i=n.qt().W().crosshair,s=this.jt;if(i.mode===2)return s.Ft.Tt=!1,void(s.Nt.Tt=!1);s.Ft.Tt=t&&this.$t.Yt(n),s.Nt.Tt=t&&this.$t.Xt(),s.Ft.ht=i.horzLine.width,s.Ft.Wt=i.horzLine.style,s.Ft.O=i.horzLine.color,s.Nt.ht=i.vertLine.width,s.Nt.Wt=i.vertLine.style,s.Nt.O=i.vertLine.color,s.et=this.$t.Kt(),s.rt=this.$t.Zt()}}function H0(e,t,n,i,s,r){e.fillRect(t+r,n,i-2*r,r),e.fillRect(t+r,n+s-r,i-2*r,r),e.fillRect(t,n,r,s),e.fillRect(t+i-r,n,r,s)}function Br(e,t,n,i,s,r){e.save(),e.globalCompositeOperation="copy",e.fillStyle=r,e.fillRect(t,n,i,s),e.restore()}function Ea(e,t){return e.map(n=>n===0?n:n+t)}function go(e,t,n,i,s,r){e.beginPath(),e.lineTo(t+i-r[1],n),r[1]!==0&&e.arcTo(t+i,n,t+i,n+r[1],r[1]),e.lineTo(t+i,n+s-r[2]),r[2]!==0&&e.arcTo(t+i,n+s,t+i-r[2],n+s,r[2]),e.lineTo(t+r[3],n+s),r[3]!==0&&e.arcTo(t,n+s,t,n+s-r[3],r[3]),e.lineTo(t,n+r[0]),r[0]!==0&&e.arcTo(t,n,t+r[0],n,r[0])}function ba(e,t,n,i,s,r,o=0,l=[0,0,0,0],u=""){if(e.save(),!o||!u||u===r)return go(e,t,n,i,s,l),e.fillStyle=r,e.fill(),void e.restore();const h=o/2;r!=="transparent"&&(go(e,t+o,n+o,i-2*o,s-2*o,Ea(l,-o)),e.fillStyle=r,e.fill()),u!=="transparent"&&(go(e,t+h,n+h,i-o,s-o,Ea(l,-h)),e.lineWidth=o,e.strokeStyle=u,e.closePath(),e.stroke()),e.restore()}function jd(e,t,n,i,s,r,o){e.save(),e.globalCompositeOperation="copy";const l=e.createLinearGradient(0,0,0,s);l.addColorStop(0,r),l.addColorStop(1,o),e.fillStyle=l,e.fillRect(t,n,i,s),e.restore()}class xa{constructor(t,n){this.it(t,n)}it(t,n){this.Lt=t,this.Gt=n}zt(t,n){return this.Lt.Tt?t.P+t.L+t.V:0}K(t,n,i,s){if(!this.Lt.Tt||this.Lt.Jt.length===0)return;const r=this.Lt.O,o=this.Gt.t,l=t.useBitmapCoordinateSpace(u=>{const h=u.context;h.font=n.R;const a=this.Qt(u,n,i,s),c=a.ti,f=(v,m)=>{a.ii?ba(h,c.ni,c.si,c.ei,c.ri,v,c.hi,[c.ot,0,0,c.ot],m):ba(h,c.li,c.si,c.ei,c.ri,v,c.hi,[0,c.ot,c.ot,0],m)};return f(o,"transparent"),this.Lt.ai&&(h.fillStyle=r,h.fillRect(c.li,c.oi,c._i-c.li,c.ui)),f("transparent",o),this.Lt.ci&&(h.fillStyle=n.A,h.fillRect(a.ii?c.di-c.hi:0,c.si,c.hi,c.fi-c.si)),a});t.useMediaCoordinateSpace(({context:u})=>{const h=l.vi;u.font=n.R,u.textAlign=l.ii?"right":"left",u.textBaseline="middle",u.fillStyle=r,u.fillText(this.Lt.Jt,h.pi,(h.si+h.fi)/2+h.mi)})}Qt(t,n,i,s){var r;const{context:o,bitmapSize:l,mediaSize:u,horizontalPixelRatio:h,verticalPixelRatio:a}=t,c=this.Lt.ai||!this.Lt.bi?n.T:0,f=this.Lt.wi?n.C:0,v=n.L+this.Gt.gi,m=n.V+this.Gt.Mi,g=n.B,k=n.I,p=this.Lt.Jt,d=n.P,y=i.xi(o,p),w=Math.ceil(i.Si(o,p)),E=d+v+m,x=n.C+g+k+w+c,b=Math.max(1,Math.floor(a));let C=Math.round(E*a);C%2!=b%2&&(C+=1);const B=f>0?Math.max(1,Math.floor(f*h)):0,N=Math.round(x*h),gt=Math.round(c*h),We=(r=this.Gt.ki)!==null&&r!==void 0?r:this.Gt.yi,me=Math.round(We*a)-Math.floor(.5*a),hn=Math.floor(me+b/2-C/2),Yi=hn+C,ve=s==="right",an=ve?u.width-f:f,L=ve?l.width-B:B;let T,O,W;return ve?(T=L-N,O=L-gt,W=an-c-g-f):(T=L+N,O=L+gt,W=an+c+g),{ii:ve,ti:{si:hn,oi:me,fi:Yi,ei:N,ri:C,ot:2*h,hi:B,ni:T,li:L,_i:O,ui:b,di:l.width},vi:{si:hn/a,fi:Yi/a,pi:W,mi:y}}}}class Fr{constructor(t){this.Ci={yi:0,t:"#000",Mi:0,gi:0},this.Ti={Jt:"",Tt:!1,ai:!0,bi:!1,Bt:"",O:"#FFF",ci:!1,wi:!1},this.Pi={Jt:"",Tt:!1,ai:!1,bi:!0,Bt:"",O:"#FFF",ci:!0,wi:!0},this.bt=!0,this.Ri=new(t||xa)(this.Ti,this.Ci),this.Di=new(t||xa)(this.Pi,this.Ci)}Jt(){return this.Oi(),this.Ti.Jt}yi(){return this.Oi(),this.Ci.yi}gt(){this.bt=!0}zt(t,n=!1){return Math.max(this.Ri.zt(t,n),this.Di.zt(t,n))}Ai(){return this.Ci.ki||0}Vi(t){this.Ci.ki=t}Bi(){return this.Oi(),this.Ti.Tt||this.Pi.Tt}Ii(){return this.Oi(),this.Ti.Tt}xt(t){return this.Oi(),this.Ti.ai=this.Ti.ai&&t.W().ticksVisible,this.Pi.ai=this.Pi.ai&&t.W().ticksVisible,this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Ri}zi(){return this.Oi(),this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Di}Oi(){this.bt&&(this.Ti.ai=!0,this.Pi.ai=!1,this.Ei(this.Ti,this.Pi,this.Ci))}}class q0 extends Fr{constructor(t,n,i){super(),this.$t=t,this.Li=n,this.Ni=i}Ei(t,n,i){if(t.Tt=!1,this.$t.W().mode===2)return;const s=this.$t.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Pt();if(!this.$t.Tt()||this.Li.Fi()||r===null)return;const o=Dr(s.labelBackgroundColor);i.t=o.t,t.O=o.i;const l=2/12*this.Li.P();i.gi=l,i.Mi=l;const u=this.Ni(this.Li);i.yi=u.yi,t.Jt=this.Li.Wi(u.ct,r),t.Tt=!0}}const K0=/[1-9]/g;class Hd{constructor(){this.Lt=null}it(t){this.Lt=t}K(t,n){if(this.Lt===null||this.Lt.Tt===!1||this.Lt.Jt.length===0)return;const i=t.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.ji.Si(f,S(this.Lt).Jt,K0))));if(i<=0)return;const s=n.Hi,r=i+2*s,o=r/2,l=this.Lt.$i;let u=this.Lt.yi,h=Math.floor(u-o)+.5;h<0?(u+=Math.abs(0-h),h=Math.floor(u-o)+.5):h+r>l&&(u-=Math.abs(l-(h+r)),h=Math.floor(u-o)+.5);const a=h+r,c=Math.ceil(0+n.C+n.T+n.L+n.P+n.V);t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:v,verticalPixelRatio:m})=>{const g=S(this.Lt);f.fillStyle=g.t;const k=Math.round(h*v),p=Math.round(0*m),d=Math.round(a*v),y=Math.round(c*m),w=Math.round(2*v);if(f.beginPath(),f.moveTo(k,p),f.lineTo(k,y-w),f.arcTo(k,y,k+w,y,w),f.lineTo(d-w,y),f.arcTo(d,y,d,y-w,w),f.lineTo(d,p),f.fill(),g.ai){const E=Math.round(g.yi*v),x=p,b=Math.round((x+n.T)*m);f.fillStyle=g.O;const C=Math.max(1,Math.floor(v)),B=Math.floor(.5*v);f.fillRect(E-B,x,C,b-x)}}),t.useMediaCoordinateSpace(({context:f})=>{const v=S(this.Lt),m=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=v.O;const g=n.ji.xi(f,"Apr0");f.translate(h+s,m+g),f.fillText(v.Jt,0,0)})}}class Q0{constructor(t,n,i){this.bt=!0,this.Ht=new Hd,this.jt={Tt:!1,t:"#4c525e",O:"white",Jt:"",$i:0,yi:NaN,ai:!0},this.wt=t,this.Ui=n,this.Ni=i}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht.it(this.jt),this.Ht}St(){const t=this.jt;if(t.Tt=!1,this.wt.W().mode===2)return;const n=this.wt.W().vertLine;if(!n.labelVisible)return;const i=this.Ui.yt();if(i.Fi())return;t.$i=i.$i();const s=this.Ni();if(s===null)return;t.yi=s.yi;const r=i.qi(this.wt.kt());t.Jt=i.Yi(S(r)),t.Tt=!0;const o=Dr(n.labelBackgroundColor);t.t=o.t,t.O=o.i,t.ai=i.W().ticksVisible}}class ju{constructor(){this.Xi=null,this.Ki=0}Zi(){return this.Ki}Gi(t){this.Ki=t}At(){return this.Xi}Ji(t){this.Xi=t}Qi(t){return[]}tn(){return[]}Tt(){return!0}}var Ca;(function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet",e[e.Hidden=2]="Hidden"})(Ca||(Ca={}));class X0 extends ju{constructor(t,n){super(),this.nn=null,this.sn=NaN,this.en=0,this.rn=!0,this.hn=new Map,this.ln=!1,this.an=NaN,this.on=NaN,this._n=NaN,this.un=NaN,this.Ui=t,this.cn=n,this.dn=new V0(t,this),this.fn=((s,r)=>o=>{const l=r(),u=s();if(o===S(this.nn).vn())return{ct:u,yi:l};{const h=S(o.Pt());return{ct:o.pn(l,h),yi:l}}})(()=>this.sn,()=>this.on);const i=((s,r)=>()=>{const o=this.Ui.yt().mn(s()),l=r();return o&&Number.isFinite(l)?{ut:o,yi:l}:null})(()=>this.en,()=>this.Kt());this.bn=new Q0(this,t,i),this.wn=new j0(this)}W(){return this.cn}gn(t,n){this._n=t,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,n,i){this.ln||(this.ln=!0),this.rn=!0,this.yn(t,n,i)}kt(){return this.en}Kt(){return this.an}Zt(){return this.on}Tt(){return this.rn}Cn(){this.rn=!1,this.Tn(),this.sn=NaN,this.an=NaN,this.on=NaN,this.nn=null,this.Mn()}Pn(t){return this.nn!==null?[this.wn,this.dn]:[]}Yt(t){return t===this.nn&&this.cn.horzLine.visible}Xt(){return this.cn.vertLine.visible}Rn(t,n){this.rn&&this.nn===t||this.hn.clear();const i=[];return this.nn===t&&i.push(this.Dn(this.hn,n,this.fn)),i}tn(){return this.rn?[this.bn]:[]}Ut(){return this.nn}On(){this.wn.gt(),this.hn.forEach(t=>t.gt()),this.bn.gt(),this.dn.gt()}An(t){return t&&!t.vn().Fi()?t.vn():null}yn(t,n,i){this.Vn(t,n,i)&&this.On()}Vn(t,n,i){const s=this.an,r=this.on,o=this.sn,l=this.en,u=this.nn,h=this.An(i);this.en=t,this.an=isNaN(t)?NaN:this.Ui.yt().Et(t),this.nn=i;const a=h!==null?h.Pt():null;return h!==null&&a!==null?(this.sn=n,this.on=h.Ot(n,a)):(this.sn=NaN,this.on=NaN),s!==this.an||r!==this.on||l!==this.en||o!==this.sn||u!==this.nn}Tn(){const t=this.Ui.Mt().map(i=>i.In().Bn()).filter(F0),n=t.length===0?null:Math.max(...t);this.en=n!==null?n:NaN}Dn(t,n,i){let s=t.get(n);return s===void 0&&(s=new q0(this,n,i),t.set(n,s)),s}}function Ar(e){return e==="left"||e==="right"}class rt{constructor(t){this.zn=new Map,this.En=[],this.Ln=t}Nn(t,n){const i=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(t),n);this.zn.set(t,i)}jn(){return this.Ln}Hn(t){const n=this.zn.get(t);return n===void 0?{Fn:this.Ln}:{Fn:Math.max(this.Ln,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.En=[{qn:0}]}Yn(t){this.Un(),this.En=[{qn:1,Vt:t}]}Xn(t){this.Kn(),this.En.push({qn:5,Vt:t})}Un(){this.Kn(),this.En.push({qn:6})}Zn(){this.Un(),this.En=[{qn:4}]}Gn(t){this.Un(),this.En.push({qn:2,Vt:t})}Jn(t){this.Un(),this.En.push({qn:3,Vt:t})}Qn(){return this.En}ts(t){for(const n of t.En)this.ns(n);this.Ln=Math.max(this.Ln,t.Ln),t.zn.forEach((n,i)=>{this.Nn(i,n)})}static ss(){return new rt(2)}static es(){return new rt(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Zn();break;case 5:this.Xn(t.Vt);break;case 6:this.Kn()}}Kn(){const t=this.En.findIndex(n=>n.qn===5);t!==-1&&this.En.splice(t,1)}}const La=".";function le(e,t){if(!Yt(e))return"n/a";if(!Ii(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?e.toString():("0000000000000000"+e.toString()).slice(-t)}class Wr{constructor(t,n){if(n||(n=1),Yt(t)&&Ii(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=n,this.hs()}format(t){const n=t<0?"−":"";return t=Math.abs(t),n+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const n=this.Li/this.rs;let i=Math.floor(t),s="";const r=this.os!==void 0?this.os:NaN;if(n>1){let o=+(Math.round(t*n)-i*n).toFixed(this.os);o>=n&&(o-=n,i+=1),s=La+le(+o.toFixed(this.os)*this.rs,r)}else i=Math.round(i*n)/n,r>0&&(s=La+le(0,r));return i.toFixed(0)+s}}class qd extends Wr{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class J0{constructor(t){this._s=t}format(t){let n="";return t<0&&(n="-",t=-t),t<995?n+this.us(t):t<999995?n+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),n+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),n+this.us(t/1e9)+"B")}us(t){let n;const i=Math.pow(10,this._s);return n=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t),n.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function Kd(e,t,n,i,s,r,o){if(t.length===0||i.from>=t.length||i.to<=0)return;const{context:l,horizontalPixelRatio:u,verticalPixelRatio:h}=e,a=t[i.from];let c=r(e,a),f=a;if(i.to-i.from<2){const v=s/2;l.beginPath();const m={et:a.et-v,rt:a.rt},g={et:a.et+v,rt:a.rt};l.moveTo(m.et*u,m.rt*h),l.lineTo(g.et*u,g.rt*h),o(e,c,m,g)}else{const v=(g,k)=>{o(e,c,f,k),l.beginPath(),c=g,f=k};let m=f;l.beginPath(),l.moveTo(a.et*u,a.rt*h);for(let g=i.from+1;g<i.to;++g){m=t[g];const k=r(e,m);switch(n){case 0:l.lineTo(m.et*u,m.rt*h);break;case 1:l.lineTo(m.et*u,t[g-1].rt*h),k!==c&&(v(k,m),l.lineTo(m.et*u,t[g-1].rt*h)),l.lineTo(m.et*u,m.rt*h);break;case 2:{const[p,d]=Y0(t,g-1,g);l.bezierCurveTo(p.et*u,p.rt*h,d.et*u,d.rt*h,m.et*u,m.rt*h);break}}n!==1&&k!==c&&(v(k,m),l.moveTo(m.et*u,m.rt*h))}(f!==m||f===m&&n===1)&&o(e,c,f,m)}}const Ma=6;function yo(e,t){return{et:e.et-t.et,rt:e.rt-t.rt}}function Ta(e,t){return{et:e.et/t,rt:e.rt/t}}function Y0(e,t,n){const i=Math.max(0,t-1),s=Math.min(e.length-1,n+1);var r,o;return[(r=e[t],o=Ta(yo(e[n],e[i]),Ma),{et:r.et+o.et,rt:r.rt+o.rt}),yo(e[n],Ta(yo(e[s],e[t]),Ma))]}function G0(e,t,n,i,s){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(s.et*o,e*l),r.lineTo(i.et*o,e*l),r.closePath(),r.fillStyle=n,r.fill()}class Qd extends pe{constructor(){super(...arguments),this.tt=null}it(t){this.tt=t}Z(t){var n;if(this.tt===null)return;const{st:i,nt:s,cs:r,ht:o,Wt:l,ds:u}=this.tt,h=(n=this.tt.fs)!==null&&n!==void 0?n:this.tt.vs?0:t.mediaSize.height;if(s===null)return;const a=t.context;a.lineCap="butt",a.lineJoin="round",a.lineWidth=o,rn(a,l),a.lineWidth=1,Kd(t,i,u,s,r,this.ps.bind(this),G0.bind(null,h))}}function Dl(e,t,n){return Math.min(Math.max(e,t),n)}function ks(e,t,n){return t-e<=n}function Xd(e){const t=Math.ceil(e);return t%2==0?t-1:t}class Hu{bs(t,n){const i=this.ws,{gs:s,Ms:r,xs:o,Ss:l,ks:u,fs:h}=n;if(this.ys===void 0||i===void 0||i.gs!==s||i.Ms!==r||i.xs!==o||i.Ss!==l||i.fs!==h||i.ks!==u){const a=t.context.createLinearGradient(0,0,0,u);if(a.addColorStop(0,s),h!=null){const c=Dl(h*t.verticalPixelRatio/u,0,1);a.addColorStop(c,r),a.addColorStop(c,o)}a.addColorStop(1,l),this.ys=a,this.ws=n}return this.ys}}class Z0 extends Qd{constructor(){super(...arguments),this.Cs=new Hu}ps(t,n){return this.Cs.bs(t,{gs:n.Ts,Ms:"",xs:"",Ss:n.Ps,ks:t.bitmapSize.height})}}function tg(e,t){const n=e.context;n.strokeStyle=t,n.stroke()}class Jd extends pe{constructor(){super(...arguments),this.tt=null}it(t){this.tt=t}Z(t){if(this.tt===null)return;const{st:n,nt:i,cs:s,ds:r,ht:o,Wt:l,Rs:u}=this.tt;if(i===null)return;const h=t.context;h.lineCap="butt",h.lineWidth=o*t.verticalPixelRatio,rn(h,l),h.lineJoin="round";const a=this.Ds.bind(this);r!==void 0&&Kd(t,n,r,i,s,a,tg),u&&function(c,f,v,m,g){const{horizontalPixelRatio:k,verticalPixelRatio:p,context:d}=c;let y=null;const w=Math.max(1,Math.floor(k))%2/2,E=v*p+w;for(let x=m.to-1;x>=m.from;--x){const b=f[x];if(b){const C=g(c,b);C!==y&&(d.beginPath(),y!==null&&d.fill(),d.fillStyle=C,y=C);const B=Math.round(b.et*k)+w,N=b.rt*p;d.moveTo(B,N),d.arc(B,N,E,0,2*Math.PI)}}d.fill()}(t,n,u,i,a)}}class Yd extends Jd{Ds(t,n){return n._t}}function Gd(e,t,n,i,s=0,r=t.length){let o=r-s;for(;0<o;){const l=o>>1,u=s+l;i(t[u],n)===e?(s=u+1,o-=l+1):o=l}return s}const Ji=Gd.bind(null,!0),Zd=Gd.bind(null,!1);function eg(e,t){return e.ut<t}function ng(e,t){return t<e.ut}function tp(e,t,n){const i=t.Os(),s=t.di(),r=Ji(e,i,eg),o=Zd(e,s,ng);if(!n)return{from:r,to:o};let l=r,u=o;return r>0&&r<e.length&&e[r].ut>=i&&(l=r-1),o>0&&o<e.length&&e[o-1].ut<=s&&(u=o+1),{from:l,to:u}}class qu{constructor(t,n,i){this.As=!0,this.Vs=!0,this.Bs=!0,this.Is=[],this.zs=null,this.Es=t,this.Ls=n,this.Ns=i}gt(t){this.As=!0,t==="data"&&(this.Vs=!0),t==="options"&&(this.Bs=!0)}xt(){return this.Es.Tt()?(this.Fs(),this.zs===null?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Es.$s().Hs(t.ut)))}Us(){this.zs=null}Fs(){this.Vs&&(this.qs(),this.Vs=!1),this.Bs&&(this.js(),this.Bs=!1),this.As&&(this.Ys(),this.As=!1)}Ys(){const t=this.Es.At(),n=this.Ls.yt();if(this.Us(),n.Fi()||t.Fi())return;const i=n.Xs();if(i===null||this.Es.In().Ks()===0)return;const s=this.Es.Pt();s!==null&&(this.zs=tp(this.Is,i,this.Ns),this.Zs(t,n,s.Vt),this.Gs())}}class Ir extends qu{constructor(t,n){super(t,n,!0)}Zs(t,n,i){n.Js(this.Is,$i(this.zs)),t.Qs(this.Is,i,$i(this.zs))}te(t,n){return{ut:t,ct:n,et:NaN,rt:NaN}}qs(){const t=this.Es.$s();this.Is=this.Es.In().ie().map(n=>{const i=n.Vt[3];return this.ne(n.se,i,t)})}}class ig extends Ir{constructor(t,n){super(t,n),this.Ws=new Vu,this.ee=new Z0,this.re=new Yd,this.Ws.X([this.ee,this.re])}ne(t,n,i){return Object.assign(Object.assign({},this.te(t,n)),i.Hs(t))}Gs(){const t=this.Es.W();this.ee.it({ds:t.lineType,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,fs:null,vs:t.invertFilledArea,nt:this.zs,cs:this.Ls.yt().he()}),this.re.it({ds:t.lineVisible?t.lineType:void 0,st:this.Is,Wt:t.lineStyle,ht:t.lineWidth,nt:this.zs,cs:this.Ls.yt().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class sg extends pe{constructor(){super(...arguments),this.Lt=null,this.le=0,this.ae=0}it(t){this.Lt=t}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.Lt===null||this.Lt.In.length===0||this.Lt.nt===null)return;this.le=this.oe(n),this.le>=2&&Math.max(1,Math.floor(n))%2!=this.le%2&&this.le--,this.ae=this.Lt._e?Math.min(this.le,Math.floor(n)):this.le;let s=null;const r=this.ae<=this.le&&this.Lt.he>=Math.floor(1.5*n);for(let o=this.Lt.nt.from;o<this.Lt.nt.to;++o){const l=this.Lt.In[o];s!==l.ue&&(t.fillStyle=l.ue,s=l.ue);const u=Math.floor(.5*this.ae),h=Math.round(l.et*n),a=h-u,c=this.ae,f=a+c-1,v=Math.min(l.ce,l.de),m=Math.max(l.ce,l.de),g=Math.round(v*i)-u,k=Math.round(m*i)+u,p=Math.max(k-g,this.ae);t.fillRect(a,g,c,p);const d=Math.ceil(1.5*this.le);if(r){if(this.Lt.fe){const x=h-d;let b=Math.max(g,Math.round(l.ve*i)-u),C=b+c-1;C>g+p-1&&(C=g+p-1,b=C-c+1),t.fillRect(x,b,a-x,C-b+1)}const y=h+d;let w=Math.max(g,Math.round(l.pe*i)-u),E=w+c-1;E>g+p-1&&(E=g+p-1,w=E-c+1),t.fillRect(f+1,w,y-f,E-w+1)}}}oe(t){const n=Math.floor(t);return Math.max(n,Math.floor(function(i,s){return Math.floor(.3*i*s)}(S(this.Lt).he,t)))}}class ep extends qu{constructor(t,n){super(t,n,!1)}Zs(t,n,i){n.Js(this.Is,$i(this.zs)),t.me(this.Is,i,$i(this.zs))}be(t,n,i){return{ut:t,we:n.Vt[0],ge:n.Vt[1],Me:n.Vt[2],xe:n.Vt[3],et:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Es.$s();this.Is=this.Es.In().ie().map(n=>this.ne(n.se,n,t))}}class rg extends ep{constructor(){super(...arguments),this.Ws=new sg}ne(t,n,i){return Object.assign(Object.assign({},this.be(t,n,i)),i.Hs(t))}Gs(){const t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),fe:t.openVisible,_e:t.thinBars,nt:this.zs})}}class og extends Qd{constructor(){super(...arguments),this.Cs=new Hu}ps(t,n){const i=this.tt;return this.Cs.bs(t,{gs:n.Se,Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:t.bitmapSize.height,fs:i.fs})}}class lg extends Jd{constructor(){super(...arguments),this.Te=new Hu}Ds(t,n){const i=this.tt;return this.Te.bs(t,{gs:n.Pe,Ms:n.Pe,xs:n.Re,Ss:n.Re,ks:t.bitmapSize.height,fs:i.fs})}}class ug extends Ir{constructor(t,n){super(t,n),this.Ws=new Vu,this.De=new og,this.Oe=new lg,this.Ws.X([this.De,this.Oe])}ne(t,n,i){return Object.assign(Object.assign({},this.te(t,n)),i.Hs(t))}Gs(){const t=this.Es.Pt();if(t===null)return;const n=this.Es.W(),i=this.Es.At().Ot(n.baseValue.price,t.Vt),s=this.Ls.yt().he();this.De.it({st:this.Is,ht:n.lineWidth,Wt:n.lineStyle,ds:n.lineType,fs:i,vs:!1,nt:this.zs,cs:s}),this.Oe.it({st:this.Is,ht:n.lineWidth,Wt:n.lineStyle,ds:n.lineVisible?n.lineType:void 0,Rs:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,fs:i,nt:this.zs,cs:s})}}class hg extends pe{constructor(){super(...arguments),this.Lt=null,this.le=0}it(t){this.Lt=t}Z(t){if(this.Lt===null||this.Lt.In.length===0||this.Lt.nt===null)return;const{horizontalPixelRatio:n}=t;this.le=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),u=Math.floor(r*l*o),h=Math.floor(r*o),a=Math.min(u,h);return Math.max(Math.floor(o),a)}(this.Lt.he,n),this.le>=2&&Math.floor(n)%2!=this.le%2&&this.le--;const i=this.Lt.In;this.Lt.Ae&&this.Ve(t,i,this.Lt.nt),this.Lt.ci&&this.Be(t,i,this.Lt.nt);const s=this.Ie(n);(!this.Lt.ci||this.le>2*s)&&this.ze(t,i,this.Lt.nt)}Ve(t,n,i){if(this.Lt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",u=Math.min(Math.floor(r),Math.floor(this.Lt.he*r));u=Math.max(Math.floor(r),Math.min(u,this.le));const h=Math.floor(.5*u);let a=null;for(let c=i.from;c<i.to;c++){const f=n[c];f.Ee!==l&&(s.fillStyle=f.Ee,l=f.Ee);const v=Math.round(Math.min(f.ve,f.pe)*o),m=Math.round(Math.max(f.ve,f.pe)*o),g=Math.round(f.ce*o),k=Math.round(f.de*o);let p=Math.round(r*f.et)-h;const d=p+u-1;a!==null&&(p=Math.max(a+1,p),p=Math.min(p,d));const y=d-p+1;s.fillRect(p,g,y,v-g),s.fillRect(p,m+1,y,k-m),a=d}}Ie(t){let n=Math.floor(1*t);this.le<=2*n&&(n=Math.floor(.5*(this.le-1)));const i=Math.max(Math.floor(t),n);return this.le<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Be(t,n,i){if(this.Lt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const u=this.Ie(r);let h=null;for(let a=i.from;a<i.to;a++){const c=n[a];c.Le!==l&&(s.fillStyle=c.Le,l=c.Le);let f=Math.round(c.et*r)-Math.floor(.5*this.le);const v=f+this.le-1,m=Math.round(Math.min(c.ve,c.pe)*o),g=Math.round(Math.max(c.ve,c.pe)*o);if(h!==null&&(f=Math.max(h+1,f),f=Math.min(f,v)),this.Lt.he*r>2*u)H0(s,f,m,v-f+1,g-m+1,u);else{const k=v-f+1;s.fillRect(f,m,k,g-m+1)}h=v}}ze(t,n,i){if(this.Lt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const u=this.Ie(r);for(let h=i.from;h<i.to;h++){const a=n[h];let c=Math.round(Math.min(a.ve,a.pe)*o),f=Math.round(Math.max(a.ve,a.pe)*o),v=Math.round(a.et*r)-Math.floor(.5*this.le),m=v+this.le-1;if(a.ue!==l){const g=a.ue;s.fillStyle=g,l=g}this.Lt.ci&&(v+=u,c+=u,m-=u,f-=u),c>f||s.fillRect(v,c,m-v+1,f-c+1)}}}class ag extends ep{constructor(){super(...arguments),this.Ws=new hg}ne(t,n,i){return Object.assign(Object.assign({},this.be(t,n,i)),i.Hs(t))}Gs(){const t=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),Ae:t.wickVisible,ci:t.borderVisible,nt:this.zs})}}class cg{constructor(t,n){this.Ne=t,this.Li=n}K(t,n,i){this.Ne.draw(t,this.Li,n,i)}}class wo extends qu{constructor(t,n,i){super(t,n,!1),this.wn=i,this.Ws=new cg(this.wn.renderer(),s=>{const r=t.Pt();return r===null?null:t.At().Ot(s,r.Vt)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Es.$s();this.Is=this.Es.In().ie().map(n=>Object.assign(Object.assign({ut:n.se,et:NaN},t.Hs(n.se)),{je:n.He}))}Zs(t,n){n.Js(this.Is,$i(this.zs))}Gs(){this.wn.update({bars:this.Is.map(fg),barSpacing:this.Ls.yt().he(),visibleRange:this.zs},this.Es.W())}}function fg(e){return{x:e.et,time:e.ut,originalData:e.je,barColor:e.ue}}class dg extends pe{constructor(){super(...arguments),this.Lt=null,this.$e=[]}it(t){this.Lt=t,this.$e=[]}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.Lt===null||this.Lt.st.length===0||this.Lt.nt===null)return;this.$e.length||this.Ue(n);const s=Math.max(1,Math.floor(i)),r=Math.round(this.Lt.qe*i)-Math.floor(s/2),o=r+s;for(let l=this.Lt.nt.from;l<this.Lt.nt.to;l++){const u=this.Lt.st[l],h=this.$e[l-this.Lt.nt.from],a=Math.round(u.rt*i);let c,f;t.fillStyle=u.ue,a<=r?(c=a,f=o):(c=r,f=a-Math.floor(s/2)+s),t.fillRect(h.Os,c,h.di-h.Os+1,f-c)}}Ue(t){if(this.Lt===null||this.Lt.st.length===0||this.Lt.nt===null)return void(this.$e=[]);const n=Math.ceil(this.Lt.he*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Lt.he*t)-n;this.$e=new Array(this.Lt.nt.to-this.Lt.nt.from);for(let r=this.Lt.nt.from;r<this.Lt.nt.to;r++){const o=this.Lt.st[r],l=Math.round(o.et*t);let u,h;if(i%2){const a=(i-1)/2;u=l-a,h=l+a}else{const a=i/2;u=l-a,h=l+a-1}this.$e[r-this.Lt.nt.from]={Os:u,di:h,Ye:l,Xe:o.et*t,ut:o.ut}}for(let r=this.Lt.nt.from+1;r<this.Lt.nt.to;r++){const o=this.$e[r-this.Lt.nt.from],l=this.$e[r-this.Lt.nt.from-1];o.ut===l.ut+1&&o.Os-l.di!==n+1&&(l.Ye>l.Xe?l.di=o.Os-n-1:o.Os=l.di+n+1)}let s=Math.ceil(this.Lt.he*t);for(let r=this.Lt.nt.from;r<this.Lt.nt.to;r++){const o=this.$e[r-this.Lt.nt.from];o.di<o.Os&&(o.di=o.Os);const l=o.di-o.Os+1;s=Math.min(l,s)}if(n>0&&s<4)for(let r=this.Lt.nt.from;r<this.Lt.nt.to;r++){const o=this.$e[r-this.Lt.nt.from];o.di-o.Os+1>s&&(o.Ye>o.Xe?o.di-=1:o.Os+=1)}}}class pg extends Ir{constructor(){super(...arguments),this.Ws=new dg}ne(t,n,i){return Object.assign(Object.assign({},this.te(t,n)),i.Hs(t))}Gs(){const t={st:this.Is,he:this.Ls.yt().he(),nt:this.zs,qe:this.Es.At().Ot(this.Es.W().base,S(this.Es.Pt()).Vt)};this.Ws.it(t)}}class mg extends Ir{constructor(){super(...arguments),this.Ws=new Yd}ne(t,n,i){return Object.assign(Object.assign({},this.te(t,n)),i.Hs(t))}Gs(){const t=this.Es.W(),n={st:this.Is,Wt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,ht:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,nt:this.zs,cs:this.Ls.yt().he()};this.Ws.it(n)}}const vg=/[2-9]/g;class Vi{constructor(t=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}Si(t,n,i){return this.nr(t,n,i).width}xi(t,n,i){const s=this.nr(t,n,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}nr(t,n,i){const s=i||vg,r=String(n).replace(s,"0");if(this.Qe.has(r))return pt(this.Qe.get(r)).sr;if(this.Ke===this.tr){const l=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(l),this.Ge++,this.Ke--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&n.length||(this.Qe.set(r,{sr:o,er:this.Ze}),this.Je[this.Ze]=r,this.Ke++,this.Ze++),o}}class gg{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,n,i){this.rr=t,this.k=n,this.hr=i}K(t){this.k!==null&&this.rr!==null&&this.rr.K(t,this.k,this.lr,this.hr)}}class np{constructor(t,n,i){this._r=t,this.lr=new Vi(50),this.ur=n,this.F=i,this.j=-1,this.Ht=new gg(this.lr)}xt(){const t=this.F.cr(this.ur);if(t===null)return null;const n=t.dr(this.ur)?t.vr():this.ur.At();if(n===null)return null;const i=t.pr(n);if(i==="overlay")return null;const s=this.F.mr();return s.P!==this.j&&(this.j=s.P,this.lr.ir()),this.Ht.ar(this._r.zi(),s,i),this.Ht}}class yg extends pe{constructor(){super(...arguments),this.Lt=null}it(t){this.Lt=t}br(t,n){var i;if(!(!((i=this.Lt)===null||i===void 0)&&i.Tt))return null;const{rt:s,ht:r,wr:o}=this.Lt;return n>=s-r-7&&n<=s+r+7?{gr:this.Lt,wr:o}:null}Z({context:t,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Lt===null||this.Lt.Tt===!1)return;const r=Math.round(this.Lt.rt*s);r<0||r>n.height||(t.lineCap="butt",t.strokeStyle=this.Lt.O,t.lineWidth=Math.floor(this.Lt.ht*i),rn(t,this.Lt.Wt),Vd(t,r,0,n.width))}}class Ku{constructor(t){this.Mr={rt:0,O:"rgba(0, 0, 0, 0)",ht:1,Wt:0,Tt:!1},this.Sr=new yg,this.bt=!0,this.Es=t,this.Ls=t.qt(),this.Sr.it(this.Mr)}gt(){this.bt=!0}xt(){return this.Es.Tt()?(this.bt&&(this.kr(),this.bt=!1),this.Sr):null}}class wg extends Ku{constructor(t){super(t)}kr(){this.Mr.Tt=!1;const t=this.Es.At(),n=t.yr().yr;if(n!==2&&n!==3)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.Tt())return;const s=this.Es.Pt();s!==null&&(this.Mr.Tt=!0,this.Mr.rt=t.Ot(s.Vt,s.Vt),this.Mr.O=i.baseLineColor,this.Mr.ht=i.baseLineWidth,this.Mr.Wt=i.baseLineStyle)}}class Sg extends pe{constructor(){super(...arguments),this.Lt=null}it(t){this.Lt=t}He(){return this.Lt}Z({context:t,horizontalPixelRatio:n,verticalPixelRatio:i}){const s=this.Lt;if(s===null)return;const r=Math.max(1,Math.floor(n)),o=r%2/2,l=Math.round(s.Xe.x*n)+o,u=s.Xe.y*i;t.fillStyle=s.Cr,t.beginPath();const h=Math.max(2,1.5*s.Tr)*n;t.arc(l,u,h,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.Pr,t.beginPath(),t.arc(l,u,s.ot*n,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=s.Rr,t.beginPath(),t.arc(l,u,s.ot*n+r/2,0,2*Math.PI,!1),t.stroke()}}const _g=[{Dr:0,Or:.25,Ar:4,Vr:10,Br:.25,Ir:0,zr:.4,Er:.8},{Dr:.25,Or:.525,Ar:10,Vr:14,Br:0,Ir:0,zr:.8,Er:0},{Dr:.525,Or:1,Ar:14,Vr:14,Br:0,Ir:0,zr:0,Er:0}];function Pa(e,t,n,i){return function(s,r){if(s==="transparent")return s;const o=vr(s),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(e,n+(i-n)*t)}function Na(e,t){const n=e%2600/2600;let i;for(const u of _g)if(n>=u.Dr&&n<=u.Or){i=u;break}De(i!==void 0,"Last price animation internal logic error");const s=(n-i.Dr)/(i.Or-i.Dr);return{Pr:Pa(t,s,i.Br,i.Ir),Rr:Pa(t,s,i.zr,i.Er),ot:(r=s,o=i.Ar,l=i.Vr,o+(l-o)*r)};var r,o,l}class kg{constructor(t){this.Ht=new Sg,this.bt=!0,this.Lr=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.gt()}Hr(){if(this.gt(),this.Wr.W().lastPriceAnimation===2){const t=performance.now(),n=this.Fr-t;if(n>0)return void(n<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}gt(){this.bt=!0}$r(){this.Lr=!0}Tt(){return this.Wr.W().lastPriceAnimation!==0}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}xt(){return this.bt?(this.St(),this.bt=!1,this.Lr=!1):this.Lr&&(this.qr(),this.Lr=!1),this.Ht}St(){this.Ht.it(null);const t=this.Wr.qt().yt(),n=t.Xs(),i=this.Wr.Pt();if(n===null||i===null)return;const s=this.Wr.Yr(!0);if(s.Xr||!n.Kr(s.se))return;const r={x:t.Et(s.se),y:this.Wr.At().Ot(s.ct,i.Vt)},o=s.O,l=this.Wr.W().lineWidth,u=Na(this.Zr(),o);this.Ht.it({Cr:o,Tr:l,Pr:u.Pr,Rr:u.Rr,ot:u.ot,Xe:r})}qr(){const t=this.Ht.He();if(t!==null){const n=Na(this.Zr(),t.Cr);t.Pr=n.Pr,t.Rr=n.Rr,t.ot=n.ot}}Zr(){return this.Ur()?performance.now()-this.Nr:2599}}function wi(e,t){return Xd(Math.min(Math.max(e,12),30)*t)}function Ui(e,t){switch(e){case"arrowDown":case"arrowUp":return wi(t,1);case"circle":return wi(t,.8);case"square":return wi(t,.7)}}function ip(e){return function(t){const n=Math.ceil(t);return n%2!=0?n-1:n}(wi(e,1))}function Oa(e){return Math.max(wi(e,.1),3)}function sp(e,t,n,i,s){const r=Ui("square",n),o=(r-1)/2,l=e-o,u=t-o;return i>=l&&i<=l+r&&s>=u&&s<=u+r}function za(e,t,n,i,s){const r=(Ui("arrowUp",s)-1)/2,o=(Xd(s/2)-1)/2;t.beginPath(),e?(t.moveTo(n-r,i),t.lineTo(n,i-r),t.lineTo(n+r,i),t.lineTo(n+o,i),t.lineTo(n+o,i+r),t.lineTo(n-o,i+r),t.lineTo(n-o,i)):(t.moveTo(n-r,i),t.lineTo(n,i+r),t.lineTo(n+r,i),t.lineTo(n+o,i),t.lineTo(n+o,i-r),t.lineTo(n-o,i-r),t.lineTo(n-o,i)),t.fill()}function Eg(e,t,n,i,s,r){return sp(t,n,i,s,r)}class bg extends Uu{constructor(){super(...arguments),this.Lt=null,this.lr=new Vi,this.j=-1,this.H="",this.Gr=""}it(t){this.Lt=t}ar(t,n){this.j===t&&this.H===n||(this.j=t,this.H=n,this.Gr=Vn(t,n),this.lr.ir())}br(t,n){if(this.Lt===null||this.Lt.nt===null)return null;for(let i=this.Lt.nt.from;i<this.Lt.nt.to;i++){const s=this.Lt.st[i];if(Cg(s,t,n))return{gr:s.Jr,wr:s.wr}}return null}Z({context:t},n,i){if(this.Lt!==null&&this.Lt.nt!==null){t.textBaseline="middle",t.font=this.Gr;for(let s=this.Lt.nt.from;s<this.Lt.nt.to;s++){const r=this.Lt.st[s];r.Jt!==void 0&&(r.Jt.$i=this.lr.Si(t,r.Jt.Qr),r.Jt.zt=this.j,r.Jt.et=r.et-r.Jt.$i/2),xg(r,t)}}}}function xg(e,t){t.fillStyle=e.O,e.Jt!==void 0&&function(n,i,s,r){n.fillText(i,s,r)}(t,e.Jt.Qr,e.Jt.et,e.Jt.rt),function(n,i){if(n.Ks!==0){switch(n.th){case"arrowDown":return void za(!1,i,n.et,n.rt,n.Ks);case"arrowUp":return void za(!0,i,n.et,n.rt,n.Ks);case"circle":return void function(s,r,o,l){const u=(Ui("circle",l)-1)/2;s.beginPath(),s.arc(r,o,u,0,2*Math.PI,!1),s.fill()}(i,n.et,n.rt,n.Ks);case"square":return void function(s,r,o,l){const u=Ui("square",l),h=(u-1)/2,a=r-h,c=o-h;s.fillRect(a,c,u,u)}(i,n.et,n.rt,n.Ks)}n.th}}(e,t)}function Cg(e,t,n){return!(e.Jt===void 0||!function(i,s,r,o,l,u){const h=o/2;return l>=i&&l<=i+r&&u>=s-h&&u<=s+h}(e.Jt.et,e.Jt.rt,e.Jt.$i,e.Jt.zt,t,n))||function(i,s,r){if(i.Ks===0)return!1;switch(i.th){case"arrowDown":case"arrowUp":return Eg(0,i.et,i.rt,i.Ks,s,r);case"circle":return function(o,l,u,h,a){const c=2+Ui("circle",u)/2,f=o-h,v=l-a;return Math.sqrt(f*f+v*v)<=c}(i.et,i.rt,i.Ks,s,r);case"square":return sp(i.et,i.rt,i.Ks,s,r)}}(e,t,n)}function Lg(e,t,n,i,s,r,o,l,u){const h=Yt(n)?n:n.xe,a=Yt(n)?n:n.ge,c=Yt(n)?n:n.Me,f=Yt(t.size)?Math.max(t.size,0):1,v=ip(l.he())*f,m=v/2;switch(e.Ks=v,t.position){case"inBar":return e.rt=o.Ot(h,u),void(e.Jt!==void 0&&(e.Jt.rt=e.rt+m+r+.6*s));case"aboveBar":return e.rt=o.Ot(a,u)-m-i.ih,e.Jt!==void 0&&(e.Jt.rt=e.rt-m-.6*s,i.ih+=1.2*s),void(i.ih+=v+r);case"belowBar":return e.rt=o.Ot(c,u)+m+i.nh,e.Jt!==void 0&&(e.Jt.rt=e.rt+m+r+.6*s,i.nh+=1.2*s),void(i.nh+=v+r)}t.position}class Mg{constructor(t,n){this.bt=!0,this.sh=!0,this.eh=!0,this.rh=null,this.Ht=new bg,this.Wr=t,this.Ui=n,this.Lt={st:[],nt:null}}gt(t){this.bt=!0,this.eh=!0,t==="data"&&(this.sh=!0)}xt(t){if(!this.Wr.Tt())return null;this.bt&&this.hh();const n=this.Ui.W().layout;return this.Ht.ar(n.fontSize,n.fontFamily),this.Ht.it(this.Lt),this.Ht}lh(){if(this.eh){if(this.Wr.ah().length>0){const t=this.Ui.yt().he(),n=Oa(t),i=1.5*ip(t)+2*n;this.rh={above:i,below:i}}else this.rh=null;this.eh=!1}return this.rh}hh(){const t=this.Wr.At(),n=this.Ui.yt(),i=this.Wr.ah();this.sh&&(this.Lt.st=i.map(a=>({ut:a.time,et:0,rt:0,Ks:0,th:a.shape,O:a.color,Jr:a.Jr,wr:a.id,Jt:void 0})),this.sh=!1);const s=this.Ui.W().layout;this.Lt.nt=null;const r=n.Xs();if(r===null)return;const o=this.Wr.Pt();if(o===null||this.Lt.st.length===0)return;let l=NaN;const u=Oa(n.he()),h={ih:u,nh:u};this.Lt.nt=tp(this.Lt.st,r,!0);for(let a=this.Lt.nt.from;a<this.Lt.nt.to;a++){const c=i[a];c.time!==l&&(h.ih=u,h.nh=u,l=c.time);const f=this.Lt.st[a];f.et=n.Et(c.time),c.text!==void 0&&c.text.length>0&&(f.Jt={Qr:c.text,et:0,rt:0,$i:0,zt:0});const v=this.Wr.oh(c.time);v!==null&&Lg(f,c,v,h,s.fontSize,u,t,n,o.Vt)}this.bt=!1}}class Tg extends Ku{constructor(t){super(t)}kr(){const t=this.Mr;t.Tt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.Tt())return;const i=this.Es.Yr(n.priceLineSource===0);i.Xr||(t.Tt=!0,t.rt=i.yi,t.O=this.Es._h(i.O),t.ht=n.priceLineWidth,t.Wt=n.priceLineStyle)}}class Pg extends Fr{constructor(t){super(),this.$t=t}Ei(t,n,i){t.Tt=!1,n.Tt=!1;const s=this.$t;if(!s.Tt())return;const r=s.W(),o=r.lastValueVisible,l=s.uh()!=="",u=r.seriesLastValueMode===0,h=s.Yr(!1);if(h.Xr)return;o&&(t.Jt=this.dh(h,o,u),t.Tt=t.Jt.length!==0),(l||u)&&(n.Jt=this.fh(h,o,l,u),n.Tt=n.Jt.length>0);const a=s._h(h.O),c=Dr(a);i.t=c.t,i.yi=h.yi,n.Bt=s.qt().It(h.yi/s.At().zt()),t.Bt=a,t.O=c.i,n.O=c.i}fh(t,n,i,s){let r="";const o=this.$t.uh();return i&&o.length!==0&&(r+=`${o} `),n&&s&&(r+=this.$t.At().ph()?t.mh:t.bh),r.trim()}dh(t,n,i){return n?i?this.$t.At().ph()?t.bh:t.mh:t.Jt:""}}function Ra(e,t,n,i){const s=Number.isFinite(t),r=Number.isFinite(n);return s&&r?e(t,n):s||r?s?t:n:i}class Et{constructor(t,n){this.wh=t,this.gh=n}Mh(t){return t!==null&&this.wh===t.wh&&this.gh===t.gh}xh(){return new Et(this.wh,this.gh)}Sh(){return this.wh}kh(){return this.gh}yh(){return this.gh-this.wh}Fi(){return this.gh===this.wh||Number.isNaN(this.gh)||Number.isNaN(this.wh)}ts(t){return t===null?this:new Et(Ra(Math.min,this.Sh(),t.Sh(),-1/0),Ra(Math.max,this.kh(),t.kh(),1/0))}Ch(t){if(!Yt(t)||this.gh-this.wh===0)return;const n=.5*(this.gh+this.wh);let i=this.gh-n,s=this.wh-n;i*=t,s*=t,this.gh=n+i,this.wh=n+s}Th(t){Yt(t)&&(this.gh+=t,this.wh+=t)}Ph(){return{minValue:this.wh,maxValue:this.gh}}static Rh(t){return t===null?null:new Et(t.minValue,t.maxValue)}}class gr{constructor(t,n){this.Dh=t,this.Oh=n||null}Ah(){return this.Dh}Vh(){return this.Oh}Ph(){return this.Dh===null?null:{priceRange:this.Dh.Ph(),margins:this.Oh||void 0}}static Rh(t){return t===null?null:new gr(Et.Rh(t.priceRange),t.margins)}}class Ng extends Ku{constructor(t,n){super(t),this.Bh=n}kr(){const t=this.Mr;t.Tt=!1;const n=this.Bh.W();if(!this.Es.Tt()||!n.lineVisible)return;const i=this.Bh.Ih();i!==null&&(t.Tt=!0,t.rt=i,t.O=n.color,t.ht=n.lineWidth,t.Wt=n.lineStyle,t.wr=this.Bh.W().id)}}class Og extends Fr{constructor(t,n){super(),this.Wr=t,this.Bh=n}Ei(t,n,i){t.Tt=!1,n.Tt=!1;const s=this.Bh.W(),r=s.axisLabelVisible,o=s.title!=="",l=this.Wr;if(!r||!l.Tt())return;const u=this.Bh.Ih();if(u===null)return;o&&(n.Jt=s.title,n.Tt=!0),n.Bt=l.qt().It(u/l.At().zt()),t.Jt=this.zh(s.price),t.Tt=!0;const h=Dr(s.axisLabelColor||s.color);i.t=h.t;const a=s.axisLabelTextColor||h.i;t.O=a,n.O=a,i.yi=u}zh(t){const n=this.Wr.Pt();return n===null?"":this.Wr.At().Wi(t,n.Vt)}}class zg{constructor(t,n){this.Wr=t,this.cn=n,this.Eh=new Ng(t,this),this._r=new Og(t,this),this.Lh=new np(this._r,t,t.qt())}Nh(t){qt(this.cn,t),this.gt(),this.Wr.qt().Fh()}W(){return this.cn}Wh(){return this.Eh}jh(){return this.Lh}Hh(){return this._r}gt(){this.Eh.gt(),this._r.gt()}Ih(){const t=this.Wr,n=t.At();if(t.qt().yt().Fi()||n.Fi())return null;const i=t.Pt();return i===null?null:n.Ot(this.cn.price,i.Vt)}}class Rg extends ju{constructor(t){super(),this.Ui=t}qt(){return this.Ui}}const Dg={Bar:(e,t,n,i)=>{var s;const r=t.upColor,o=t.downColor,l=S(e(n,i)),u=Cn(l.Vt[0])<=Cn(l.Vt[3]);return{ue:(s=l.O)!==null&&s!==void 0?s:u?r:o}},Candlestick:(e,t,n,i)=>{var s,r,o;const l=t.upColor,u=t.downColor,h=t.borderUpColor,a=t.borderDownColor,c=t.wickUpColor,f=t.wickDownColor,v=S(e(n,i)),m=Cn(v.Vt[0])<=Cn(v.Vt[3]);return{ue:(s=v.O)!==null&&s!==void 0?s:m?l:u,Le:(r=v.Bt)!==null&&r!==void 0?r:m?h:a,Ee:(o=v.$h)!==null&&o!==void 0?o:m?c:f}},Custom:(e,t,n,i)=>{var s;return{ue:(s=S(e(n,i)).O)!==null&&s!==void 0?s:t.color}},Area:(e,t,n,i)=>{var s,r,o,l;const u=S(e(n,i));return{ue:(s=u._t)!==null&&s!==void 0?s:t.lineColor,_t:(r=u._t)!==null&&r!==void 0?r:t.lineColor,Ts:(o=u.Ts)!==null&&o!==void 0?o:t.topColor,Ps:(l=u.Ps)!==null&&l!==void 0?l:t.bottomColor}},Baseline:(e,t,n,i)=>{var s,r,o,l,u,h;const a=S(e(n,i));return{ue:a.Vt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Pe:(s=a.Pe)!==null&&s!==void 0?s:t.topLineColor,Re:(r=a.Re)!==null&&r!==void 0?r:t.bottomLineColor,Se:(o=a.Se)!==null&&o!==void 0?o:t.topFillColor1,ke:(l=a.ke)!==null&&l!==void 0?l:t.topFillColor2,ye:(u=a.ye)!==null&&u!==void 0?u:t.bottomFillColor1,Ce:(h=a.Ce)!==null&&h!==void 0?h:t.bottomFillColor2}},Line:(e,t,n,i)=>{var s,r;const o=S(e(n,i));return{ue:(s=o.O)!==null&&s!==void 0?s:t.color,_t:(r=o.O)!==null&&r!==void 0?r:t.color}},Histogram:(e,t,n,i)=>{var s;return{ue:(s=S(e(n,i)).O)!==null&&s!==void 0?s:t.color}}};class Bg{constructor(t){this.Uh=(n,i)=>i!==void 0?i.Vt:this.Wr.In().qh(n),this.Wr=t,this.Yh=Dg[t.Xh()]}Hs(t,n){return this.Yh(this.Uh,this.Wr.W(),t,n)}}var Da;(function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.None=0]="None",e[e.NearestRight=1]="NearestRight"})(Da||(Da={}));const ye=30;class Fg{constructor(){this.Kh=[],this.Zh=new Map,this.Gh=new Map}Jh(){return this.Ks()>0?this.Kh[this.Kh.length-1]:null}Qh(){return this.Ks()>0?this.tl(0):null}Bn(){return this.Ks()>0?this.tl(this.Kh.length-1):null}Ks(){return this.Kh.length}Fi(){return this.Ks()===0}Kr(t){return this.il(t,0)!==null}qh(t){return this.nl(t)}nl(t,n=0){const i=this.il(t,n);return i===null?null:Object.assign(Object.assign({},this.sl(i)),{se:this.tl(i)})}ie(){return this.Kh}el(t,n,i){if(this.Fi())return null;let s=null;for(const r of i)s=Es(s,this.rl(t,n,r));return s}it(t){this.Gh.clear(),this.Zh.clear(),this.Kh=t}tl(t){return this.Kh[t].se}sl(t){return this.Kh[t]}il(t,n){const i=this.hl(t);if(i===null&&n!==0)switch(n){case-1:return this.ll(t);case 1:return this.al(t);default:throw new TypeError("Unknown search mode")}return i}ll(t){let n=this.ol(t);return n>0&&(n-=1),n!==this.Kh.length&&this.tl(n)<t?n:null}al(t){const n=this._l(t);return n!==this.Kh.length&&t<this.tl(n)?n:null}hl(t){const n=this.ol(t);return n===this.Kh.length||t<this.Kh[n].se?null:n}ol(t){return Ji(this.Kh,t,(n,i)=>n.se<i)}_l(t){return Zd(this.Kh,t,(n,i)=>n.se>i)}ul(t,n,i){let s=null;for(let r=t;r<n;r++){const o=this.Kh[r].Vt[i];Number.isNaN(o)||(s===null?s={cl:o,dl:o}:(o<s.cl&&(s.cl=o),o>s.dl&&(s.dl=o)))}return s}rl(t,n,i){if(this.Fi())return null;let s=null;const r=S(this.Qh()),o=S(this.Bn()),l=Math.max(t,r),u=Math.min(n,o),h=Math.ceil(l/ye)*ye,a=Math.max(h,Math.floor(u/ye)*ye);{const f=this.ol(l),v=this._l(Math.min(u,h,n));s=Es(s,this.ul(f,v,i))}let c=this.Zh.get(i);c===void 0&&(c=new Map,this.Zh.set(i,c));for(let f=Math.max(h+1,l);f<a;f+=ye){const v=Math.floor(f/ye);let m=c.get(v);if(m===void 0){const g=this.ol(v*ye),k=this._l((v+1)*ye-1);m=this.ul(g,k,i),c.set(v,m)}s=Es(s,m)}{const f=this.ol(a),v=this._l(u);s=Es(s,this.ul(f,v,i))}return s}}function Es(e,t){return e===null?t:t===null?e:{cl:Math.min(e.cl,t.cl),dl:Math.max(e.dl,t.dl)}}class Ag{constructor(t){this.fl=t}K(t,n,i){this.fl.draw(t)}G(t,n,i){var s,r;(r=(s=this.fl).drawBackground)===null||r===void 0||r.call(s,t)}}class So{constructor(t){this.Qe=null,this.wn=t}xt(){var t;const n=this.wn.renderer();if(n===null)return null;if(((t=this.Qe)===null||t===void 0?void 0:t.vl)===n)return this.Qe.pl;const i=new Ag(n);return this.Qe={vl:n,pl:i},i}ml(){var t,n,i;return(i=(n=(t=this.wn).zOrder)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:"normal"}}function rp(e){var t,n,i,s,r;return{Jt:e.text(),yi:e.coordinate(),ki:(t=e.fixedCoordinate)===null||t===void 0?void 0:t.call(e),O:e.textColor(),t:e.backColor(),Tt:(i=(n=e.visible)===null||n===void 0?void 0:n.call(e))===null||i===void 0||i,ai:(r=(s=e.tickVisible)===null||s===void 0?void 0:s.call(e))===null||r===void 0||r}}class Wg{constructor(t,n){this.Ht=new Hd,this.bl=t,this.wl=n}xt(){return this.Ht.it(Object.assign({$i:this.wl.$i()},rp(this.bl))),this.Ht}}class Ig extends Fr{constructor(t,n){super(),this.bl=t,this.Li=n}Ei(t,n,i){const s=rp(this.bl);i.t=s.t,t.O=s.O;const r=2/12*this.Li.P();i.gi=r,i.Mi=r,i.yi=s.yi,i.ki=s.ki,t.Jt=s.Jt,t.Tt=s.Tt,t.ai=s.ai}}class $g{constructor(t,n){this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=t,this.Wr=n}Cl(){return this.yl}On(){var t,n;(n=(t=this.yl).updateAllViews)===null||n===void 0||n.call(t)}Pn(){var t,n,i,s;const r=(i=(n=(t=this.yl).paneViews)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:[];if(((s=this.gl)===null||s===void 0?void 0:s.vl)===r)return this.gl.pl;const o=r.map(l=>new So(l));return this.gl={vl:r,pl:o},o}tn(){var t,n,i,s;const r=(i=(n=(t=this.yl).timeAxisViews)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:[];if(((s=this.Ml)===null||s===void 0?void 0:s.vl)===r)return this.Ml.pl;const o=this.Wr.qt().yt(),l=r.map(u=>new Wg(u,o));return this.Ml={vl:r,pl:l},l}Rn(){var t,n,i,s;const r=(i=(n=(t=this.yl).priceAxisViews)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:[];if(((s=this.xl)===null||s===void 0?void 0:s.vl)===r)return this.xl.pl;const o=this.Wr.At(),l=r.map(u=>new Ig(u,o));return this.xl={vl:r,pl:l},l}Tl(){var t,n,i,s;const r=(i=(n=(t=this.yl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:[];if(((s=this.Sl)===null||s===void 0?void 0:s.vl)===r)return this.Sl.pl;const o=r.map(l=>new So(l));return this.Sl={vl:r,pl:o},o}Pl(){var t,n,i,s;const r=(i=(n=(t=this.yl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:[];if(((s=this.kl)===null||s===void 0?void 0:s.vl)===r)return this.kl.pl;const o=r.map(l=>new So(l));return this.kl={vl:r,pl:o},o}Rl(t,n){var i,s,r;return(r=(s=(i=this.yl).autoscaleInfo)===null||s===void 0?void 0:s.call(i,t,n))!==null&&r!==void 0?r:null}br(t,n){var i,s,r;return(r=(s=(i=this.yl).hitTest)===null||s===void 0?void 0:s.call(i,t,n))!==null&&r!==void 0?r:null}}function _o(e,t,n,i){e.forEach(s=>{t(s).forEach(r=>{r.ml()===n&&i.push(r)})})}function ko(e){return e.Pn()}function Vg(e){return e.Tl()}function Ug(e){return e.Pl()}class Qu extends Rg{constructor(t,n,i,s,r){super(t),this.Lt=new Fg,this.Eh=new Tg(this),this.Dl=[],this.Ol=new wg(this),this.Al=null,this.Vl=null,this.Bl=[],this.Il=[],this.zl=null,this.El=[],this.cn=n,this.Ll=i;const o=new Pg(this);this.hn=[o],this.Lh=new np(o,this,t),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.Al=new kg(this)),this.Nl(),this.Fl(r)}S(){this.zl!==null&&clearTimeout(this.zl)}_h(t){return this.cn.priceLineColor||t}Yr(t){const n={Xr:!0},i=this.At();if(this.qt().yt().Fi()||i.Fi()||this.Lt.Fi())return n;const s=this.qt().yt().Xs(),r=this.Pt();if(s===null||r===null)return n;let o,l;if(t){const c=this.Lt.Jh();if(c===null)return n;o=c,l=c.se}else{const c=this.Lt.nl(s.di(),-1);if(c===null||(o=this.Lt.qh(c.se),o===null))return n;l=c.se}const u=o.Vt[3],h=this.$s().Hs(l,{Vt:o}),a=i.Ot(u,r.Vt);return{Xr:!1,ct:u,Jt:i.Wi(u,r.Vt),mh:i.Wl(u),bh:i.jl(u,r.Vt),O:h.ue,yi:a,se:l}}$s(){return this.Vl!==null||(this.Vl=new Bg(this)),this.Vl}W(){return this.cn}Nh(t){const n=t.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.qt().Hl(this,n),qt(this.cn,t),t.priceFormat!==void 0&&(this.Nl(),this.qt().$l()),this.qt().Ul(this),this.qt().ql(),this.wn.gt("options")}it(t,n){this.Lt.it(t),this.Yl(),this.wn.gt("data"),this.dn.gt("data"),this.Al!==null&&(n&&n.Xl?this.Al.Hr():t.length===0&&this.Al.jr());const i=this.qt().cr(this);this.qt().Kl(i),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}Zl(t){this.Bl=t,this.Yl();const n=this.qt().cr(this);this.dn.gt("data"),this.qt().Kl(n),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}Gl(){return this.Bl}ah(){return this.Il}Jl(t){const n=new zg(this,t);return this.Dl.push(n),this.qt().Ul(this),n}Ql(t){const n=this.Dl.indexOf(t);n!==-1&&this.Dl.splice(n,1),this.qt().Ul(this)}Xh(){return this.Ll}Pt(){const t=this.ta();return t===null?null:{Vt:t.Vt[3],ia:t.ut}}ta(){const t=this.qt().yt().Xs();if(t===null)return null;const n=t.Os();return this.Lt.nl(n,1)}In(){return this.Lt}oh(t){const n=this.Lt.qh(t);return n===null?null:this.Ll==="Bar"||this.Ll==="Candlestick"||this.Ll==="Custom"?{we:n.Vt[0],ge:n.Vt[1],Me:n.Vt[2],xe:n.Vt[3]}:n.Vt[3]}na(t){const n=[];_o(this.El,ko,"top",n);const i=this.Al;return i!==null&&i.Tt()&&(this.zl===null&&i.Ur()&&(this.zl=setTimeout(()=>{this.zl=null,this.qt().sa()},0)),i.$r(),n.push(i)),n}Pn(){const t=[];this.ea()||t.push(this.Ol),t.push(this.wn,this.Eh,this.dn);const n=this.Dl.map(i=>i.Wh());return t.push(...n),_o(this.El,ko,"normal",t),t}ra(){return this.ha(ko,"bottom")}la(t){return this.ha(Vg,t)}aa(t){return this.ha(Ug,t)}oa(t,n){return this.El.map(i=>i.br(t,n)).filter(i=>i!==null)}Qi(t){return[this.Lh,...this.Dl.map(n=>n.jh())]}Rn(t,n){if(n!==this.Xi&&!this.ea())return[];const i=[...this.hn];for(const s of this.Dl)i.push(s.Hh());return this.El.forEach(s=>{i.push(...s.Rn())}),i}tn(){const t=[];return this.El.forEach(n=>{t.push(...n.tn())}),t}Rl(t,n){if(this.cn.autoscaleInfoProvider!==void 0){const i=this.cn.autoscaleInfoProvider(()=>{const s=this._a(t,n);return s===null?null:s.Ph()});return gr.Rh(i)}return this._a(t,n)}ua(){return this.cn.priceFormat.minMove}ca(){return this.da}On(){var t;this.wn.gt(),this.dn.gt();for(const n of this.hn)n.gt();for(const n of this.Dl)n.gt();this.Eh.gt(),this.Ol.gt(),(t=this.Al)===null||t===void 0||t.gt(),this.El.forEach(n=>n.On())}At(){return S(super.At())}Ct(t){if(!((this.Ll==="Line"||this.Ll==="Area"||this.Ll==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.Lt.qh(t);return n===null?null:{ct:n.Vt[3],ot:this.fa(),Bt:this.va(),Dt:this.pa(),Rt:this.ma(t)}}uh(){return this.cn.title}Tt(){return this.cn.visible}ba(t){this.El.push(new $g(t,this))}wa(t){this.El=this.El.filter(n=>n.Cl()!==t)}ga(){if(this.wn instanceof wo)return t=>this.wn.Fe(t)}Ma(){if(this.wn instanceof wo)return t=>this.wn.We(t)}ea(){return!Ar(this.At().xa())}_a(t,n){if(!Ii(t)||!Ii(n)||this.Lt.Fi())return null;const i=this.Ll==="Line"||this.Ll==="Area"||this.Ll==="Baseline"||this.Ll==="Histogram"?[3]:[2,1],s=this.Lt.el(t,n,i);let r=s!==null?new Et(s.cl,s.dl):null;if(this.Xh()==="Histogram"){const l=this.cn.base,u=new Et(l,l);r=r!==null?r.ts(u):u}let o=this.dn.lh();return this.El.forEach(l=>{const u=l.Rl(t,n);if(u!=null&&u.priceRange){const v=new Et(u.priceRange.minValue,u.priceRange.maxValue);r=r!==null?r.ts(v):v}var h,a,c,f;u!=null&&u.margins&&(h=o,a=u.margins,o={above:Math.max((c=h==null?void 0:h.above)!==null&&c!==void 0?c:0,a.above),below:Math.max((f=h==null?void 0:h.below)!==null&&f!==void 0?f:0,a.below)})}),new gr(r,o)}fa(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}va(){switch(this.Ll){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}pa(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}ma(t){switch(this.Ll){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.$s().Hs(t).ue}Nl(){switch(this.cn.priceFormat.type){case"custom":this.da={format:this.cn.priceFormat.formatter};break;case"volume":this.da=new J0(this.cn.priceFormat.precision);break;case"percent":this.da=new qd(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.da=new Wr(t,this.cn.priceFormat.minMove*t)}}this.Xi!==null&&this.Xi.Sa()}Yl(){const t=this.qt().yt();if(!t.ka()||this.Lt.Fi())return void(this.Il=[]);const n=S(this.Lt.Qh());this.Il=this.Bl.map((i,s)=>{const r=S(t.ya(i.time,!0)),o=r<n?1:-1;return{time:S(this.Lt.nl(r,o)).se,position:i.position,shape:i.shape,color:i.color,id:i.id,Jr:s,text:i.text,size:i.size,originalTime:i.originalTime}})}Fl(t){switch(this.dn=new Mg(this,this.qt()),this.Ll){case"Bar":this.wn=new rg(this,this.qt());break;case"Candlestick":this.wn=new ag(this,this.qt());break;case"Line":this.wn=new mg(this,this.qt());break;case"Custom":this.wn=new wo(this,this.qt(),pt(t));break;case"Area":this.wn=new ig(this,this.qt());break;case"Baseline":this.wn=new ug(this,this.qt());break;case"Histogram":this.wn=new pg(this,this.qt());break;default:throw Error("Unknown chart style assigned: "+this.Ll)}}ha(t,n){const i=[];return _o(this.El,t,n,i),i}}class jg{constructor(t){this.cn=t}Ca(t,n,i){let s=t;if(this.cn.mode===0)return s;const r=i.vn(),o=r.Pt();if(o===null)return s;const l=r.Ot(t,o),u=i.Ta().filter(a=>a instanceof Qu).reduce((a,c)=>{if(i.dr(c)||!c.Tt())return a;const f=c.At(),v=c.In();if(f.Fi()||!v.Kr(n))return a;const m=v.qh(n);if(m===null)return a;const g=Cn(c.Pt());return a.concat([f.Ot(m.Vt[3],g.Vt)])},[]);if(u.length===0)return s;u.sort((a,c)=>Math.abs(a-l)-Math.abs(c-l));const h=u[0];return s=r.pn(h,o),s}}class Hg extends pe{constructor(){super(...arguments),this.Lt=null}it(t){this.Lt=t}Z({context:t,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.Lt===null)return;const r=Math.max(1,Math.floor(i));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=S(this.Lt);if(o.Pa){t.strokeStyle=o.Ra,rn(t,o.Da),t.beginPath();for(const l of o.Oa){const u=Math.round(l.Aa*i);t.moveTo(u,-r),t.lineTo(u,n.height+r)}t.stroke()}if(o.Va){t.strokeStyle=o.Ba,rn(t,o.Ia),t.beginPath();for(const l of o.za){const u=Math.round(l.Aa*s);t.moveTo(-r,u),t.lineTo(n.width+r,u)}t.stroke()}})}}class qg{constructor(t){this.Ht=new Hg,this.bt=!0,this.nn=t}gt(){this.bt=!0}xt(){if(this.bt){const t=this.nn.qt().W().grid,n={Va:t.horzLines.visible,Pa:t.vertLines.visible,Ba:t.horzLines.color,Ra:t.vertLines.color,Ia:t.horzLines.style,Da:t.vertLines.style,za:this.nn.vn().Ea(),Oa:(this.nn.qt().yt().Ea()||[]).map(i=>({Aa:i.coord}))};this.Ht.it(n),this.bt=!1}return this.Ht}}class Kg{constructor(t){this.wn=new qg(t)}Wh(){return this.wn}}const Eo={La:4,Na:1e-4};function Ln(e,t){const n=100*(e-t)/t;return t<0?-n:n}function Qg(e,t){const n=Ln(e.Sh(),t),i=Ln(e.kh(),t);return new Et(n,i)}function Si(e,t){const n=100*(e-t)/t+100;return t<0?-n:n}function Xg(e,t){const n=Si(e.Sh(),t),i=Si(e.kh(),t);return new Et(n,i)}function yr(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const i=Math.log10(n+t.Na)+t.La;return e<0?-i:i}function _i(e,t){const n=Math.abs(e);if(n<1e-15)return 0;const i=Math.pow(10,n-t.La)-t.Na;return e<0?-i:i}function ii(e,t){if(e===null)return null;const n=yr(e.Sh(),t),i=yr(e.kh(),t);return new Et(n,i)}function bs(e,t){if(e===null)return null;const n=_i(e.Sh(),t),i=_i(e.kh(),t);return new Et(n,i)}function bo(e){if(e===null)return Eo;const t=Math.abs(e.kh()-e.Sh());if(t>=1||t<1e-15)return Eo;const n=Math.ceil(Math.abs(Math.log10(t))),i=Eo.La+n;return{La:i,Na:1/Math.pow(10,i)}}class xo{constructor(t,n){if(this.Fa=t,this.Wa=n,function(i){if(i<0)return!1;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(let i=this.Fa;i!==1;){if(i%2==0)this.ja.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),i/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}Ha(t,n,i){const s=this.Fa===0?0:1/this.Fa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-n)))),o=0,l=this.Wa[0];for(;;){const c=ks(r,s,1e-14)&&r>s+1e-14,f=ks(r,i*l,1e-14),v=ks(r,1,1e-14);if(!(c&&f&&v))break;r/=l,l=this.Wa[++o%this.Wa.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.ja.length>0&&(u=r,h=1,a=1e-14,Math.abs(u-h)<a))for(o=0,l=this.ja[0];ks(r,i*l,1e-14)&&r>s+1e-14;)r/=l,l=this.ja[++o%this.ja.length];var u,h,a;return r}}class Ba{constructor(t,n,i,s){this.$a=[],this.Li=t,this.Fa=n,this.Ua=i,this.qa=s}Ha(t,n){if(t<n)throw new Error("high < low");const i=this.Li.zt(),s=(t-n)*this.Ya()/i,r=new xo(this.Fa,[2,2.5,2]),o=new xo(this.Fa,[2,2,2.5]),l=new xo(this.Fa,[2.5,2,2]),u=[];return u.push(r.Ha(t,n,s),o.Ha(t,n,s),l.Ha(t,n,s)),function(h){if(h.length<1)throw Error("array is empty");let a=h[0];for(let c=1;c<h.length;++c)h[c]<a&&(a=h[c]);return a}(u)}Xa(){const t=this.Li,n=t.Pt();if(n===null)return void(this.$a=[]);const i=t.zt(),s=this.Ua(i-1,n),r=this.Ua(0,n),o=this.Li.W().entireTextOnly?this.Ka()/2:0,l=o,u=i-1-o,h=Math.max(s,r),a=Math.min(s,r);if(h===a)return void(this.$a=[]);let c=this.Ha(h,a),f=h%c;f+=f<0?c:0;const v=h>=a?1:-1;let m=null,g=0;for(let k=h-f;k>a;k-=c){const p=this.qa(k,n,!0);m!==null&&Math.abs(p-m)<this.Ya()||p<l||p>u||(g<this.$a.length?(this.$a[g].Aa=p,this.$a[g].Za=t.Ga(k)):this.$a.push({Aa:p,Za:t.Ga(k)}),g++,m=p,t.Ja()&&(c=this.Ha(k*v,a)))}this.$a.length=g}Ea(){return this.$a}Ka(){return this.Li.P()}Ya(){return Math.ceil(2.5*this.Ka())}}function op(e){return e.slice().sort((t,n)=>S(t.Zi())-S(n.Zi()))}var Fa;(function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"})(Fa||(Fa={}));const Aa=new qd,Wa=new Wr(100,1);class Jg{constructor(t,n,i,s){this.Qa=0,this.io=null,this.Dh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new X,this.oo=new X,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=Wa,this.vo=bo(null),this.po=t,this.cn=n,this.mo=i,this.bo=s,this.wo=new Ba(this,100,this.Mo.bind(this),this.xo.bind(this))}xa(){return this.po}W(){return this.cn}Nh(t){if(qt(this.cn,t),this.Sa(),t.mode!==void 0&&this.So({yr:t.mode}),t.scaleMargins!==void 0){const n=pt(t.scaleMargins.top),i=pt(t.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(i<0||i>1||n+i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(n+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+i}`);this.ko(),this.co=null}}yo(){return this.cn.autoScale}Ja(){return this.cn.mode===1}ph(){return this.cn.mode===2}Co(){return this.cn.mode===3}yr(){return{Wn:this.cn.autoScale,To:this.cn.invertScale,yr:this.cn.mode}}So(t){const n=this.yr();let i=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.yr!==void 0&&(this.cn.mode=t.yr,t.yr!==2&&t.yr!==3||(this.cn.autoScale=!0),this.so.eo=!1),n.yr===1&&t.yr!==n.yr&&(function(r,o){if(r===null)return!1;const l=_i(r.Sh(),o),u=_i(r.kh(),o);return isFinite(l)&&isFinite(u)}(this.Dh,this.vo)?(i=bs(this.Dh,this.vo),i!==null&&this.Po(i)):this.cn.autoScale=!0),t.yr===1&&t.yr!==n.yr&&(i=ii(this.Dh,this.vo),i!==null&&this.Po(i));const s=n.yr!==this.cn.mode;s&&(n.yr===2||this.ph())&&this.Sa(),s&&(n.yr===3||this.Co())&&this.Sa(),t.To!==void 0&&n.To!==t.To&&(this.cn.invertScale=t.To,this.Ro()),this.oo.m(n,this.yr())}Do(){return this.oo}P(){return this.mo.fontSize}zt(){return this.Qa}Oo(t){this.Qa!==t&&(this.Qa=t,this.ko(),this.co=null)}Ao(){if(this.io)return this.io;const t=this.zt()-this.Vo()-this.Bo();return this.io=t,t}Ah(){return this.Io(),this.Dh}Po(t,n){const i=this.Dh;(n||i===null&&t!==null||i!==null&&!i.Mh(t))&&(this.co=null,this.Dh=t)}Fi(){return this.Io(),this.Qa===0||!this.Dh||this.Dh.Fi()}zo(t){return this.To()?t:this.zt()-1-t}Ot(t,n){return this.ph()?t=Ln(t,n):this.Co()&&(t=Si(t,n)),this.xo(t,n)}Qs(t,n,i){this.Io();const s=this.Bo(),r=S(this.Ah()),o=r.Sh(),l=r.kh(),u=this.Ao()-1,h=this.To(),a=u/(l-o),c=i===void 0?0:i.from,f=i===void 0?t.length:i.to,v=this.Eo();for(let m=c;m<f;m++){const g=t[m],k=g.ct;if(isNaN(k))continue;let p=k;v!==null&&(p=v(g.ct,n));const d=s+a*(p-o),y=h?d:this.Qa-1-d;g.rt=y}}me(t,n,i){this.Io();const s=this.Bo(),r=S(this.Ah()),o=r.Sh(),l=r.kh(),u=this.Ao()-1,h=this.To(),a=u/(l-o),c=i===void 0?0:i.from,f=i===void 0?t.length:i.to,v=this.Eo();for(let m=c;m<f;m++){const g=t[m];let k=g.we,p=g.ge,d=g.Me,y=g.xe;v!==null&&(k=v(g.we,n),p=v(g.ge,n),d=v(g.Me,n),y=v(g.xe,n));let w=s+a*(k-o),E=h?w:this.Qa-1-w;g.ve=E,w=s+a*(p-o),E=h?w:this.Qa-1-w,g.ce=E,w=s+a*(d-o),E=h?w:this.Qa-1-w,g.de=E,w=s+a*(y-o),E=h?w:this.Qa-1-w,g.pe=E}}pn(t,n){const i=this.Mo(t,n);return this.Lo(i,n)}Lo(t,n){let i=t;return this.ph()?i=function(s,r){return r<0&&(s=-s),s/100*r+r}(i,n):this.Co()&&(i=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(i,n)),i}Ta(){return this._o}No(){if(this.uo)return this.uo;let t=[];for(let n=0;n<this._o.length;n++){const i=this._o[n];i.Zi()===null&&i.Gi(n+1),t.push(i)}return t=op(t),this.uo=t,this.uo}Fo(t){this._o.indexOf(t)===-1&&(this._o.push(t),this.Sa(),this.Wo())}jo(t){const n=this._o.indexOf(t);if(n===-1)throw new Error("source is not attached to scale");this._o.splice(n,1),this._o.length===0&&(this.So({Wn:!0}),this.Po(null)),this.Sa(),this.Wo()}Pt(){let t=null;for(const n of this._o){const i=n.Pt();i!==null&&(t===null||i.ia<t.ia)&&(t=i)}return t===null?null:t.Vt}To(){return this.cn.invertScale}Ea(){const t=this.Pt()===null;if(this.co!==null&&(t||this.co.Ho===t))return this.co.Ea;this.wo.Xa();const n=this.wo.Ea();return this.co={Ea:n,Ho:t},this.ao.m(),n}$o(){return this.ao}Uo(t){this.ph()||this.Co()||this.do===null&&this.no===null&&(this.Fi()||(this.do=this.Qa-t,this.no=S(this.Ah()).xh()))}qo(t){if(this.ph()||this.Co()||this.do===null)return;this.So({Wn:!1}),(t=this.Qa-t)<0&&(t=0);let n=(this.do+.2*(this.Qa-1))/(t+.2*(this.Qa-1));const i=S(this.no).xh();n=Math.max(n,.1),i.Ch(n),this.Po(i)}Yo(){this.ph()||this.Co()||(this.do=null,this.no=null)}Xo(t){this.yo()||this.fo===null&&this.no===null&&(this.Fi()||(this.fo=t,this.no=S(this.Ah()).xh()))}Ko(t){if(this.yo()||this.fo===null)return;const n=S(this.Ah()).yh()/(this.Ao()-1);let i=t-this.fo;this.To()&&(i*=-1);const s=i*n,r=S(this.no).xh();r.Th(s),this.Po(r,!0),this.co=null}Zo(){this.yo()||this.fo!==null&&(this.fo=null,this.no=null)}ca(){return this.da||this.Sa(),this.da}Wi(t,n){switch(this.cn.mode){case 2:return this.Go(Ln(t,n));case 3:return this.ca().format(Si(t,n));default:return this.zh(t)}}Ga(t){switch(this.cn.mode){case 2:return this.Go(t);case 3:return this.ca().format(t);default:return this.zh(t)}}Wl(t){return this.zh(t,S(this.Jo()).ca())}jl(t,n){return t=Ln(t,n),this.Go(t,Aa)}Qo(){return this._o}t_(t){this.so={ro:t,eo:!1}}On(){this._o.forEach(t=>t.On())}Sa(){this.co=null;const t=this.Jo();let n=100;t!==null&&(n=Math.round(1/t.ua())),this.da=Wa,this.ph()?(this.da=Aa,n=100):this.Co()?(this.da=new Wr(100,1),n=100):t!==null&&(this.da=t.ca()),this.wo=new Ba(this,n,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}Wo(){this.uo=null}Jo(){return this._o[0]||null}Vo(){return this.To()?this.cn.scaleMargins.bottom*this.zt()+this.lo:this.cn.scaleMargins.top*this.zt()+this.ho}Bo(){return this.To()?this.cn.scaleMargins.top*this.zt()+this.ho:this.cn.scaleMargins.bottom*this.zt()+this.lo}Io(){this.so.eo||(this.so.eo=!0,this.i_())}ko(){this.io=null}xo(t,n){if(this.Io(),this.Fi())return 0;t=this.Ja()&&t?yr(t,this.vo):t;const i=S(this.Ah()),s=this.Bo()+(this.Ao()-1)*(t-i.Sh())/i.yh();return this.zo(s)}Mo(t,n){if(this.Io(),this.Fi())return 0;const i=this.zo(t),s=S(this.Ah()),r=s.Sh()+s.yh()*((i-this.Bo())/(this.Ao()-1));return this.Ja()?_i(r,this.vo):r}Ro(){this.co=null,this.wo.Xa()}i_(){const t=this.so.ro;if(t===null)return;let n=null;const i=this.Qo();let s=0,r=0;for(const u of i){if(!u.Tt())continue;const h=u.Pt();if(h===null)continue;const a=u.Rl(t.Os(),t.di());let c=a&&a.Ah();if(c!==null){switch(this.cn.mode){case 1:c=ii(c,this.vo);break;case 2:c=Qg(c,h.Vt);break;case 3:c=Xg(c,h.Vt)}if(n=n===null?c:n.ts(S(c)),a!==null){const f=a.Vh();f!==null&&(s=Math.max(s,f.above),r=Math.max(s,f.below))}}}if(s===this.ho&&r===this.lo||(this.ho=s,this.lo=r,this.co=null,this.ko()),n!==null){if(n.Sh()===n.kh()){const u=this.Jo(),h=5*(u===null||this.ph()||this.Co()?1:u.ua());this.Ja()&&(n=bs(n,this.vo)),n=new Et(n.Sh()-h,n.kh()+h),this.Ja()&&(n=ii(n,this.vo))}if(this.Ja()){const u=bs(n,this.vo),h=bo(u);if(o=h,l=this.vo,o.La!==l.La||o.Na!==l.Na){const a=this.no!==null?bs(this.no,this.vo):null;this.vo=h,n=ii(u,h),a!==null&&(this.no=ii(a,h))}}this.Po(n)}else this.Dh===null&&(this.Po(new Et(-.5,.5)),this.vo=bo(null));var o,l;this.so.eo=!0}Eo(){return this.ph()?Ln:this.Co()?Si:this.Ja()?t=>yr(t,this.vo):null}n_(t,n,i){return n===void 0?(i===void 0&&(i=this.ca()),i.format(t)):n(t)}zh(t,n){return this.n_(t,this.bo.priceFormatter,n)}Go(t,n){return this.n_(t,this.bo.percentageFormatter,n)}}class Yg{constructor(t,n){this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new X,this.wl=t,this.Ui=n,this.l_=new Kg(this);const i=n.W();this.a_=this.o_("left",i.leftPriceScale),this.__=this.o_("right",i.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(i)}c_(t){if(t.leftPriceScale&&this.a_.Nh(t.leftPriceScale),t.rightPriceScale&&this.__.Nh(t.rightPriceScale),t.localization&&(this.a_.Sa(),this.__.Sa()),t.overlayPriceScales){const n=Array.from(this.s_.values());for(const i of n){const s=S(i[0].At());s.Nh(t.overlayPriceScales),t.localization&&s.Sa()}}}d_(t){switch(t){case"left":return this.a_;case"right":return this.__}return this.s_.has(t)?pt(this.s_.get(t))[0].At():null}S(){this.qt().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach(t=>{t.S&&t.S()}),this.h_.m()}v_(){return this.r_}p_(t){this.r_=t}qt(){return this.Ui}$i(){return this.e_}zt(){return this.Qa}m_(t){this.e_=t,this.b_()}Oo(t){this.Qa=t,this.a_.Oo(t),this.__.Oo(t),this._o.forEach(n=>{if(this.dr(n)){const i=n.At();i!==null&&i.Oo(t)}}),this.b_()}Ta(){return this._o}dr(t){const n=t.At();return n===null||this.a_!==n&&this.__!==n}Fo(t,n,i){const s=i!==void 0?i:this.g_().w_+1;this.M_(t,n,s)}jo(t){const n=this._o.indexOf(t);De(n!==-1,"removeDataSource: invalid data source"),this._o.splice(n,1);const i=S(t.At()).xa();if(this.s_.has(i)){const r=pt(this.s_.get(i)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.s_.delete(i))}const s=t.At();s&&s.Ta().indexOf(t)>=0&&s.jo(t),s!==null&&(s.Wo(),this.x_(s)),this.uo=null}pr(t){return t===this.a_?"left":t===this.__?"right":"overlay"}S_(){return this.a_}k_(){return this.__}y_(t,n){t.Uo(n)}C_(t,n){t.qo(n),this.b_()}T_(t){t.Yo()}P_(t,n){t.Xo(n)}R_(t,n){t.Ko(n),this.b_()}D_(t){t.Zo()}b_(){this._o.forEach(t=>{t.On()})}vn(){let t=null;return this.Ui.W().rightPriceScale.visible&&this.__.Ta().length!==0?t=this.__:this.Ui.W().leftPriceScale.visible&&this.a_.Ta().length!==0?t=this.a_:this._o.length!==0&&(t=this._o[0].At()),t===null&&(t=this.__),t}vr(){let t=null;return this.Ui.W().rightPriceScale.visible?t=this.__:this.Ui.W().leftPriceScale.visible&&(t=this.a_),t}x_(t){t!==null&&t.yo()&&this.O_(t)}A_(t){const n=this.wl.Xs();t.So({Wn:!0}),n!==null&&t.t_(n),this.b_()}V_(){this.O_(this.a_),this.O_(this.__)}B_(){this.x_(this.a_),this.x_(this.__),this._o.forEach(t=>{this.dr(t)&&this.x_(t.At())}),this.b_(),this.Ui.Fh()}No(){return this.uo===null&&(this.uo=op(this._o)),this.uo}I_(){return this.h_}z_(){return this.l_}O_(t){const n=t.Qo();if(n&&n.length>0&&!this.wl.Fi()){const i=this.wl.Xs();i!==null&&t.t_(i)}t.On()}g_(){const t=this.No();if(t.length===0)return{E_:0,w_:0};let n=0,i=0;for(let s=0;s<t.length;s++){const r=t[s].Zi();r!==null&&(r<n&&(n=r),r>i&&(i=r))}return{E_:n,w_:i}}M_(t,n,i){let s=this.d_(n);if(s===null&&(s=this.o_(n,this.Ui.W().overlayPriceScales)),this._o.push(t),!Ar(n)){const r=this.s_.get(n)||[];r.push(t),this.s_.set(n,r)}s.Fo(t),t.Ji(s),t.Gi(i),this.x_(s),this.uo=null}u_(t,n,i){n.yr!==i.yr&&this.O_(t)}o_(t,n){const i=Object.assign({visible:!0,autoScale:!0},oe(n)),s=new Jg(t,i,this.Ui.W().layout,this.Ui.W().localization);return s.Oo(this.zt()),s}}class Gg{constructor(t,n,i=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.L_=t,this.N_=n,this.tr=i}F_(t){const n=t.time,i=this.N_.cacheKey(n),s=this.Qe.get(i);if(s!==void 0)return s.W_;if(this.Ke===this.tr){const o=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(pt(o)),this.Ge++,this.Ke--}const r=this.L_(t);return this.Qe.set(i,{W_:r,er:this.Ze}),this.Je.set(this.Ze,i),this.Ke++,this.Ze++,r}}class ki{constructor(t,n){De(t<=n,"right should be >= left"),this.j_=t,this.H_=n}Os(){return this.j_}di(){return this.H_}U_(){return this.H_-this.j_+1}Kr(t){return this.j_<=t&&t<=this.H_}Mh(t){return this.j_===t.Os()&&this.H_===t.di()}}function Ia(e,t){return e===null||t===null?e===t:e.Mh(t)}class Zg{constructor(){this.q_=new Map,this.Qe=null,this.Y_=!1}X_(t){this.Y_=t,this.Qe=null}K_(t,n){this.Z_(n),this.Qe=null;for(let i=n;i<t.length;++i){const s=t[i];let r=this.q_.get(s.timeWeight);r===void 0&&(r=[],this.q_.set(s.timeWeight,r)),r.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}G_(t,n){const i=Math.ceil(n/t);return this.Qe!==null&&this.Qe.J_===i||(this.Qe={Ea:this.Q_(i),J_:i}),this.Qe.Ea}Z_(t){if(t===0)return void this.q_.clear();const n=[];this.q_.forEach((i,s)=>{t<=i[0].index?n.push(s):i.splice(Ji(i,t,r=>r.index<t),1/0)});for(const i of n)this.q_.delete(i)}Q_(t){let n=[];for(const i of Array.from(this.q_.keys()).sort((s,r)=>r-s)){if(!this.q_.get(i))continue;const s=n;n=[];const r=s.length;let o=0;const l=pt(this.q_.get(i)),u=l.length;let h=1/0,a=-1/0;for(let c=0;c<u;c++){const f=l[c],v=f.index;for(;o<r;){const m=s[o],g=m.index;if(!(g<v)){h=g;break}o++,n.push(m),a=g,h=1/0}if(h-v>=t&&v-a>=t)n.push(f),a=v;else if(this.Y_)return s}for(;o<r;o++)n.push(s[o])}return n}}class Rn{constructor(t){this.tu=t}iu(){return this.tu===null?null:new ki(Math.floor(this.tu.Os()),Math.ceil(this.tu.di()))}nu(){return this.tu}static su(){return new Rn(null)}}function ty(e,t){return e.weight>t.weight?e:t}class ey{constructor(t,n,i,s){this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new Zg,this.lu=new Map,this.au=Rn.su(),this.ou=!0,this._u=new X,this.uu=new X,this.cu=new X,this.du=null,this.fu=null,this.vu=[],this.cn=n,this.bo=i,this.pu=n.rightOffset,this.mu=n.barSpacing,this.Ui=t,this.N_=s,this.bu(),this.hu.X_(n.uniformDistribution)}W(){return this.cn}wu(t){qt(this.bo,t),this.gu(),this.bu()}Nh(t,n){var i;qt(this.cn,t),this.cn.fixLeftEdge&&this.Mu(),this.cn.fixRightEdge&&this.xu(),t.barSpacing!==void 0&&this.Ui.Gn(t.barSpacing),t.rightOffset!==void 0&&this.Ui.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.Ui.Gn((i=t.barSpacing)!==null&&i!==void 0?i:this.mu),this.gu(),this.bu(),this.cu.m()}mn(t){var n,i;return(i=(n=this.ru[t])===null||n===void 0?void 0:n.time)!==null&&i!==void 0?i:null}qi(t){var n;return(n=this.ru[t])!==null&&n!==void 0?n:null}ya(t,n){if(this.ru.length<1)return null;if(this.N_.key(t)>this.N_.key(this.ru[this.ru.length-1].time))return n?this.ru.length-1:null;const i=Ji(this.ru,this.N_.key(t),(s,r)=>this.N_.key(s.time)<r);return this.N_.key(t)<this.N_.key(this.ru[i].time)?n?i:null:i}Fi(){return this.e_===0||this.ru.length===0||this.eu===null}ka(){return this.ru.length>0}Xs(){return this.Su(),this.au.iu()}ku(){return this.Su(),this.au.nu()}yu(){const t=this.Xs();if(t===null)return null;const n={from:t.Os(),to:t.di()};return this.Cu(n)}Cu(t){const n=Math.round(t.from),i=Math.round(t.to),s=S(this.Tu()),r=S(this.Bn());return{from:S(this.qi(Math.max(s,n))),to:S(this.qi(Math.min(r,i)))}}Pu(t){return{from:S(this.ya(t.from,!0)),to:S(this.ya(t.to,!0))}}$i(){return this.e_}m_(t){if(!isFinite(t)||t<=0||this.e_===t)return;const n=this.ku(),i=this.e_;if(this.e_=t,this.ou=!0,this.cn.lockVisibleTimeRangeOnResize&&i!==0){const s=this.mu*t/i;this.mu=s}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const s=i-t;this.pu-=Math.round(s/this.mu)+1,this.ou=!0}this.Ru(),this.Du()}Et(t){if(this.Fi()||!Ii(t))return 0;const n=this.Ou()+this.pu-t;return this.e_-(n+.5)*this.mu-1}Js(t,n){const i=this.Ou(),s=n===void 0?0:n.from,r=n===void 0?t.length:n.to;for(let o=s;o<r;o++){const l=t[o].ut,u=i+this.pu-l,h=this.e_-(u+.5)*this.mu-1;t[o].et=h}}Au(t){return Math.ceil(this.Vu(t))}Jn(t){this.ou=!0,this.pu=t,this.Du(),this.Ui.Bu(),this.Ui.Fh()}he(){return this.mu}Gn(t){this.Iu(t),this.Du(),this.Ui.Bu(),this.Ui.Fh()}zu(){return this.pu}Ea(){if(this.Fi())return null;if(this.fu!==null)return this.fu;const t=this.mu,n=5*(this.Ui.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(n/t),s=S(this.Xs()),r=Math.max(s.Os(),s.Os()-i),o=Math.max(s.di(),s.di()-i),l=this.hu.G_(t,n),u=this.Tu()+i,h=this.Bn()-i,a=this.Eu(),c=this.cn.fixLeftEdge||a,f=this.cn.fixRightEdge||a;let v=0;for(const m of l){if(!(r<=m.index&&m.index<=o))continue;let g;v<this.vu.length?(g=this.vu[v],g.coord=this.Et(m.index),g.label=this.Lu(m),g.weight=m.weight):(g={needAlignCoordinate:!1,coord:this.Et(m.index),label:this.Lu(m),weight:m.weight},this.vu.push(g)),this.mu>n/2&&!a?g.needAlignCoordinate=!1:g.needAlignCoordinate=c&&m.index<=u||f&&m.index>=h,v++}return this.vu.length=v,this.fu=this.vu,this.vu}Nu(){this.ou=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Fu(t){this.ou=!0,this.eu=t,this.Du(),this.Mu()}Wu(t,n){const i=this.Vu(t),s=this.he(),r=s+n*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.zu()+(i-this.Vu(t)))}Uo(t){this.fo&&this.Zo(),this.do===null&&this.du===null&&(this.Fi()||(this.do=t,this.ju()))}qo(t){if(this.du===null)return;const n=Dl(this.e_-t,0,this.e_),i=Dl(this.e_-S(this.do),0,this.e_);n!==0&&i!==0&&this.Gn(this.du.he*n/i)}Yo(){this.do!==null&&(this.do=null,this.Hu())}Xo(t){this.fo===null&&this.du===null&&(this.Fi()||(this.fo=t,this.ju()))}Ko(t){if(this.fo===null)return;const n=(this.fo-t)/this.he();this.pu=S(this.du).zu+n,this.ou=!0,this.Du()}Zo(){this.fo!==null&&(this.fo=null,this.Hu())}$u(){this.Uu(this.cn.rightOffset)}Uu(t,n=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.pu,s=performance.now();this.Ui.Xn({qu:r=>(r-s)/n>=1,Yu:r=>{const o=(r-s)/n;return o>=1?t:i+(t-i)*o}})}gt(t,n){this.ou=!0,this.ru=t,this.hu.K_(t,n),this.Du()}Xu(){return this._u}Ku(){return this.uu}Zu(){return this.cu}Ou(){return this.eu||0}Gu(t){const n=t.U_();this.Iu(this.e_/n),this.pu=t.di()-this.Ou(),this.Du(),this.ou=!0,this.Ui.Bu(),this.Ui.Fh()}Ju(){const t=this.Tu(),n=this.Bn();t!==null&&n!==null&&this.Gu(new ki(t,n+this.cn.rightOffset))}Qu(t){const n=new ki(t.from,t.to);this.Gu(n)}Yi(t){return this.bo.timeFormatter!==void 0?this.bo.timeFormatter(t.originalTime):this.N_.formatHorzItem(t.time)}Bn(){return this.ru.length===0?null:this.ru.length-1}Eu(){const{handleScroll:t,handleScale:n}=this.Ui.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Tu(){return this.ru.length===0?null:0}tc(t){return(this.e_-1-t)/this.mu}Vu(t){const n=this.tc(t),i=this.Ou()+this.pu-n;return Math.round(1e6*i)/1e6}Iu(t){const n=this.mu;this.mu=t,this.Ru(),n!==this.mu&&(this.ou=!0,this.ic())}Su(){if(!this.ou)return;if(this.ou=!1,this.Fi())return void this.nc(Rn.su());const t=this.Ou(),n=this.e_/this.mu,i=this.pu+t,s=new ki(i-n+1,i);this.nc(new Rn(s))}Ru(){const t=this.sc();if(this.mu<t&&(this.mu=t,this.ou=!0),this.e_!==0){const n=.5*this.e_;this.mu>n&&(this.mu=n,this.ou=!0)}}sc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.ru.length!==0?this.e_/this.ru.length:this.cn.minBarSpacing}Du(){const t=this.ec();this.pu>t&&(this.pu=t,this.ou=!0);const n=this.rc();n!==null&&this.pu<n&&(this.pu=n,this.ou=!0)}rc(){const t=this.Tu(),n=this.eu;return t===null||n===null?null:t-n-1+(this.cn.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}ec(){return this.cn.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}ju(){this.du={he:this.he(),zu:this.zu()}}Hu(){this.du=null}Lu(t){let n=this.lu.get(t.weight);return n===void 0&&(n=new Gg(i=>this.hc(i),this.N_),this.lu.set(t.weight,n)),n.F_(t)}hc(t){return this.N_.formatTickmark(t,this.bo)}nc(t){const n=this.au;this.au=t,Ia(n.iu(),this.au.iu())||this._u.m(),Ia(n.nu(),this.au.nu())||this.uu.m(),this.ic()}ic(){this.fu=null}gu(){this.ic(),this.lu.clear()}bu(){this.N_.updateFormatter(this.bo)}Mu(){if(!this.cn.fixLeftEdge)return;const t=this.Tu();if(t===null)return;const n=this.Xs();if(n===null)return;const i=n.Os()-t;if(i<0){const s=this.pu-i-1;this.Jn(s)}this.Ru()}xu(){this.Du(),this.Ru()}}class ny extends Uu{constructor(t){super(),this.lc=new Map,this.Lt=t}Z(t){}J(t){if(!this.Lt.Tt)return;const{context:n,mediaSize:i}=t;let s=0;for(const o of this.Lt.ac){if(o.Jt.length===0)continue;n.font=o.R;const l=this.oc(n,o.Jt);l>i.width?o.Wu=i.width/l:o.Wu=1,s+=o._c*o.Wu}let r=0;switch(this.Lt.uc){case"top":r=0;break;case"center":r=Math.max((i.height-s)/2,0);break;case"bottom":r=Math.max(i.height-s,0)}n.fillStyle=this.Lt.O;for(const o of this.Lt.ac){n.save();let l=0;switch(this.Lt.cc){case"left":n.textAlign="left",l=o._c/2;break;case"center":n.textAlign="center",l=i.width/2;break;case"right":n.textAlign="right",l=i.width-1-o._c/2}n.translate(l,r),n.textBaseline="top",n.font=o.R,n.scale(o.Wu,o.Wu),n.fillText(o.Jt,0,o.dc),n.restore(),r+=o._c*o.Wu}}oc(t,n){const i=this.fc(t.font);let s=i.get(n);return s===void 0&&(s=t.measureText(n).width,i.set(n,s)),s}fc(t){let n=this.lc.get(t);return n===void 0&&(n=new Map,this.lc.set(t,n)),n}}class iy{constructor(t){this.bt=!0,this.jt={Tt:!1,O:"",ac:[],uc:"center",cc:"center"},this.Ht=new ny(this.jt),this.$t=t}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht}St(){const t=this.$t.W(),n=this.jt;n.Tt=t.visible,n.Tt&&(n.O=t.color,n.cc=t.horzAlign,n.uc=t.vertAlign,n.ac=[{Jt:t.text,R:Vn(t.fontSize,t.fontFamily,t.fontStyle),_c:1.2*t.fontSize,dc:0,Wu:0}])}}class sy extends ju{constructor(t,n){super(),this.cn=n,this.wn=new iy(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}On(){this.wn.gt()}}var $a,Va,Ua,ja,Ha;(function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"})($a||($a={}));class ry{constructor(t,n,i){this.vc=[],this.mc=[],this.e_=0,this.bc=null,this.wc=new X,this.gc=new X,this.Mc=null,this.xc=t,this.cn=n,this.N_=i,this.Sc=new A0(this),this.wl=new ey(this,n.timeScale,this.cn.localization,i),this.wt=new X0(this,n.crosshair),this.kc=new jg(n.crosshair),this.yc=new sy(this,n.watermark),this.Cc(),this.vc[0].p_(2e3),this.Tc=this.Pc(0),this.Rc=this.Pc(1)}$l(){this.Dc(rt.es())}Fh(){this.Dc(rt.ss())}sa(){this.Dc(new rt(1))}Ul(t){const n=this.Oc(t);this.Dc(n)}Ac(){return this.bc}Vc(t){const n=this.bc;this.bc=t,n!==null&&this.Ul(n.Bc),t!==null&&this.Ul(t.Bc)}W(){return this.cn}Nh(t){qt(this.cn,t),this.vc.forEach(n=>n.c_(t)),t.timeScale!==void 0&&this.wl.Nh(t.timeScale),t.localization!==void 0&&this.wl.wu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.wc.m(),this.Tc=this.Pc(0),this.Rc=this.Pc(1),this.$l()}Ic(t,n){if(t==="left")return void this.Nh({leftPriceScale:n});if(t==="right")return void this.Nh({rightPriceScale:n});const i=this.zc(t);i!==null&&(i.At.Nh(n),this.wc.m())}zc(t){for(const n of this.vc){const i=n.d_(t);if(i!==null)return{Ut:n,At:i}}return null}yt(){return this.wl}Ec(){return this.vc}Lc(){return this.yc}Nc(){return this.wt}Fc(){return this.gc}Wc(t,n){t.Oo(n),this.Bu()}m_(t){this.e_=t,this.wl.m_(this.e_),this.vc.forEach(n=>n.m_(t)),this.Bu()}Cc(t){const n=new Yg(this.wl,this);t!==void 0?this.vc.splice(t,0,n):this.vc.push(n);const i=t===void 0?this.vc.length-1:t,s=rt.es();return s.Nn(i,{Fn:0,Wn:!0}),this.Dc(s),n}y_(t,n,i){t.y_(n,i)}C_(t,n,i){t.C_(n,i),this.ql(),this.Dc(this.jc(t,2))}T_(t,n){t.T_(n),this.Dc(this.jc(t,2))}P_(t,n,i){n.yo()||t.P_(n,i)}R_(t,n,i){n.yo()||(t.R_(n,i),this.ql(),this.Dc(this.jc(t,2)))}D_(t,n){n.yo()||(t.D_(n),this.Dc(this.jc(t,2)))}A_(t,n){t.A_(n),this.Dc(this.jc(t,2))}Hc(t){this.wl.Uo(t)}$c(t,n){const i=this.yt();if(i.Fi()||n===0)return;const s=i.$i();t=Math.max(1,Math.min(t,s)),i.Wu(t,n),this.Bu()}Uc(t){this.qc(0),this.Yc(t),this.Xc()}Kc(t){this.wl.qo(t),this.Bu()}Zc(){this.wl.Yo(),this.Fh()}qc(t){this.wl.Xo(t)}Yc(t){this.wl.Ko(t),this.Bu()}Xc(){this.wl.Zo(),this.Fh()}Mt(){return this.mc}Gc(t,n,i,s,r){this.wt.gn(t,n);let o=NaN,l=this.wl.Au(t);const u=this.wl.Xs();u!==null&&(l=Math.min(Math.max(u.Os(),l),u.di()));const h=s.vn(),a=h.Pt();a!==null&&(o=h.pn(n,a)),o=this.kc.Ca(o,l,s),this.wt.kn(l,o,s),this.sa(),r||this.gc.m(this.wt.kt(),{x:t,y:n},i)}Jc(t,n,i){const s=i.vn(),r=s.Pt(),o=s.Ot(t,S(r)),l=this.wl.ya(n,!0),u=this.wl.Et(S(l));this.Gc(u,o,null,i,!0)}Qc(t){this.Nc().Cn(),this.sa(),t||this.gc.m(null,null,null)}ql(){const t=this.wt.Ut();if(t!==null){const n=this.wt.xn(),i=this.wt.Sn();this.Gc(n,i,null,t)}this.wt.On()}td(t,n,i){const s=this.wl.mn(0),r=this.wl.Bn();n!==void 0&&i!==void 0&&this.wl.gt(n,i);const o=this.wl.mn(0),l=this.wl.Ou(),u=this.wl.Xs();if(u!==null&&s!==null&&o!==null){const h=u.Kr(l),a=this.N_.key(s)>this.N_.key(o),c=t!==null&&t>l&&!a,f=this.wl.Bn(),v=h&&f!==r&&this.wl.W().shiftVisibleRangeOnNewBar;if(c&&!v){const m=t-l;this.wl.Jn(this.wl.zu()-m)}}this.wl.Fu(t)}Kl(t){t!==null&&t.B_()}cr(t){const n=this.vc.find(i=>i.No().includes(t));return n===void 0?null:n}Bu(){this.yc.On(),this.vc.forEach(t=>t.B_()),this.ql()}S(){this.vc.forEach(t=>t.S()),this.vc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}nd(){return this.Sc}mr(){return this.Sc.W()}f_(){return this.wc}sd(t,n,i){const s=this.vc[0],r=this.ed(n,t,s,i);return this.mc.push(r),this.mc.length===1?this.$l():this.Fh(),r}rd(t){const n=this.cr(t),i=this.mc.indexOf(t);De(i!==-1,"Series not found"),this.mc.splice(i,1),S(n).jo(t),t.S&&t.S()}Hl(t,n){const i=S(this.cr(t));i.jo(t);const s=this.zc(n);if(s===null){const r=t.Zi();i.Fo(t,n,r)}else{const r=s.Ut===i?t.Zi():void 0;s.Ut.Fo(t,n,r)}}Ju(){const t=rt.ss();t.$n(),this.Dc(t)}hd(t){const n=rt.ss();n.Yn(t),this.Dc(n)}Zn(){const t=rt.ss();t.Zn(),this.Dc(t)}Gn(t){const n=rt.ss();n.Gn(t),this.Dc(n)}Jn(t){const n=rt.ss();n.Jn(t),this.Dc(n)}Xn(t){const n=rt.ss();n.Xn(t),this.Dc(n)}Un(){const t=rt.ss();t.Un(),this.Dc(t)}ld(){return this.cn.rightPriceScale.visible?"right":"left"}ad(){return this.Rc}q(){return this.Tc}It(t){const n=this.Rc,i=this.Tc;if(n===i)return n;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Mc===null||this.Mc.Ts!==i||this.Mc.Ps!==n)this.Mc={Ts:i,Ps:n,od:new Map};else{const r=this.Mc.od.get(t);if(r!==void 0)return r}const s=function(r,o,l){const[u,h,a,c]=vr(r),[f,v,m,g]=vr(o),k=[Pt(u+l*(f-u)),Pt(h+l*(v-h)),Pt(a+l*(m-a)),Ud(c+l*(g-c))];return`rgba(${k[0]}, ${k[1]}, ${k[2]}, ${k[3]})`}(i,n,t/100);return this.Mc.od.set(t,s),s}jc(t,n){const i=new rt(n);if(t!==null){const s=this.vc.indexOf(t);i.Nn(s,{Fn:n})}return i}Oc(t,n){return n===void 0&&(n=2),this.jc(this.cr(t),n)}Dc(t){this.xc&&this.xc(t),this.vc.forEach(n=>n.z_().Wh().gt())}ed(t,n,i,s){const r=new Qu(this,t,n,i,s),o=t.priceScaleId!==void 0?t.priceScaleId:this.ld();return i.Fo(r,o),Ar(o)||r.Nh(t),r}Pc(t){const n=this.cn.layout;return n.background.type==="gradient"?t===0?n.background.topColor:n.background.bottomColor:n.background.color}}function Bl(e){return!Yt(e)&&!Xi(e)}function lp(e){return Yt(e)}(function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"})(Va||(Va={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(Ua||(Ua={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(ja||(ja={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"}(Ha||(Ha={}));const qa=e=>e.getUTCFullYear();function oy(e,t,n){return t.replace(/yyyy/g,(i=>le(qa(i),4))(e)).replace(/yy/g,(i=>le(qa(i)%100,2))(e)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(e,n)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(e,n)).replace(/MM/g,(i=>le((s=>s.getUTCMonth()+1)(i),2))(e)).replace(/dd/g,(i=>le((s=>s.getUTCDate())(i),2))(e))}class up{constructor(t="yyyy-MM-dd",n="default"){this._d=t,this.ud=n}F_(t){return oy(t,this._d,this.ud)}}class ly{constructor(t){this.dd=t||"%h:%m:%s"}F_(t){return this.dd.replace("%h",le(t.getUTCHours(),2)).replace("%m",le(t.getUTCMinutes(),2)).replace("%s",le(t.getUTCSeconds(),2))}}const uy={fd:"yyyy-MM-dd",vd:"%h:%m:%s",pd:" ",md:"default"};class hy{constructor(t={}){const n=Object.assign(Object.assign({},uy),t);this.bd=new up(n.fd,n.md),this.wd=new ly(n.vd),this.gd=n.pd}F_(t){return`${this.bd.F_(t)}${this.gd}${this.wd.F_(t)}`}}function xs(e){return 60*e*60*1e3}function Co(e){return 60*e*1e3}const Cs=[{Md:(Ka=1,1e3*Ka),xd:10},{Md:Co(1),xd:20},{Md:Co(5),xd:21},{Md:Co(30),xd:22},{Md:xs(1),xd:30},{Md:xs(3),xd:31},{Md:xs(6),xd:32},{Md:xs(12),xd:33}];var Ka;function Qa(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let n=Cs.length-1;n>=0;--n)if(Math.floor(t.getTime()/Cs[n].Md)!==Math.floor(e.getTime()/Cs[n].Md))return Cs[n].xd;return 0}function Lo(e){let t=e;if(Xi(e)&&(t=Xu(e)),!Bl(t))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Sd:Math.round(n.getTime()/1e3),kd:t}}function Xa(e){if(!lp(e))throw new Error("time must be of type isUTCTimestamp");return{Sd:e}}function Xu(e){const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Ja(e){Xi(e.time)&&(e.time=Xu(e.time))}class Ya{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(n){n.forEach(Ja)}(t):Ja(t)}createConverterToInternalObj(t){return S(function(n){return n.length===0?null:Bl(n[0].time)||Xi(n[0].time)?Lo:Xa}(t))}key(t){return typeof t=="object"&&"Sd"in t?t.Sd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const n=t;return n.kd===void 0?new Date(1e3*n.Sd).getTime():new Date(Date.UTC(n.kd.year,n.kd.month-1,n.kd.day)).getTime()}convertHorzItemToInternal(t){return lp(n=t)?Xa(n):Bl(n)?Lo(n):Lo(Xu(n));var n}updateFormatter(t){if(!this.cn)return;const n=t.dateFormat;this.cn.timeScale.timeVisible?this.yd=new hy({fd:n,vd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",pd:"   ",md:t.locale}):this.yd=new up(n,t.locale)}formatHorzItem(t){const n=t;return this.yd.F_(new Date(1e3*n.Sd))}formatTickmark(t,n){const i=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(t.originalTime,i,n.locale);if(r!==null)return r}return function(r,o,l){const u={};switch(o){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const h=r.kd===void 0?new Date(1e3*r.Sd):new Date(Date.UTC(r.kd.year,r.kd.month-1,r.kd.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(l,u)}(t.time,i,n.locale)}maxTickMarkWeight(t){let n=t.reduce(ty,t[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(t,n){(function(i,s=0){if(i.length===0)return;let r=s===0?null:i[s-1].time.Sd,o=r!==null?new Date(1e3*r):null,l=0;for(let u=s;u<i.length;++u){const h=i[u],a=new Date(1e3*h.time.Sd);o!==null&&(h.timeWeight=Qa(a,o)),l+=h.time.Sd-(r||h.time.Sd),r=h.time.Sd,o=a}if(s===0&&i.length>1){const u=Math.ceil(l/(i.length-1)),h=new Date(1e3*(i[0].time.Sd-u));i[0].timeWeight=Qa(new Date(1e3*i[0].time.Sd),h)}})(t,n)}static Cd(t){return qt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const Un=typeof window<"u";function Ga(){return!!Un&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Mo(){return!!Un&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Fl(e){return e+e%2}function To(e,t){return e.Td-t.Td}function Po(e,t,n){const i=(e.Td-t.Td)/(e.ut-t.ut);return Math.sign(i)*Math.min(Math.abs(i),n)}class ay{constructor(t,n,i,s){this.Pd=null,this.Rd=null,this.Dd=null,this.Od=null,this.Ad=null,this.Vd=0,this.Bd=0,this.Id=t,this.zd=n,this.Ed=i,this.rs=s}Ld(t,n){if(this.Pd!==null){if(this.Pd.ut===n)return void(this.Pd.Td=t);if(Math.abs(this.Pd.Td-t)<this.rs)return}this.Od=this.Dd,this.Dd=this.Rd,this.Rd=this.Pd,this.Pd={ut:n,Td:t}}Dr(t,n){if(this.Pd===null||this.Rd===null||n-this.Pd.ut>50)return;let i=0;const s=Po(this.Pd,this.Rd,this.zd),r=To(this.Pd,this.Rd),o=[s],l=[r];if(i+=r,this.Dd!==null){const h=Po(this.Rd,this.Dd,this.zd);if(Math.sign(h)===Math.sign(s)){const a=To(this.Rd,this.Dd);if(o.push(h),l.push(a),i+=a,this.Od!==null){const c=Po(this.Dd,this.Od,this.zd);if(Math.sign(c)===Math.sign(s)){const f=To(this.Dd,this.Od);o.push(c),l.push(f),i+=f}}}}let u=0;for(let h=0;h<o.length;++h)u+=l[h]/i*o[h];Math.abs(u)<this.Id||(this.Ad={Td:t,ut:n},this.Bd=u,this.Vd=function(h,a){const c=Math.log(a);return Math.log(1*c/-h)/c}(Math.abs(u),this.Ed))}Yu(t){const n=S(this.Ad),i=t-n.ut;return n.Td+this.Bd*(Math.pow(this.Ed,i)-1)/Math.log(this.Ed)}qu(t){return this.Ad===null||this.Nd(t)===this.Vd}Nd(t){const n=t-S(this.Ad).ut;return Math.min(n,this.Vd)}}function on(e,t){const n=S(e.ownerDocument).createElement("canvas");e.appendChild(n);const i=E0(n,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return i.resizeCanvasElement(t),i}function Al(e,t,n,i){e.G&&e.G(t,n,i)}function Hs(e,t,n,i){e.K(t,n,i)}function Wl(e,t,n,i){const s=e(n,i);for(const r of s){const o=r.xt();o!==null&&t(o)}}function cy(e){Un&&window.chrome!==void 0&&e.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Ju{constructor(t,n,i){this.Fd=0,this.Wd=null,this.jd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.Hd=0,this.$d=null,this.Ud={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.qd=null,this.Yd=!1,this.Xd=null,this.Kd=null,this.Zd=!1,this.Gd=!1,this.Jd=!1,this.Qd=null,this.tf=null,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=0,this.lf=!1,this.af=!1,this._f=!1,this.uf=0,this.cf=null,this.df=!Mo(),this.ff=s=>{this.vf(s)},this.pf=s=>{if(this.mf(s)){const r=this.bf(s);if(++this.Hd,this.$d&&this.Hd>1){const{wf:o}=this.gf(Qt(s),this.Ud);o<30&&!this.Jd&&this.Mf(r,this.Sf.xf),this.kf()}}else{const r=this.bf(s);if(++this.Fd,this.Wd&&this.Fd>1){const{wf:o}=this.gf(Qt(s),this.jd);o<5&&!this.Gd&&this.yf(r,this.Sf.Cf),this.Tf()}}},this.Pf=t,this.Sf=n,this.cn=i,this.Rf()}S(){this.Qd!==null&&(this.Qd(),this.Qd=null),this.tf!==null&&(this.tf(),this.tf=null),this.nf!==null&&(this.nf(),this.nf=null),this.sf!==null&&(this.sf(),this.sf=null),this.ef!==null&&(this.ef(),this.ef=null),this.if!==null&&(this.if(),this.if=null),this.Df(),this.Tf()}Of(t){this.nf&&this.nf();const n=this.Af.bind(this);if(this.nf=()=>{this.Pf.removeEventListener("mousemove",n)},this.Pf.addEventListener("mousemove",n),this.mf(t))return;const i=this.bf(t);this.yf(i,this.Sf.Vf),this.df=!0}Tf(){this.Wd!==null&&clearTimeout(this.Wd),this.Fd=0,this.Wd=null,this.jd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}kf(){this.$d!==null&&clearTimeout(this.$d),this.Hd=0,this.$d=null,this.Ud={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}Af(t){if(this._f||this.Kd!==null||this.mf(t))return;const n=this.bf(t);this.yf(n,this.Sf.Bf),this.df=!0}If(t){const n=No(t.changedTouches,S(this.cf));if(n===null||(this.uf=Ls(t),this.rf!==null)||this.af)return;this.lf=!0;const i=this.gf(Qt(n),S(this.Kd)),{zf:s,Ef:r,wf:o}=i;if(this.Zd||!(o<5)){if(!this.Zd){const l=.5*s,u=r>=l&&!this.cn.Lf(),h=l>r&&!this.cn.Nf();u||h||(this.af=!0),this.Zd=!0,this.Jd=!0,this.Df(),this.kf()}if(!this.af){const l=this.bf(t,n);this.Mf(l,this.Sf.Ff),fn(t)}}}Wf(t){if(t.button!==0)return;const n=this.gf(Qt(t),S(this.Xd)),{wf:i}=n;if(i>=5&&(this.Gd=!0,this.Tf()),this.Gd){const s=this.bf(t);this.yf(s,this.Sf.jf)}}gf(t,n){const i=Math.abs(n.et-t.et),s=Math.abs(n.rt-t.rt);return{zf:i,Ef:s,wf:i+s}}Hf(t){let n=No(t.changedTouches,S(this.cf));if(n===null&&t.touches.length===0&&(n=t.changedTouches[0]),n===null)return;this.cf=null,this.uf=Ls(t),this.Df(),this.Kd=null,this.ef&&(this.ef(),this.ef=null);const i=this.bf(t,n);if(this.Mf(i,this.Sf.$f),++this.Hd,this.$d&&this.Hd>1){const{wf:s}=this.gf(Qt(n),this.Ud);s<30&&!this.Jd&&this.Mf(i,this.Sf.xf),this.kf()}else this.Jd||(this.Mf(i,this.Sf.Uf),this.Sf.Uf&&fn(t));this.Hd===0&&fn(t),t.touches.length===0&&this.Yd&&(this.Yd=!1,fn(t))}vf(t){if(t.button!==0)return;const n=this.bf(t);if(this.Xd=null,this._f=!1,this.sf&&(this.sf(),this.sf=null),Ga()&&this.Pf.ownerDocument.documentElement.removeEventListener("mouseleave",this.ff),!this.mf(t))if(this.yf(n,this.Sf.qf),++this.Fd,this.Wd&&this.Fd>1){const{wf:i}=this.gf(Qt(t),this.jd);i<5&&!this.Gd&&this.yf(n,this.Sf.Cf),this.Tf()}else this.Gd||this.yf(n,this.Sf.Yf)}Df(){this.qd!==null&&(clearTimeout(this.qd),this.qd=null)}Xf(t){if(this.cf!==null)return;const n=t.changedTouches[0];this.cf=n.identifier,this.uf=Ls(t);const i=this.Pf.ownerDocument.documentElement;this.Jd=!1,this.Zd=!1,this.af=!1,this.Kd=Qt(n),this.ef&&(this.ef(),this.ef=null);{const r=this.If.bind(this),o=this.Hf.bind(this);this.ef=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this.Df(),this.qd=setTimeout(this.Kf.bind(this,t),240)}const s=this.bf(t,n);this.Mf(s,this.Sf.Zf),this.$d||(this.Hd=0,this.$d=setTimeout(this.kf.bind(this),500),this.Ud=Qt(n))}Gf(t){if(t.button!==0)return;const n=this.Pf.ownerDocument.documentElement;Ga()&&n.addEventListener("mouseleave",this.ff),this.Gd=!1,this.Xd=Qt(t),this.sf&&(this.sf(),this.sf=null);{const s=this.Wf.bind(this),r=this.vf.bind(this);this.sf=()=>{n.removeEventListener("mousemove",s),n.removeEventListener("mouseup",r)},n.addEventListener("mousemove",s),n.addEventListener("mouseup",r)}if(this._f=!0,this.mf(t))return;const i=this.bf(t);this.yf(i,this.Sf.Jf),this.Wd||(this.Fd=0,this.Wd=setTimeout(this.Tf.bind(this),500),this.jd=Qt(t))}Rf(){this.Pf.addEventListener("mouseenter",this.Of.bind(this)),this.Pf.addEventListener("touchcancel",this.Df.bind(this));{const t=this.Pf.ownerDocument,n=i=>{this.Sf.Qf&&(i.composed&&this.Pf.contains(i.composedPath()[0])||i.target&&this.Pf.contains(i.target)||this.Sf.Qf())};this.tf=()=>{t.removeEventListener("touchstart",n)},this.Qd=()=>{t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0})}Mo()&&(this.if=()=>{this.Pf.removeEventListener("dblclick",this.pf)},this.Pf.addEventListener("dblclick",this.pf)),this.Pf.addEventListener("mouseleave",this.tv.bind(this)),this.Pf.addEventListener("touchstart",this.Xf.bind(this),{passive:!0}),cy(this.Pf),this.Pf.addEventListener("mousedown",this.Gf.bind(this)),this.iv(),this.Pf.addEventListener("touchmove",()=>{},{passive:!1})}iv(){this.Sf.nv===void 0&&this.Sf.sv===void 0&&this.Sf.ev===void 0||(this.Pf.addEventListener("touchstart",t=>this.rv(t.touches),{passive:!0}),this.Pf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.rf!==null&&this.Sf.sv!==void 0){const n=Za(t.touches[0],t.touches[1])/this.hf;this.Sf.sv(this.rf,n),fn(t)}},{passive:!1}),this.Pf.addEventListener("touchend",t=>{this.rv(t.touches)}))}rv(t){t.length===1&&(this.lf=!1),t.length!==2||this.lf||this.Yd?this.hv():this.lv(t)}lv(t){const n=this.Pf.getBoundingClientRect()||{left:0,top:0};this.rf={et:(t[0].clientX-n.left+(t[1].clientX-n.left))/2,rt:(t[0].clientY-n.top+(t[1].clientY-n.top))/2},this.hf=Za(t[0],t[1]),this.Sf.nv!==void 0&&this.Sf.nv(),this.Df()}hv(){this.rf!==null&&(this.rf=null,this.Sf.ev!==void 0&&this.Sf.ev())}tv(t){if(this.nf&&this.nf(),this.mf(t)||!this.df)return;const n=this.bf(t);this.yf(n,this.Sf.av),this.df=!Mo()}Kf(t){const n=No(t.touches,S(this.cf));if(n===null)return;const i=this.bf(t,n);this.Mf(i,this.Sf.ov),this.Jd=!0,this.Yd=!0}mf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Ls(t)<this.uf+500}Mf(t,n){n&&n.call(this.Sf,t)}yf(t,n){n&&n.call(this.Sf,t)}bf(t,n){const i=n||t,s=this.Pf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,_v:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",uv:t.type,cv:i.target,dv:t.view,fv:()=>{t.type!=="touchstart"&&fn(t)}}}}function Za(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY;return Math.sqrt(n*n+i*i)}function fn(e){e.cancelable&&e.preventDefault()}function Qt(e){return{et:e.pageX,rt:e.pageY}}function Ls(e){return e.timeStamp||performance.now()}function No(e,t){for(let n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}function Ms(e){return{Bc:e.Bc,vv:{wr:e.pv.externalId},mv:e.pv.cursorStyle}}function fy(e,t,n){for(const i of e){const s=i.xt();if(s!==null&&s.br){const r=s.br(t,n);if(r!==null)return{dv:i,vv:r}}}return null}function Oo(e,t){return n=>{var i,s,r,o;return((s=(i=n.At())===null||i===void 0?void 0:i.xa())!==null&&s!==void 0?s:"")!==t?[]:(o=(r=n.la)===null||r===void 0?void 0:r.call(n,e))!==null&&o!==void 0?o:[]}}class tc{constructor(t,n,i,s){this.Li=null,this.bv=null,this.wv=!1,this.gv=new Vi(200),this.Gr=null,this.Mv=0,this.xv=!1,this.Sv=()=>{this.xv||this.nn.kv().qt().Fh()},this.yv=()=>{this.xv||this.nn.kv().qt().Fh()},this.nn=t,this.cn=n,this.mo=n.layout,this.Sc=i,this.Cv=s==="left",this.Tv=Oo("normal",s),this.Pv=Oo("top",s),this.Rv=Oo("bottom",s),this.Dv=document.createElement("div"),this.Dv.style.height="100%",this.Dv.style.overflow="hidden",this.Dv.style.width="25px",this.Dv.style.left="0",this.Dv.style.position="relative",this.Ov=on(this.Dv,$({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv);const r=this.Ov.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Av=on(this.Dv,$({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.yv);const o=this.Av.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={Jf:this.Vv.bind(this),Zf:this.Vv.bind(this),jf:this.Bv.bind(this),Ff:this.Bv.bind(this),Qf:this.Iv.bind(this),qf:this.zv.bind(this),$f:this.zv.bind(this),Cf:this.Ev.bind(this),xf:this.Ev.bind(this),Vf:this.Lv.bind(this),av:this.Nv.bind(this)};this.Fv=new Ju(this.Av.canvasElement,l,{Lf:()=>!1,Nf:()=>!0})}S(){this.Fv.S(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.yv),this.Av.dispose(),this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose(),this.Li!==null&&this.Li.$o().p(this),this.Li=null}Wv(){return this.Dv}P(){return this.mo.fontSize}jv(){const t=this.Sc.W();return this.Gr!==t.R&&(this.gv.ir(),this.Gr=t.R),t}Hv(){if(this.Li===null)return 0;let t=0;const n=this.jv(),i=S(this.Ov.canvasElement.getContext("2d"));i.save();const s=this.Li.Ea();i.font=this.$v(),s.length>0&&(t=Math.max(this.gv.Si(i,s[0].Za),this.gv.Si(i,s[s.length-1].Za)));const r=this.Uv();for(let u=r.length;u--;){const h=this.gv.Si(i,r[u].Jt());h>t&&(t=h)}const o=this.Li.Pt();if(o!==null&&this.bv!==null){const u=this.Li.pn(1,o),h=this.Li.pn(this.bv.height-2,o);t=Math.max(t,this.gv.Si(i,this.Li.Wi(Math.floor(Math.min(u,h))+.11111111111111,o)),this.gv.Si(i,this.Li.Wi(Math.ceil(Math.max(u,h))-.11111111111111,o)))}i.restore();const l=t||34;return Fl(Math.ceil(n.C+n.T+n.B+n.I+5+l))}qv(t){this.bv!==null&&Ye(this.bv,t)||(this.bv=t,this.xv=!0,this.Ov.resizeCanvasElement(t),this.Av.resizeCanvasElement(t),this.xv=!1,this.Dv.style.width=`${t.width}px`,this.Dv.style.height=`${t.height}px`)}Yv(){return S(this.bv).width}Ji(t){this.Li!==t&&(this.Li!==null&&this.Li.$o().p(this),this.Li=t,t.$o().l(this.ao.bind(this),this))}At(){return this.Li}ir(){const t=this.nn.Xv();this.nn.kv().qt().A_(t,S(this.At()))}Kv(t){if(this.bv===null)return;if(t!==1){this.Zv(),this.Ov.applySuggestedBitmapSize();const i=sn(this.Ov);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.Gv(s),this.Be(s)}),this.nn.Jv(i,this.Rv),this.Qv(i),this.nn.Jv(i,this.Tv),this.tp(i))}this.Av.applySuggestedBitmapSize();const n=sn(this.Av);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.ip(n),this.nn.Jv(n,this.Pv))}np(){return this.Ov.bitmapSize}sp(t,n,i){const s=this.np();s.width>0&&s.height>0&&t.drawImage(this.Ov.canvasElement,n,i)}gt(){var t;(t=this.Li)===null||t===void 0||t.Ea()}Vv(t){if(this.Li===null||this.Li.Fi()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.nn.kv().qt(),i=this.nn.Xv();this.wv=!0,n.y_(i,this.Li,t.localY)}Bv(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.nn.kv().qt(),i=this.nn.Xv(),s=this.Li;n.C_(i,s,t.localY)}Iv(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.nn.kv().qt(),n=this.nn.Xv(),i=this.Li;this.wv&&(this.wv=!1,t.T_(n,i))}zv(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.nn.kv().qt(),i=this.nn.Xv();this.wv=!1,n.T_(i,this.Li)}Ev(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}Lv(t){this.Li!==null&&(!this.nn.kv().qt().W().handleScale.axisPressedMouseMove.price||this.Li.ph()||this.Li.Co()||this.ep(1))}Nv(t){this.ep(0)}Uv(){const t=[],n=this.Li===null?void 0:this.Li;return(i=>{for(let s=0;s<i.length;++s){const r=i[s].Rn(this.nn.Xv(),n);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.nn.Xv().No()),t}Gv({context:t,bitmapSize:n}){const{width:i,height:s}=n,r=this.nn.Xv().qt(),o=r.q(),l=r.ad();o===l?Br(t,0,0,i,s,o):jd(t,0,0,i,s,o,l)}Be({context:t,bitmapSize:n,horizontalPixelRatio:i}){if(this.bv===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.jv().C*i));let r;r=this.Cv?n.width-s:0,t.fillRect(r,0,s,n.height)}Qv(t){if(this.bv===null||this.Li===null)return;const n=this.Li.Ea(),i=this.Li.W(),s=this.jv(),r=this.Cv?this.bv.width-s.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:u})=>{o.fillStyle=i.borderColor;const h=Math.max(1,Math.floor(u)),a=Math.floor(.5*u),c=Math.round(s.T*l);o.beginPath();for(const f of n)o.rect(Math.floor(r*l),Math.round(f.Aa*u)-a,c,h);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this.$v(),o.fillStyle=(l=i.textColor)!==null&&l!==void 0?l:this.mo.textColor,o.textAlign=this.Cv?"right":"left",o.textBaseline="middle";const u=this.Cv?Math.round(r-s.B):Math.round(r+s.T+s.B),h=n.map(a=>this.gv.xi(o,a.Za));for(let a=n.length;a--;){const c=n[a];o.fillText(c.Za,u,c.Aa+h[a])}})}Zv(){if(this.bv===null||this.Li===null)return;let t=this.bv.height/2;const n=[],i=this.Li.No().slice(),s=this.nn.Xv(),r=this.jv();this.Li===s.vr()&&this.nn.Xv().No().forEach(u=>{s.dr(u)&&i.push(u)});const o=this.Li.Ta()[0],l=this.Li;i.forEach(u=>{const h=u.Rn(s,l);h.forEach(a=>{a.Vi(null),a.Bi()&&n.push(a)}),o===u&&h.length>0&&(t=h[0].yi())}),n.forEach(u=>u.Vi(u.yi())),this.Li.W().alignLabels&&this.rp(n,r,t)}rp(t,n,i){if(this.bv===null)return;const s=t.filter(o=>o.yi()<=i),r=t.filter(o=>o.yi()>i);s.sort((o,l)=>l.yi()-o.yi()),s.length&&r.length&&r.push(s[0]),r.sort((o,l)=>o.yi()-l.yi());for(const o of t){const l=Math.floor(o.zt(n)/2),u=o.yi();u>-l&&u<l&&o.Vi(l),u>this.bv.height-l&&u<this.bv.height+l&&o.Vi(this.bv.height-l)}for(let o=1;o<s.length;o++){const l=s[o],u=s[o-1],h=u.zt(n,!1),a=l.yi(),c=u.Ai();a>c-h&&l.Vi(c-h)}for(let o=1;o<r.length;o++){const l=r[o],u=r[o-1],h=u.zt(n,!0),a=l.yi(),c=u.Ai();a<c+h&&l.Vi(c+h)}}tp(t){if(this.bv===null)return;const n=this.Uv(),i=this.jv(),s=this.Cv?"right":"left";n.forEach(r=>{r.Ii()&&r.xt(S(this.Li)).K(t,i,this.gv,s)})}ip(t){if(this.bv===null||this.Li===null)return;const n=this.nn.kv().qt(),i=[],s=this.nn.Xv(),r=n.Nc().Rn(s,this.Li);r.length&&i.push(r);const o=this.jv(),l=this.Cv?"right":"left";i.forEach(u=>{u.forEach(h=>{h.xt(S(this.Li)).K(t,o,this.gv,l)})})}ep(t){this.Dv.style.cursor=t===1?"ns-resize":"default"}ao(){const t=this.Hv();this.Mv<t&&this.nn.kv().qt().$l(),this.Mv=t}$v(){return Vn(this.mo.fontSize,this.mo.fontFamily)}}function dy(e,t){var n,i;return(i=(n=e.ra)===null||n===void 0?void 0:n.call(e,t))!==null&&i!==void 0?i:[]}function Ts(e,t){var n,i;return(i=(n=e.Pn)===null||n===void 0?void 0:n.call(e,t))!==null&&i!==void 0?i:[]}function py(e,t){var n,i;return(i=(n=e.Qi)===null||n===void 0?void 0:n.call(e,t))!==null&&i!==void 0?i:[]}function my(e,t){var n,i;return(i=(n=e.na)===null||n===void 0?void 0:n.call(e,t))!==null&&i!==void 0?i:[]}class Yu{constructor(t,n){this.bv=$({width:0,height:0}),this.hp=null,this.lp=null,this.ap=null,this.op=!1,this._p=new X,this.up=new X,this.cp=0,this.dp=!1,this.fp=null,this.vp=!1,this.pp=null,this.mp=null,this.xv=!1,this.Sv=()=>{this.xv||this.bp===null||this.Ui().Fh()},this.yv=()=>{this.xv||this.bp===null||this.Ui().Fh()},this.wp=t,this.bp=n,this.bp.I_().l(this.gp.bind(this),this,!0),this.Mp=document.createElement("td"),this.Mp.style.padding="0",this.Mp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.xp=document.createElement("td"),this.xp.style.padding="0",this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.Mp.appendChild(i),this.Ov=on(i,$({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv);const s=this.Ov.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Av=on(i,$({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.yv);const r=this.Av.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp=document.createElement("tr"),this.kp.appendChild(this.xp),this.kp.appendChild(this.Mp),this.kp.appendChild(this.Sp),this.yp(),this.Fv=new Ju(this.Av.canvasElement,this,{Lf:()=>this.fp===null&&!this.wp.W().handleScroll.vertTouchDrag,Nf:()=>this.fp===null&&!this.wp.W().handleScroll.horzTouchDrag})}S(){this.hp!==null&&this.hp.S(),this.lp!==null&&this.lp.S(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.yv),this.Av.dispose(),this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose(),this.bp!==null&&this.bp.I_().p(this),this.Fv.S()}Xv(){return S(this.bp)}Cp(t){this.bp!==null&&this.bp.I_().p(this),this.bp=t,this.bp!==null&&this.bp.I_().l(Yu.prototype.gp.bind(this),this,!0),this.yp()}kv(){return this.wp}Wv(){return this.kp}yp(){if(this.bp!==null&&(this.Tp(),this.Ui().Mt().length!==0)){if(this.hp!==null){const t=this.bp.S_();this.hp.Ji(S(t))}if(this.lp!==null){const t=this.bp.k_();this.lp.Ji(S(t))}}}Pp(){this.hp!==null&&this.hp.gt(),this.lp!==null&&this.lp.gt()}v_(){return this.bp!==null?this.bp.v_():0}p_(t){this.bp&&this.bp.p_(t)}Vf(t){if(!this.bp)return;this.Rp();const n=t.localX,i=t.localY;this.Dp(n,i,t)}Jf(t){this.Rp(),this.Op(),this.Dp(t.localX,t.localY,t)}Bf(t){var n;if(!this.bp)return;this.Rp();const i=t.localX,s=t.localY;this.Dp(i,s,t);const r=this.br(i,s);this.wp.Ap((n=r==null?void 0:r.mv)!==null&&n!==void 0?n:null),this.Ui().Vc(r&&{Bc:r.Bc,vv:r.vv})}Yf(t){this.bp!==null&&(this.Rp(),this.Vp(t))}Cf(t){this.bp!==null&&this.Bp(this.up,t)}xf(t){this.Cf(t)}jf(t){this.Rp(),this.Ip(t),this.Dp(t.localX,t.localY,t)}qf(t){this.bp!==null&&(this.Rp(),this.dp=!1,this.zp(t))}Uf(t){this.bp!==null&&this.Vp(t)}ov(t){if(this.dp=!0,this.fp===null){const n={x:t.localX,y:t.localY};this.Ep(n,n,t)}}av(t){this.bp!==null&&(this.Rp(),this.bp.qt().Vc(null),this.Lp())}Np(){return this._p}Fp(){return this.up}nv(){this.cp=1,this.Ui().Un()}sv(t,n){if(!this.wp.W().handleScale.pinch)return;const i=5*(n-this.cp);this.cp=n,this.Ui().$c(t.et,i)}Zf(t){this.dp=!1,this.vp=this.fp!==null,this.Op();const n=this.Ui().Nc();this.fp!==null&&n.Tt()&&(this.pp={x:n.Kt(),y:n.Zt()},this.fp={x:t.localX,y:t.localY})}Ff(t){if(this.bp===null)return;const n=t.localX,i=t.localY;if(this.fp===null)this.Ip(t);else{this.vp=!1;const s=S(this.pp),r=s.x+(n-this.fp.x),o=s.y+(i-this.fp.y);this.Dp(r,o,t)}}$f(t){this.kv().W().trackingMode.exitMode===0&&(this.vp=!0),this.Wp(),this.zp(t)}br(t,n){const i=this.bp;return i===null?null:function(s,r,o){const l=s.No(),u=function(h,a,c){var f,v;let m,g;for(const d of h){const y=(v=(f=d.oa)===null||f===void 0?void 0:f.call(d,a,c))!==null&&v!==void 0?v:[];for(const w of y)k=w.zOrder,(!(p=m==null?void 0:m.zOrder)||k==="top"&&p!=="top"||k==="normal"&&p==="bottom")&&(m=w,g=d)}var k,p;return m&&g?{pv:m,Bc:g}:null}(l,r,o);if((u==null?void 0:u.pv.zOrder)==="top")return Ms(u);for(const h of l){if(u&&u.Bc===h&&u.pv.zOrder!=="bottom"&&!u.pv.isBackground)return Ms(u);const a=fy(h.Pn(s),r,o);if(a!==null)return{Bc:h,dv:a.dv,vv:a.vv};if(u&&u.Bc===h&&u.pv.zOrder!=="bottom"&&u.pv.isBackground)return Ms(u)}return u!=null&&u.pv?Ms(u):null}(i,t,n)}jp(t,n){S(n==="left"?this.hp:this.lp).qv($({width:t,height:this.bv.height}))}Hp(){return this.bv}qv(t){Ye(this.bv,t)||(this.bv=t,this.xv=!0,this.Ov.resizeCanvasElement(t),this.Av.resizeCanvasElement(t),this.xv=!1,this.Mp.style.width=t.width+"px",this.Mp.style.height=t.height+"px")}$p(){const t=S(this.bp);t.x_(t.S_()),t.x_(t.k_());for(const n of t.Ta())if(t.dr(n)){const i=n.At();i!==null&&t.x_(i),n.On()}}np(){return this.Ov.bitmapSize}sp(t,n,i){const s=this.np();s.width>0&&s.height>0&&t.drawImage(this.Ov.canvasElement,n,i)}Kv(t){if(t===0||this.bp===null)return;if(t>1&&this.$p(),this.hp!==null&&this.hp.Kv(t),this.lp!==null&&this.lp.Kv(t),t!==1){this.Ov.applySuggestedBitmapSize();const i=sn(this.Ov);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.Gv(s)}),this.bp&&(this.Up(i,dy),this.qp(i),this.Yp(i),this.Up(i,Ts),this.Up(i,py)))}this.Av.applySuggestedBitmapSize();const n=sn(this.Av);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Xp(n),this.Up(n,my))}Kp(){return this.hp}Zp(){return this.lp}Jv(t,n){this.Up(t,n)}gp(){this.bp!==null&&this.bp.I_().p(this),this.bp=null}Vp(t){this.Bp(this._p,t)}Bp(t,n){const i=n.localX,s=n.localY;t.M()&&t.m(this.Ui().yt().Au(i),{x:i,y:s},n)}Gv({context:t,bitmapSize:n}){const{width:i,height:s}=n,r=this.Ui(),o=r.q(),l=r.ad();o===l?Br(t,0,0,i,s,l):jd(t,0,0,i,s,o,l)}qp(t){const n=S(this.bp).z_().Wh().xt();n!==null&&n.K(t,!1)}Yp(t){const n=this.Ui().Lc();this.Gp(t,Ts,Al,n),this.Gp(t,Ts,Hs,n)}Xp(t){this.Gp(t,Ts,Hs,this.Ui().Nc())}Up(t,n){const i=S(this.bp).No();for(const s of i)this.Gp(t,n,Al,s);for(const s of i)this.Gp(t,n,Hs,s)}Gp(t,n,i,s){const r=S(this.bp),o=r.qt().Ac(),l=o!==null&&o.Bc===s,u=o!==null&&l&&o.vv!==void 0?o.vv.gr:void 0;Wl(n,h=>i(h,t,l,u),s,r)}Tp(){if(this.bp===null)return;const t=this.wp,n=this.bp.S_().W().visible,i=this.bp.k_().W().visible;n||this.hp===null||(this.xp.removeChild(this.hp.Wv()),this.hp.S(),this.hp=null),i||this.lp===null||(this.Sp.removeChild(this.lp.Wv()),this.lp.S(),this.lp=null);const s=t.qt().nd();n&&this.hp===null&&(this.hp=new tc(this,t.W(),s,"left"),this.xp.appendChild(this.hp.Wv())),i&&this.lp===null&&(this.lp=new tc(this,t.W(),s,"right"),this.Sp.appendChild(this.lp.Wv()))}Jp(t){return t._v&&this.dp||this.fp!==null}Qp(t){return Math.max(0,Math.min(t,this.bv.width-1))}tm(t){return Math.max(0,Math.min(t,this.bv.height-1))}Dp(t,n,i){this.Ui().Gc(this.Qp(t),this.tm(n),i,S(this.bp))}Lp(){this.Ui().Qc()}Wp(){this.vp&&(this.fp=null,this.Lp())}Ep(t,n,i){this.fp=t,this.vp=!1,this.Dp(n.x,n.y,i);const s=this.Ui().Nc();this.pp={x:s.Kt(),y:s.Zt()}}Ui(){return this.wp.qt()}zp(t){if(!this.op)return;const n=this.Ui(),i=this.Xv();if(n.D_(i,i.vn()),this.ap=null,this.op=!1,n.Xc(),this.mp!==null){const s=performance.now(),r=n.yt();this.mp.Dr(r.zu(),s),this.mp.qu(s)||n.Xn(this.mp)}}Rp(){this.fp=null}Op(){if(this.bp){if(this.Ui().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)S(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.bp.vn().Fi()&&this.Ui().yt().Fi()}}Ip(t){if(this.bp===null)return;const n=this.Ui(),i=n.yt();if(i.Fi())return;const s=this.wp.W(),r=s.handleScroll,o=s.kineticScroll;if((!r.pressedMouseMove||t._v)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t._v))return;const l=this.bp.vn(),u=performance.now();if(this.ap!==null||this.Jp(t)||(this.ap={x:t.clientX,y:t.clientY,Sd:u,im:t.localX,nm:t.localY}),this.ap!==null&&!this.op&&(this.ap.x!==t.clientX||this.ap.y!==t.clientY)){if(t._v&&o.touch||!t._v&&o.mouse){const h=i.he();this.mp=new ay(.2/h,7/h,.997,15/h),this.mp.Ld(i.zu(),this.ap.Sd)}else this.mp=null;l.Fi()||n.P_(this.bp,l,t.localY),n.qc(t.localX),this.op=!0}this.op&&(l.Fi()||n.R_(this.bp,l,t.localY),n.Yc(t.localX),this.mp!==null&&this.mp.Ld(i.zu(),u))}}class ec{constructor(t,n,i,s,r){this.bt=!0,this.bv=$({width:0,height:0}),this.Sv=()=>this.Kv(3),this.Cv=t==="left",this.Sc=i.nd,this.cn=n,this.sm=s,this.rm=r,this.Dv=document.createElement("div"),this.Dv.style.width="25px",this.Dv.style.height="100%",this.Dv.style.overflow="hidden",this.Ov=on(this.Dv,$({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv)}S(){this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose()}Wv(){return this.Dv}Hp(){return this.bv}qv(t){Ye(this.bv,t)||(this.bv=t,this.Ov.resizeCanvasElement(t),this.Dv.style.width=`${t.width}px`,this.Dv.style.height=`${t.height}px`,this.bt=!0)}Kv(t){if(t<3&&!this.bt||this.bv.width===0||this.bv.height===0)return;this.bt=!1,this.Ov.applySuggestedBitmapSize();const n=sn(this.Ov);n!==null&&n.useBitmapCoordinateSpace(i=>{this.Gv(i),this.Be(i)})}np(){return this.Ov.bitmapSize}sp(t,n,i){const s=this.np();s.width>0&&s.height>0&&t.drawImage(this.Ov.canvasElement,n,i)}Be({context:t,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.sm())return;t.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Sc.W().C*i),o=Math.floor(this.Sc.W().C*s),l=this.Cv?n.width-r:0;t.fillRect(l,0,r,o)}Gv({context:t,bitmapSize:n}){Br(t,0,0,n.width,n.height,this.rm())}}function Gu(e){return t=>{var n,i;return(i=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}}const vy=Gu("normal"),gy=Gu("top"),yy=Gu("bottom");class wy{constructor(t,n){this.hm=null,this.lm=null,this.k=null,this.am=!1,this.bv=$({width:0,height:0}),this.om=new X,this.gv=new Vi(5),this.xv=!1,this.Sv=()=>{this.xv||this.wp.qt().Fh()},this.yv=()=>{this.xv||this.wp.qt().Fh()},this.wp=t,this.N_=n,this.cn=t.W().layout,this._m=document.createElement("tr"),this.um=document.createElement("td"),this.um.style.padding="0",this.dm=document.createElement("td"),this.dm.style.padding="0",this.Dv=document.createElement("td"),this.Dv.style.height="25px",this.Dv.style.padding="0",this.fm=document.createElement("div"),this.fm.style.width="100%",this.fm.style.height="100%",this.fm.style.position="relative",this.fm.style.overflow="hidden",this.Dv.appendChild(this.fm),this.Ov=on(this.fm,$({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv);const i=this.Ov.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Av=on(this.fm,$({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.yv);const s=this.Av.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this._m.appendChild(this.um),this._m.appendChild(this.Dv),this._m.appendChild(this.dm),this.vm(),this.wp.qt().f_().l(this.vm.bind(this),this),this.Fv=new Ju(this.Av.canvasElement,this,{Lf:()=>!0,Nf:()=>!1})}S(){this.Fv.S(),this.hm!==null&&this.hm.S(),this.lm!==null&&this.lm.S(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.yv),this.Av.dispose(),this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose()}Wv(){return this._m}pm(){return this.hm}bm(){return this.lm}Jf(t){if(this.am)return;this.am=!0;const n=this.wp.qt();!n.yt().Fi()&&this.wp.W().handleScale.axisPressedMouseMove.time&&n.Hc(t.localX)}Zf(t){this.Jf(t)}Qf(){const t=this.wp.qt();!t.yt().Fi()&&this.am&&(this.am=!1,this.wp.W().handleScale.axisPressedMouseMove.time&&t.Zc())}jf(t){const n=this.wp.qt();!n.yt().Fi()&&this.wp.W().handleScale.axisPressedMouseMove.time&&n.Kc(t.localX)}Ff(t){this.jf(t)}qf(){this.am=!1;const t=this.wp.qt();t.yt().Fi()&&!this.wp.W().handleScale.axisPressedMouseMove.time||t.Zc()}$f(){this.qf()}Cf(){this.wp.W().handleScale.axisDoubleClickReset.time&&this.wp.qt().Zn()}xf(){this.Cf()}Vf(){this.wp.qt().W().handleScale.axisPressedMouseMove.time&&this.ep(1)}av(){this.ep(0)}Hp(){return this.bv}wm(){return this.om}gm(t,n,i){Ye(this.bv,t)||(this.bv=t,this.xv=!0,this.Ov.resizeCanvasElement(t),this.Av.resizeCanvasElement(t),this.xv=!1,this.Dv.style.width=`${t.width}px`,this.Dv.style.height=`${t.height}px`,this.om.m(t)),this.hm!==null&&this.hm.qv($({width:n,height:t.height})),this.lm!==null&&this.lm.qv($({width:i,height:t.height}))}Mm(){const t=this.xm();return Math.ceil(t.C+t.T+t.P+t.L+t.V+t.Sm)}gt(){this.wp.qt().yt().Ea()}np(){return this.Ov.bitmapSize}sp(t,n,i){const s=this.np();s.width>0&&s.height>0&&t.drawImage(this.Ov.canvasElement,n,i)}Kv(t){if(t===0)return;if(t!==1){this.Ov.applySuggestedBitmapSize();const i=sn(this.Ov);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.Gv(s),this.Be(s),this.km(i,yy)}),this.Qv(i),this.km(i,vy)),this.hm!==null&&this.hm.Kv(t),this.lm!==null&&this.lm.Kv(t)}this.Av.applySuggestedBitmapSize();const n=sn(this.Av);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.ym([...this.wp.qt().Mt(),this.wp.qt().Nc()],n),this.km(n,gy))}km(t,n){const i=this.wp.qt().Mt();for(const s of i)Wl(n,r=>Al(r,t,!1,void 0),s,void 0);for(const s of i)Wl(n,r=>Hs(r,t,!1,void 0),s,void 0)}Gv({context:t,bitmapSize:n}){Br(t,0,0,n.width,n.height,this.wp.qt().ad())}Be({context:t,bitmapSize:n,verticalPixelRatio:i}){if(this.wp.W().timeScale.borderVisible){t.fillStyle=this.Cm();const s=Math.max(1,Math.floor(this.xm().C*i));t.fillRect(0,0,n.width,s)}}Qv(t){const n=this.wp.qt().yt(),i=n.Ea();if(!i||i.length===0)return;const s=this.N_.maxTickMarkWeight(i),r=this.xm(),o=n.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:u,verticalPixelRatio:h})=>{l.strokeStyle=this.Cm(),l.fillStyle=this.Cm();const a=Math.max(1,Math.floor(u)),c=Math.floor(.5*u);l.beginPath();const f=Math.round(r.T*h);for(let v=i.length;v--;){const m=Math.round(i[v].coord*u);l.rect(m-c,0,a,f)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const u=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this.$v();for(const h of i)if(h.weight<s){const a=h.needAlignCoordinate?this.Tm(l,h.coord,h.label):h.coord;l.fillText(h.label,a,u)}l.font=this.Pm();for(const h of i)if(h.weight>=s){const a=h.needAlignCoordinate?this.Tm(l,h.coord,h.label):h.coord;l.fillText(h.label,a,u)}})}Tm(t,n,i){const s=this.gv.Si(t,i),r=s/2,o=Math.floor(n-r)+.5;return o<0?n+=Math.abs(0-o):o+s>this.bv.width&&(n-=Math.abs(this.bv.width-(o+s))),n}ym(t,n){const i=this.xm();for(const s of t)for(const r of s.tn())r.xt().K(n,i)}Cm(){return this.wp.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}$v(){return Vn(this.j(),this.cn.fontFamily)}Pm(){return Vn(this.j(),this.cn.fontFamily,"bold")}xm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Hi:NaN,T:5,P:NaN,R:"",ji:new Vi,Sm:0});const t=this.k,n=this.$v();if(t.R!==n){const i=this.j();t.P=i,t.R=n,t.L=3*i/12,t.V=3*i/12,t.Hi=9*i/12,t.N=0,t.Sm=4*i/12,t.ji.ir()}return this.k}ep(t){this.Dv.style.cursor=t===1?"ew-resize":"default"}vm(){const t=this.wp.qt(),n=t.W();n.leftPriceScale.visible||this.hm===null||(this.um.removeChild(this.hm.Wv()),this.hm.S(),this.hm=null),n.rightPriceScale.visible||this.lm===null||(this.dm.removeChild(this.lm.Wv()),this.lm.S(),this.lm=null);const i={nd:this.wp.qt().nd()},s=()=>n.leftPriceScale.borderVisible&&t.yt().W().borderVisible,r=()=>t.ad();n.leftPriceScale.visible&&this.hm===null&&(this.hm=new ec("left",n,i,s,r),this.um.appendChild(this.hm.Wv())),n.rightPriceScale.visible&&this.lm===null&&(this.lm=new ec("right",n,i,s,r),this.dm.appendChild(this.lm.Wv()))}}const Sy=!!Un&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(e=>e.brand.includes("Chromium"))&&!!Un&&(!((zo=navigator==null?void 0:navigator.userAgentData)===null||zo===void 0)&&zo.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var zo;class _y{constructor(t,n,i){var s;this.Rm=[],this.Dm=0,this.Qa=0,this.e_=0,this.Om=0,this.Am=0,this.Vm=null,this.Bm=!1,this._p=new X,this.up=new X,this.gc=new X,this.Im=null,this.zm=null,this.Em=t,this.cn=n,this.N_=i,this._m=document.createElement("div"),this._m.classList.add("tv-lightweight-charts"),this._m.style.overflow="hidden",this._m.style.direction="ltr",this._m.style.width="100%",this._m.style.height="100%",(s=this._m).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.Lm=document.createElement("table"),this.Lm.setAttribute("cellspacing","0"),this._m.appendChild(this.Lm),this.Nm=this.Fm.bind(this),Ro(this.cn)&&this.Wm(!0),this.Ui=new ry(this.xc.bind(this),this.cn,i),this.qt().Fc().l(this.jm.bind(this),this),this.Hm=new wy(this,this.N_),this.Lm.appendChild(this.Hm.Wv());const r=n.autoSize&&this.$m();let o=this.cn.width,l=this.cn.height;if(r||o===0||l===0){const u=t.getBoundingClientRect();o=o||u.width,l=l||u.height}this.Um(o,l),this.qm(),t.appendChild(this._m),this.Ym(),this.Ui.yt().Zu().l(this.Ui.$l.bind(this.Ui),this),this.Ui.f_().l(this.Ui.$l.bind(this.Ui),this)}qt(){return this.Ui}W(){return this.cn}Xm(){return this.Rm}Km(){return this.Hm}S(){this.Wm(!1),this.Dm!==0&&window.cancelAnimationFrame(this.Dm),this.Ui.Fc().p(this),this.Ui.yt().Zu().p(this),this.Ui.f_().p(this),this.Ui.S();for(const t of this.Rm)this.Lm.removeChild(t.Wv()),t.Np().p(this),t.Fp().p(this),t.S();this.Rm=[],S(this.Hm).S(),this._m.parentElement!==null&&this._m.parentElement.removeChild(this._m),this.gc.S(),this._p.S(),this.up.S(),this.Zm()}Um(t,n,i=!1){if(this.Qa===n&&this.e_===t)return;const s=function(l){const u=Math.floor(l.width),h=Math.floor(l.height);return $({width:u-u%2,height:h-h%2})}($({width:t,height:n}));this.Qa=s.height,this.e_=s.width;const r=this.Qa+"px",o=this.e_+"px";S(this._m).style.height=r,S(this._m).style.width=o,this.Lm.style.height=r,this.Lm.style.width=o,i?this.Gm(rt.es(),performance.now()):this.Ui.$l()}Kv(t){t===void 0&&(t=rt.es());for(let n=0;n<this.Rm.length;n++)this.Rm[n].Kv(t.Hn(n).Fn);this.cn.timeScale.visible&&this.Hm.Kv(t.jn())}Nh(t){const n=Ro(this.cn);this.Ui.Nh(t);const i=Ro(this.cn);i!==n&&this.Wm(i),this.Ym(),this.Jm(t)}Np(){return this._p}Fp(){return this.up}Fc(){return this.gc}Qm(){this.Vm!==null&&(this.Gm(this.Vm,performance.now()),this.Vm=null);const t=this.tb(null),n=document.createElement("canvas");n.width=t.width,n.height=t.height;const i=S(n.getContext("2d"));return this.tb(i),n}ib(t){return t==="left"&&!this.nb()||t==="right"&&!this.sb()||this.Rm.length===0?0:S(t==="left"?this.Rm[0].Kp():this.Rm[0].Zp()).Yv()}eb(){return this.cn.autoSize&&this.Im!==null}rb(){return this._m}Ap(t){this.zm=t,this.zm?this.rb().style.setProperty("cursor",t):this.rb().style.removeProperty("cursor")}hb(){return this.zm}lb(){return pt(this.Rm[0]).Hp()}Jm(t){(t.autoSize!==void 0||!this.Im||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Im&&this.$m(),t.autoSize===!1&&this.Im!==null&&this.Zm(),t.autoSize||t.width===void 0&&t.height===void 0||this.Um(t.width||this.e_,t.height||this.Qa))}tb(t){let n=0,i=0;const s=this.Rm[0],r=(l,u)=>{let h=0;for(let a=0;a<this.Rm.length;a++){const c=this.Rm[a],f=S(l==="left"?c.Kp():c.Zp()),v=f.np();t!==null&&f.sp(t,u,h),h+=v.height}};this.nb()&&(r("left",0),n+=S(s.Kp()).np().width);for(let l=0;l<this.Rm.length;l++){const u=this.Rm[l],h=u.np();t!==null&&u.sp(t,n,i),i+=h.height}n+=s.np().width,this.sb()&&(r("right",n),n+=S(s.Zp()).np().width);const o=(l,u,h)=>{S(l==="left"?this.Hm.pm():this.Hm.bm()).sp(S(t),u,h)};if(this.cn.timeScale.visible){const l=this.Hm.np();if(t!==null){let u=0;this.nb()&&(o("left",u,i),u=S(s.Kp()).np().width),this.Hm.sp(t,u,i),u+=l.width,this.sb()&&o("right",u,i)}i+=l.height}return $({width:n,height:i})}ab(){let t=0,n=0,i=0;for(const m of this.Rm)this.nb()&&(n=Math.max(n,S(m.Kp()).Hv(),this.cn.leftPriceScale.minimumWidth)),this.sb()&&(i=Math.max(i,S(m.Zp()).Hv(),this.cn.rightPriceScale.minimumWidth)),t+=m.v_();n=Fl(n),i=Fl(i);const s=this.e_,r=this.Qa,o=Math.max(s-n-i,0),l=this.cn.timeScale.visible;let u=l?Math.max(this.Hm.Mm(),this.cn.timeScale.minimumHeight):0;var h;u=(h=u)+h%2;const a=0+u,c=r<a?0:r-a,f=c/t;let v=0;for(let m=0;m<this.Rm.length;++m){const g=this.Rm[m];g.Cp(this.Ui.Ec()[m]);let k=0,p=0;p=m===this.Rm.length-1?c-v:Math.round(g.v_()*f),k=Math.max(p,2),v+=k,g.qv($({width:o,height:k})),this.nb()&&g.jp(n,"left"),this.sb()&&g.jp(i,"right"),g.Xv()&&this.Ui.Wc(g.Xv(),k)}this.Hm.gm($({width:l?o:0,height:u}),l?n:0,l?i:0),this.Ui.m_(o),this.Om!==n&&(this.Om=n),this.Am!==i&&(this.Am=i)}Wm(t){t?this._m.addEventListener("wheel",this.Nm,{passive:!1}):this._m.removeEventListener("wheel",this.Nm)}ob(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Sy?1/window.devicePixelRatio:1}Fm(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.ob(t),i=n*t.deltaX/100,s=-n*t.deltaY/100;if(t.cancelable&&t.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),o=t.clientX-this._m.getBoundingClientRect().left;this.qt().$c(o,r)}i!==0&&this.cn.handleScroll.mouseWheel&&this.qt().Uc(-80*i)}Gm(t,n){var i;const s=t.jn();s===3&&this._b(),s!==3&&s!==2||(this.ub(t),this.cb(t,n),this.Hm.gt(),this.Rm.forEach(r=>{r.Pp()}),((i=this.Vm)===null||i===void 0?void 0:i.jn())===3&&(this.Vm.ts(t),this._b(),this.ub(this.Vm),this.cb(this.Vm,n),t=this.Vm,this.Vm=null)),this.Kv(t)}cb(t,n){for(const i of t.Qn())this.ns(i,n)}ub(t){const n=this.Ui.Ec();for(let i=0;i<n.length;i++)t.Hn(i).Wn&&n[i].V_()}ns(t,n){const i=this.Ui.yt();switch(t.qn){case 0:i.Ju();break;case 1:i.Qu(t.Vt);break;case 2:i.Gn(t.Vt);break;case 3:i.Jn(t.Vt);break;case 4:i.Nu();break;case 5:t.Vt.qu(n)||i.Jn(t.Vt.Yu(n))}}xc(t){this.Vm!==null?this.Vm.ts(t):this.Vm=t,this.Bm||(this.Bm=!0,this.Dm=window.requestAnimationFrame(n=>{if(this.Bm=!1,this.Dm=0,this.Vm!==null){const i=this.Vm;this.Vm=null,this.Gm(i,n);for(const s of i.Qn())if(s.qn===5&&!s.Vt.qu(n)){this.qt().Xn(s.Vt);break}}}))}_b(){this.qm()}qm(){const t=this.Ui.Ec(),n=t.length,i=this.Rm.length;for(let s=n;s<i;s++){const r=pt(this.Rm.pop());this.Lm.removeChild(r.Wv()),r.Np().p(this),r.Fp().p(this),r.S()}for(let s=i;s<n;s++){const r=new Yu(this,t[s]);r.Np().l(this.fb.bind(this),this),r.Fp().l(this.vb.bind(this),this),this.Rm.push(r),this.Lm.insertBefore(r.Wv(),this.Hm.Wv())}for(let s=0;s<n;s++){const r=t[s],o=this.Rm[s];o.Xv()!==r?o.Cp(r):o.yp()}this.Ym(),this.ab()}pb(t,n,i){var s;const r=new Map;t!==null&&this.Ui.Mt().forEach(a=>{const c=a.In().nl(t);c!==null&&r.set(a,c)});let o;if(t!==null){const a=(s=this.Ui.yt().qi(t))===null||s===void 0?void 0:s.originalTime;a!==void 0&&(o=a)}const l=this.qt().Ac(),u=l!==null&&l.Bc instanceof Qu?l.Bc:void 0,h=l!==null&&l.vv!==void 0?l.vv.wr:void 0;return{mb:o,se:t??void 0,bb:n??void 0,wb:u,gb:r,Mb:h,xb:i??void 0}}fb(t,n,i){this._p.m(()=>this.pb(t,n,i))}vb(t,n,i){this.up.m(()=>this.pb(t,n,i))}jm(t,n,i){this.gc.m(()=>this.pb(t,n,i))}Ym(){const t=this.cn.timeScale.visible?"":"none";this.Hm.Wv().style.display=t}nb(){return this.Rm[0].Xv().S_().W().visible}sb(){return this.Rm[0].Xv().k_().W().visible}$m(){return"ResizeObserver"in window&&(this.Im=new ResizeObserver(t=>{const n=t.find(i=>i.target===this.Em);n&&this.Um(n.contentRect.width,n.contentRect.height)}),this.Im.observe(this.Em,{box:"border-box"}),!0)}Zm(){this.Im!==null&&this.Im.disconnect(),this.Im=null}}function Ro(e){return!!(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function hp(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}function nc(e,t,n,i){const s=n.value,r={se:t,ut:e,Vt:[s,s,s,s],mb:i};return n.color!==void 0&&(r.O=n.color),r}function ky(e,t,n,i){const s=n.value,r={se:t,ut:e,Vt:[s,s,s,s],mb:i};return n.lineColor!==void 0&&(r._t=n.lineColor),n.topColor!==void 0&&(r.Ts=n.topColor),n.bottomColor!==void 0&&(r.Ps=n.bottomColor),r}function Ey(e,t,n,i){const s=n.value,r={se:t,ut:e,Vt:[s,s,s,s],mb:i};return n.topLineColor!==void 0&&(r.Pe=n.topLineColor),n.bottomLineColor!==void 0&&(r.Re=n.bottomLineColor),n.topFillColor1!==void 0&&(r.Se=n.topFillColor1),n.topFillColor2!==void 0&&(r.ke=n.topFillColor2),n.bottomFillColor1!==void 0&&(r.ye=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(r.Ce=n.bottomFillColor2),r}function by(e,t,n,i){const s={se:t,ut:e,Vt:[n.open,n.high,n.low,n.close],mb:i};return n.color!==void 0&&(s.O=n.color),s}function xy(e,t,n,i){const s={se:t,ut:e,Vt:[n.open,n.high,n.low,n.close],mb:i};return n.color!==void 0&&(s.O=n.color),n.borderColor!==void 0&&(s.Bt=n.borderColor),n.wickColor!==void 0&&(s.$h=n.wickColor),s}function Cy(e,t,n,i,s){const r=pt(s)(n),o=Math.max(...r),l=Math.min(...r),u=r[r.length-1],h=[u,o,l,u],a=n,{time:c,color:f}=a;return{se:t,ut:e,Vt:h,mb:i,He:hp(a,["time","color"]),O:f}}function Ps(e){return e.Vt!==void 0}function ic(e,t){return t.customValues!==void 0&&(e.Sb=t.customValues),e}function Ve(e){return(t,n,i,s,r,o)=>function(l,u){return u?u(l):(h=l).open===void 0&&h.value===void 0;var h}(i,o)?ic({ut:t,se:n,mb:s},i):ic(e(t,n,i,s,r),i)}function sc(e){return{Candlestick:Ve(xy),Bar:Ve(by),Area:Ve(ky),Baseline:Ve(Ey),Histogram:Ve(nc),Line:Ve(nc),Custom:Ve(Cy)}[e]}function rc(e){return{se:0,kb:new Map,ia:e}}function oc(e,t){if(e!==void 0&&e.length!==0)return{yb:t.key(e[0].ut),Cb:t.key(e[e.length-1].ut)}}function lc(e){let t;return e.forEach(n=>{t===void 0&&(t=n.mb)}),pt(t)}class Ly{constructor(t){this.Tb=new Map,this.Pb=new Map,this.Rb=new Map,this.Db=[],this.N_=t}S(){this.Tb.clear(),this.Pb.clear(),this.Rb.clear(),this.Db=[]}Ob(t,n){let i=this.Tb.size!==0,s=!1;const r=this.Pb.get(t);if(r!==void 0)if(this.Pb.size===1)i=!1,s=!0,this.Tb.clear();else for(const u of this.Db)u.pointData.kb.delete(t)&&(s=!0);let o=[];if(n.length!==0){const u=n.map(v=>v.time),h=this.N_.createConverterToInternalObj(n),a=sc(t.Xh()),c=t.ga(),f=t.Ma();o=n.map((v,m)=>{const g=h(v.time),k=this.N_.key(g);let p=this.Tb.get(k);p===void 0&&(p=rc(g),this.Tb.set(k,p),s=!0);const d=a(g,p.se,v,u[m],c,f);return p.kb.set(t,d),d})}i&&this.Ab(),this.Vb(t,o);let l=-1;if(s){const u=[];this.Tb.forEach(h=>{u.push({timeWeight:0,time:h.ia,pointData:h,originalTime:lc(h.kb)})}),u.sort((h,a)=>this.N_.key(h.time)-this.N_.key(a.time)),l=this.Bb(u)}return this.Ib(t,l,function(u,h,a){const c=oc(u,a),f=oc(h,a);if(c!==void 0&&f!==void 0)return{Xl:c.Cb>=f.Cb&&c.yb>=f.yb}}(this.Pb.get(t),r,this.N_))}rd(t){return this.Ob(t,[])}zb(t,n){const i=n;(function(g){g.mb===void 0&&(g.mb=g.time)})(i),this.N_.preprocessData(n);const s=this.N_.createConverterToInternalObj([n])(n.time),r=this.Rb.get(t);if(r!==void 0&&this.N_.key(s)<this.N_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let o=this.Tb.get(this.N_.key(s));const l=o===void 0;o===void 0&&(o=rc(s),this.Tb.set(this.N_.key(s),o));const u=sc(t.Xh()),h=t.ga(),a=t.Ma(),c=u(s,o.se,n,i.mb,h,a);o.kb.set(t,c),this.Eb(t,c);const f={Xl:Ps(c)};if(!l)return this.Ib(t,-1,f);const v={timeWeight:0,time:o.ia,pointData:o,originalTime:lc(o.kb)},m=Ji(this.Db,this.N_.key(v.time),(g,k)=>this.N_.key(g.time)<k);this.Db.splice(m,0,v);for(let g=m;g<this.Db.length;++g)Do(this.Db[g].pointData,g);return this.N_.fillWeightsForPoints(this.Db,m),this.Ib(t,m,f)}Eb(t,n){let i=this.Pb.get(t);i===void 0&&(i=[],this.Pb.set(t,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.N_.key(n.ut)>this.N_.key(s.ut)?Ps(n)&&i.push(n):Ps(n)?i[i.length-1]=n:i.splice(-1,1),this.Rb.set(t,n.ut)}Vb(t,n){n.length!==0?(this.Pb.set(t,n.filter(Ps)),this.Rb.set(t,n[n.length-1].ut)):(this.Pb.delete(t),this.Rb.delete(t))}Ab(){for(const t of this.Db)t.pointData.kb.size===0&&this.Tb.delete(this.N_.key(t.time))}Bb(t){let n=-1;for(let i=0;i<this.Db.length&&i<t.length;++i){const s=this.Db[i],r=t[i];if(this.N_.key(s.time)!==this.N_.key(r.time)){n=i;break}r.timeWeight=s.timeWeight,Do(r.pointData,i)}if(n===-1&&this.Db.length!==t.length&&(n=Math.min(this.Db.length,t.length)),n===-1)return-1;for(let i=n;i<t.length;++i)Do(t[i].pointData,i);return this.N_.fillWeightsForPoints(t,n),this.Db=t,n}Lb(){if(this.Pb.size===0)return null;let t=0;return this.Pb.forEach(n=>{n.length!==0&&(t=Math.max(t,n[n.length-1].se))}),t}Ib(t,n,i){const s={Nb:new Map,yt:{Ou:this.Lb()}};if(n!==-1)this.Pb.forEach((r,o)=>{s.Nb.set(o,{He:r,Fb:o===t?i:void 0})}),this.Pb.has(t)||s.Nb.set(t,{He:[],Fb:i}),s.yt.Wb=this.Db,s.yt.jb=n;else{const r=this.Pb.get(t);s.Nb.set(t,{He:r||[],Fb:i})}return s}}function Do(e,t){e.se=t,e.kb.forEach(n=>{n.se=t})}function Zu(e){const t={value:e.Vt[3],time:e.mb};return e.Sb!==void 0&&(t.customValues=e.Sb),t}function uc(e){const t=Zu(e);return e.O!==void 0&&(t.color=e.O),t}function My(e){const t=Zu(e);return e._t!==void 0&&(t.lineColor=e._t),e.Ts!==void 0&&(t.topColor=e.Ts),e.Ps!==void 0&&(t.bottomColor=e.Ps),t}function Ty(e){const t=Zu(e);return e.Pe!==void 0&&(t.topLineColor=e.Pe),e.Re!==void 0&&(t.bottomLineColor=e.Re),e.Se!==void 0&&(t.topFillColor1=e.Se),e.ke!==void 0&&(t.topFillColor2=e.ke),e.ye!==void 0&&(t.bottomFillColor1=e.ye),e.Ce!==void 0&&(t.bottomFillColor2=e.Ce),t}function ap(e){const t={open:e.Vt[0],high:e.Vt[1],low:e.Vt[2],close:e.Vt[3],time:e.mb};return e.Sb!==void 0&&(t.customValues=e.Sb),t}function Py(e){const t=ap(e);return e.O!==void 0&&(t.color=e.O),t}function Ny(e){const t=ap(e),{O:n,Bt:i,$h:s}=e;return n!==void 0&&(t.color=n),i!==void 0&&(t.borderColor=i),s!==void 0&&(t.wickColor=s),t}function Il(e){return{Area:My,Line:uc,Baseline:Ty,Histogram:uc,Bar:Py,Candlestick:Ny,Custom:Oy}[e]}function Oy(e){const t=e.mb;return Object.assign(Object.assign({},e.He),{time:t})}const zy={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Ry={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Dy={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:$u},Bo={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},By={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0},Fy={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:$u,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function hc(){return{width:0,height:0,autoSize:!1,layout:Dy,crosshair:zy,grid:Ry,overlayPriceScales:Object.assign({},Bo),leftPriceScale:Object.assign(Object.assign({},Bo),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Bo),{visible:!0}),timeScale:By,watermark:Fy,localization:{locale:Un?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Ay{constructor(t,n){this.Hb=t,this.$b=n}applyOptions(t){this.Hb.qt().Ic(this.$b,t)}options(){return this.Li().W()}width(){return Ar(this.$b)?this.Hb.ib(this.$b):0}Li(){return S(this.Hb.qt().zc(this.$b)).At}}function ac(e,t,n){const i=hp(e,["time","originalTime"]),s=Object.assign({time:t},i);return n!==void 0&&(s.originalTime=n),s}const Wy={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Iy{constructor(t){this.Bh=t}applyOptions(t){this.Bh.Nh(t)}options(){return this.Bh.W()}Ub(){return this.Bh}}class $y{constructor(t,n,i,s,r){this.qb=new X,this.Es=t,this.Yb=n,this.Xb=i,this.N_=r,this.Kb=s}S(){this.qb.S()}priceFormatter(){return this.Es.ca()}priceToCoordinate(t){const n=this.Es.Pt();return n===null?null:this.Es.At().Ot(t,n.Vt)}coordinateToPrice(t){const n=this.Es.Pt();return n===null?null:this.Es.At().pn(t,n.Vt)}barsInLogicalRange(t){if(t===null)return null;const n=new Rn(new ki(t.from,t.to)).iu(),i=this.Es.In();if(i.Fi())return null;const s=i.nl(n.Os(),1),r=i.nl(n.di(),-1),o=S(i.Qh()),l=S(i.Bn());if(s!==null&&r!==null&&s.se>r.se)return{barsBefore:t.from-o,barsAfter:l-t.to};const u={barsBefore:s===null||s.se===o?t.from-o:s.se-o,barsAfter:r===null||r.se===l?l-t.to:l-r.se};return s!==null&&r!==null&&(u.from=s.mb,u.to=r.mb),u}setData(t){this.N_,this.Es.Xh(),this.Yb.Zb(this.Es,t),this.Gb("full")}update(t){this.Es.Xh(),this.Yb.Jb(this.Es,t),this.Gb("update")}dataByIndex(t,n){const i=this.Es.In().nl(t,n);return i===null?null:Il(this.seriesType())(i)}data(){const t=Il(this.seriesType());return this.Es.In().ie().map(n=>t(n))}subscribeDataChanged(t){this.qb.l(t)}unsubscribeDataChanged(t){this.qb.v(t)}setMarkers(t){this.N_;const n=t.map(i=>ac(i,this.N_.convertHorzItemToInternal(i.time),i.time));this.Es.Zl(n)}markers(){return this.Es.Gl().map(t=>ac(t,t.originalTime,void 0))}applyOptions(t){this.Es.Nh(t)}options(){return oe(this.Es.W())}priceScale(){return this.Xb.priceScale(this.Es.At().xa())}createPriceLine(t){const n=qt(oe(Wy),t),i=this.Es.Jl(n);return new Iy(i)}removePriceLine(t){this.Es.Ql(t.Ub())}seriesType(){return this.Es.Xh()}attachPrimitive(t){this.Es.ba(t),t.attached&&t.attached({chart:this.Kb,series:this,requestUpdate:()=>this.Es.qt().$l()})}detachPrimitive(t){this.Es.wa(t),t.detached&&t.detached()}Gb(t){this.qb.M()&&this.qb.m(t)}}class Vy{constructor(t,n,i){this.Qb=new X,this.uu=new X,this.om=new X,this.Ui=t,this.wl=t.yt(),this.Hm=n,this.wl.Xu().l(this.tw.bind(this)),this.wl.Ku().l(this.iw.bind(this)),this.Hm.wm().l(this.nw.bind(this)),this.N_=i}S(){this.wl.Xu().p(this),this.wl.Ku().p(this),this.Hm.wm().p(this),this.Qb.S(),this.uu.S(),this.om.S()}scrollPosition(){return this.wl.zu()}scrollToPosition(t,n){n?this.wl.Uu(t,1e3):this.Ui.Jn(t)}scrollToRealTime(){this.wl.$u()}getVisibleRange(){const t=this.wl.yu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const n={from:this.N_.convertHorzItemToInternal(t.from),to:this.N_.convertHorzItemToInternal(t.to)},i=this.wl.Pu(n);this.Ui.hd(i)}getVisibleLogicalRange(){const t=this.wl.ku();return t===null?null:{from:t.Os(),to:t.di()}}setVisibleLogicalRange(t){De(t.from<=t.to,"The from index cannot be after the to index."),this.Ui.hd(t)}resetTimeScale(){this.Ui.Zn()}fitContent(){this.Ui.Ju()}logicalToCoordinate(t){const n=this.Ui.yt();return n.Fi()?null:n.Et(t)}coordinateToLogical(t){return this.wl.Fi()?null:this.wl.Au(t)}timeToCoordinate(t){const n=this.N_.convertHorzItemToInternal(t),i=this.wl.ya(n,!1);return i===null?null:this.wl.Et(i)}coordinateToTime(t){const n=this.Ui.yt(),i=n.Au(t),s=n.qi(i);return s===null?null:s.originalTime}width(){return this.Hm.Hp().width}height(){return this.Hm.Hp().height}subscribeVisibleTimeRangeChange(t){this.Qb.l(t)}unsubscribeVisibleTimeRangeChange(t){this.Qb.v(t)}subscribeVisibleLogicalRangeChange(t){this.uu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.uu.v(t)}subscribeSizeChange(t){this.om.l(t)}unsubscribeSizeChange(t){this.om.v(t)}applyOptions(t){this.wl.Nh(t)}options(){return Object.assign(Object.assign({},oe(this.wl.W())),{barSpacing:this.wl.he()})}tw(){this.Qb.M()&&this.Qb.m(this.getVisibleRange())}iw(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}nw(t){this.om.m(t.width,t.height)}}function Uy(e){if(e===void 0||e.type==="custom")return;const t=e;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(n){if(n>=1)return 0;let i=0;for(;i<8;i++){const s=Math.round(n);if(Math.abs(s-n)<1e-8)return i;n*=10}return i}(t.minMove))}function cc(e){return function(t){if(_s(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=t.handleScale;_s(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),_s(s)&&(t.handleScale.axisDoubleClickReset={time:s,price:s})}const n=t.handleScroll;_s(n)&&(t.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(e),e}class jy{constructor(t,n,i){this.sw=new Map,this.ew=new Map,this.rw=new X,this.hw=new X,this.lw=new X,this.aw=new Ly(n);const s=i===void 0?oe(hc()):qt(oe(hc()),cc(i));this.N_=n,this.Hb=new _y(t,s,n),this.Hb.Np().l(o=>{this.rw.M()&&this.rw.m(this.ow(o()))},this),this.Hb.Fp().l(o=>{this.hw.M()&&this.hw.m(this.ow(o()))},this),this.Hb.Fc().l(o=>{this.lw.M()&&this.lw.m(this.ow(o()))},this);const r=this.Hb.qt();this._w=new Vy(r,this.Hb.Km(),this.N_)}remove(){this.Hb.Np().p(this),this.Hb.Fp().p(this),this.Hb.Fc().p(this),this._w.S(),this.Hb.S(),this.sw.clear(),this.ew.clear(),this.rw.S(),this.hw.S(),this.lw.S(),this.aw.S()}resize(t,n,i){this.autoSizeActive()||this.Hb.Um(t,n,i)}addCustomSeries(t,n){const i=Cn(t),s=Object.assign(Object.assign({},Id),i.defaultOptions());return this.uw("Custom",s,n,i)}addAreaSeries(t){return this.uw("Area",P0,t)}addBaselineSeries(t){return this.uw("Baseline",N0,t)}addBarSeries(t){return this.uw("Bar",M0,t)}addCandlestickSeries(t={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(t),this.uw("Candlestick",L0,t)}addHistogramSeries(t){return this.uw("Histogram",O0,t)}addLineSeries(t){return this.uw("Line",T0,t)}removeSeries(t){const n=pt(this.sw.get(t)),i=this.aw.rd(n);this.Hb.qt().rd(n),this.cw(i),this.sw.delete(t),this.ew.delete(n)}Zb(t,n){this.cw(this.aw.Ob(t,n))}Jb(t,n){this.cw(this.aw.zb(t,n))}subscribeClick(t){this.rw.l(t)}unsubscribeClick(t){this.rw.v(t)}subscribeCrosshairMove(t){this.lw.l(t)}unsubscribeCrosshairMove(t){this.lw.v(t)}subscribeDblClick(t){this.hw.l(t)}unsubscribeDblClick(t){this.hw.v(t)}priceScale(t){return new Ay(this.Hb,t)}timeScale(){return this._w}applyOptions(t){this.Hb.Nh(cc(t))}options(){return this.Hb.W()}takeScreenshot(){return this.Hb.Qm()}autoSizeActive(){return this.Hb.eb()}chartElement(){return this.Hb.rb()}paneSize(){const t=this.Hb.lb();return{height:t.height,width:t.width}}setCrosshairPosition(t,n,i){const s=this.sw.get(i);if(s===void 0)return;const r=this.Hb.qt().cr(s);r!==null&&this.Hb.qt().Jc(t,n,r)}clearCrosshairPosition(){this.Hb.qt().Qc(!0)}uw(t,n,i={},s){Uy(i.priceFormat);const r=qt(oe($d),oe(n),i),o=this.Hb.qt().sd(t,r,s),l=new $y(o,this,this,this,this.N_);return this.sw.set(l,o),this.ew.set(o,l),l}cw(t){const n=this.Hb.qt();n.td(t.yt.Ou,t.yt.Wb,t.yt.jb),t.Nb.forEach((i,s)=>s.it(i.He,i.Fb)),n.Bu()}dw(t){return pt(this.ew.get(t))}ow(t){const n=new Map;t.gb.forEach((s,r)=>{const o=r.Xh(),l=Il(o)(s);if(o!=="Custom")De(function(u){return u.open!==void 0||u.value!==void 0}(l));else{const u=r.Ma();De(!u||u(l)===!1)}n.set(this.dw(r),l)});const i=t.wb===void 0?void 0:this.dw(t.wb);return{time:t.mb,logical:t.se,point:t.bb,hoveredSeries:i,hoveredObjectId:t.Mb,seriesData:n,sourceEvent:t.xb}}}function Hy(e,t,n){let i;if(Xi(e)){const r=document.getElementById(e);De(r!==null,`Cannot find element in DOM with id=${e}`),i=r}else i=e;const s=new jy(i,t,n);return t.setOptions(s.options()),s}function qy(e,t){return Hy(e,new Ya,Ya.Cd(t))}Object.assign(Object.assign({},$d),Id);const Ky="_overlay_1sbl8_1",Qy="_legend_1sbl8_3",Xy="_legendItem_1sbl8_5",Jy="_legendLabel_1sbl8_7",Yy="_legendValue_1sbl8_9",Gy="_tooltip_1sbl8_11",Zy="_current_1sbl8_13",Ue={overlay:Ky,legend:Qy,legendItem:Xy,legendLabel:Jy,legendValue:Yy,tooltip:Gy,current:Zy};function t1({legendItems:e=[],currentValue:t="—",tooltip:n={},tooltipId:i="chart-tooltip",tooltipRef:s=null,legendRef:r=null}){return P.createElement("div",{className:Ue.overlay},P.createElement("div",{className:Ue.legend,role:"status","aria-live":"polite",ref:r},e.map((o,l)=>P.createElement("div",{key:l,className:Ue.legendItem},P.createElement("span",{className:Ue.legendLabel},o.label),P.createElement("span",{className:Ue.legendValue},o.value))),P.createElement("div",{className:Ue.current,"aria-hidden":"true"},`Current: ${t}`)),P.createElement("div",{id:i,role:"tooltip","aria-hidden":n.visible?"false":"true",className:Ue.tooltip,style:{left:n.left,top:n.top},ref:s},n.text))}function e1({signals:e}){const t=J.useRef(null),n=J.useRef(null),i=J.useRef(null),s=J.useRef(null),r=J.useRef([]),o=J.useRef(null),l=J.useRef(null);J.useEffect(()=>{const a=t.current;if(!a)return;const c=qy(a,{width:a.clientWidth,height:a.clientHeight||320,layout:{background:{color:"#fff"},textColor:"#222"},rightPriceScale:{visible:!0},timeScale:{timeVisible:!0,secondsVisible:!1},grid:{vertLines:{visible:!1},horzLines:{color:"#eee"}}}),f=c.addLineSeries({color:"#2b8bd1",lineWidth:2});n.current={chart:c,line:f};const v=new ResizeObserver(()=>{const m=t.current;if(m)try{c.resize(m.clientWidth,m.clientHeight||320)}catch{}});return v.observe(a),s.current=v,()=>{s.current&&s.current.disconnect(),i.current&&cancelAnimationFrame(i.current),c.remove()}},[]),J.useEffect(()=>{const a=n.current||{line:{setData:()=>{},setMarkers:()=>{}},chart:null};i.current&&cancelAnimationFrame(i.current);const c=(e||[]).slice(0,1e3),f=c.slice().reverse().map(v=>({time:Math.floor(new Date(v.timestamp).getTime()/1e3),value:Number(v.score||0)}));return r.current=f,i.current=requestAnimationFrame(()=>{a.line.setData(f);const v=c.filter(m=>m.signal).slice(0,50).map(m=>({time:Math.floor(new Date(m.timestamp).getTime()/1e3),position:"below",color:m.signal==="BUY"?"#2e7d32":"#c62828",shape:"arrowUp",text:`${m.symbol} ${m.signal}`}));try{a.line.setMarkers(v)}catch{}try{const m=f[f.length-1];l.current&&m&&(l.current.textContent=`Current: ${m.value.toFixed(2)}`)}catch{}}),()=>{i.current&&cancelAnimationFrame(i.current)}},[e]),J.useEffect(()=>{const a=t.current;if(!a)return;function c(v){if(!(r.current||[]).length)return;const g=a.getBoundingClientRect(),k=v.clientX-g.left,p=u(k,g);p&&(o.current&&(o.current.style.display="block",o.current.style.left=Math.max(4,Math.min(g.width-10,k))+"px",o.current.style.top="8px",o.current.textContent=`${new Date(p.time*1e3).toLocaleTimeString()} — ${p.value.toFixed(2)}`,o.current.setAttribute("aria-hidden","false")),l.current&&(l.current.textContent=`Current: ${p.value.toFixed(2)}`))}function f(){o.current&&(o.current.style.display="none",o.current.setAttribute("aria-hidden","true"))}return a.addEventListener("pointermove",c),a.addEventListener("mousemove",c),a.addEventListener("pointerleave",f),a.addEventListener("mouseleave",f),()=>{a.removeEventListener("pointermove",c),a.removeEventListener("mousemove",c),a.removeEventListener("pointerleave",f),a.removeEventListener("mouseleave",f)}},[]),J.useEffect(()=>{const a=t.current;if(!a)return;function c(){const v=r.current||[];if(!v.length)return;const m=v[v.length-1];m&&o.current&&(o.current.style.display="block",o.current.style.left="50%",o.current.style.top="8px",o.current.textContent=`${new Date(m.time*1e3).toLocaleTimeString()} — ${m.value.toFixed(2)}`,o.current.setAttribute("aria-hidden","false"))}function f(){o.current&&(o.current.style.display="none",o.current.setAttribute("aria-hidden","true"))}return a.setAttribute("tabindex","0"),a.addEventListener("focus",c),a.addEventListener("blur",f),()=>{a.removeEventListener("focus",c),a.removeEventListener("blur",f),a.removeAttribute("tabindex")}},[]);function u(a,c){const f=r.current||[];if(!f.length)return null;const v=a/c.width;let m=Math.max(0,Math.min(f.length-1,Math.floor(v*f.length))),g=f[m],k=Math.abs(m-v*f.length);for(let p=-3;p<=3;p++){const d=m+p;if(d<0||d>=f.length)continue;const y=Math.abs(d-v*f.length);y<k&&(k=y,g=f[d])}return g}const h=[{label:"Series 1",value:r.current&&r.current.length?r.current[r.current.length-1].value.toFixed(2):"—"}];return P.createElement("div",{className:"chart-panel"},P.createElement("div",{ref:t,className:"chart-area"}),P.createElement(t1,{legendItems:h,currentValue:h[0].value,tooltipId:"chart-tooltip",tooltipRef:o,legendRef:l}))}async function n1(){try{return{data:await(await fetch("/api/rules")).json()}}catch{return{data:[]}}}async function i1(e,t){try{return{data:await(await fetch(`/api/rules/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}}catch(n){throw n}}function s1(){const[e,t]=J.useState([]),n=J.useRef(null);J.useEffect(()=>{let s=!0;n1().then(o=>{s&&t(o.data||[])}).catch(()=>{});const r=yi(void 0,{path:"/socket.io"});return n.current=r,r.on("rule_config_updated",o=>{t(l=>{const u=l.findIndex(a=>a.name===o.name);if(u===-1)return[o,...l];const h=[...l];return h[u]=o,h})}),()=>{s=!1,n.current&&n.current.disconnect()}},[]);const i=async s=>{const r=e;t(o=>o.map(l=>l.name===s.name?{...l,enabled:!l.enabled}:l));try{const o=await i1(s.name,{enabled:!s.enabled,config:s.config||{}});t(l=>l.map(u=>u.name===o.data.name?o.data:u))}catch(o){t(r),console.error("Failed to toggle rule",o)}};return P.createElement("div",null,P.createElement("h3",null,"Rules"),P.createElement("ul",null,e.map((s,r)=>P.createElement("li",{key:r,style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},P.createElement("div",null,P.createElement("strong",null,s.name),P.createElement("div",{style:{fontSize:12,color:"#666"}}," ",s.enabled?"enabled":"disabled")),P.createElement("div",null,P.createElement("button",{onClick:()=>i(s)},s.enabled?"Disable":"Enable"))))))}function r1(){const[e,t]=J.useState(!1),[n,i]=J.useState([]),s=J.useRef(null);return J.useEffect(()=>{let r=!0;fetch("/api/signals?limit=50").then(l=>l.json()).then(l=>{r&&i(l.data||[])}).catch(()=>{});const o=yi(void 0,{path:"/socket.io"});return s.current=o,o.on("connect",()=>t(!0)),o.on("disconnect",()=>t(!1)),o.on("signal",l=>{i(u=>[l,...u].slice(0,200))}),()=>{r=!1,o.disconnect()}},[]),P.createElement("div",{className:"bn-dashboard"},P.createElement("div",null,P.createElement("header",{className:"bn-header"},P.createElement("h2",{style:{margin:0}},"Signal feed"),P.createElement("div",{style:{fontSize:12,color:e?"#2e7d32":"#c62828"}},"Socket: ",e?"connected":"disconnected")),P.createElement("div",{className:"bn-card",style:{marginTop:12,position:"relative"}},P.createElement("div",{className:"chart-current-value"},"Current: —"),P.createElement(e1,{signals:n})),P.createElement("section",{style:{marginTop:12},className:"bn-card"},P.createElement("h3",{style:{marginTop:0}},"Recent signals"),P.createElement("ul",{className:"bn-recent-list"},n.map((r,o)=>P.createElement("li",{key:o},r.symbol," ",P.createElement("strong",{style:{marginLeft:6}},r.signal)," ",P.createElement("span",{style:{color:"#666",marginLeft:8}},"@",new Date(r.timestamp).toLocaleTimeString())," ",P.createElement("em",{style:{float:"right",color:"#999"}},r.rule_name)))))),P.createElement("aside",{className:"bn-aside"},P.createElement("div",{className:"bn-card"},P.createElement(s1,null))))}function o1(){return P.createElement("div",null,P.createElement("header",{style:{padding:12,borderBottom:"1px solid #eee",background:"var(--bn-card-bg)"}},P.createElement("h1",{style:{margin:0}},"BankNifty Signals — Dashboard")),P.createElement("main",{style:{padding:12}},P.createElement(r1,null)))}const fc=document.getElementById("root");fc&&xd(fc).render(P.createElement(o1,null));
